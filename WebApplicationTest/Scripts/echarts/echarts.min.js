(function(n,t){typeof exports=="object"&&typeof module!="undefined"?t(exports):typeof define=="function"&&define.amd?define(["exports"],t):t(n.echarts={})})(this,function(n){"use strict";function uir(n){var t={},i=n.match(/Firefox\/([\d.]+)/),r=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),u=n.match(/Edge\/([\d.]+)/),f=/micromessenger/i.test(n);return i&&(t.firefox=!0,t.version=i[1]),r&&(t.ie=!0,t.version=r[1]),u&&(t.edge=!0,t.version=u[1]),f&&(t.weChat=!0),{browser:t,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:typeof SVGRect!="undefined",touchEventsSupported:"ontouchstart"in window&&!t.ie&&!t.edge,pointerEventsSupported:"onpointerdown"in window&&(t.edge||t.ie&&t.version>=11)}}function lkt(n,t){vut[n]=t}function c(n){var i,r,e,t,u,f;if(n==null||typeof n!="object")return n;if(i=n,r=sb.call(n),r==="[object Array]")for(i=[],t=0,u=n.length;t<u;t++)i[t]=c(n[t]);else if(fir[r])if(e=n.constructor,n.constructor.from)i=e.from(n);else for(i=new e(n.length),t=0,u=n.length;t<u;t++)i[t]=c(n[t]);else if(!ckt[r]&&!hb(n)&&!hl(n)){i={};for(f in n)n.hasOwnProperty(f)&&(i[f]=c(n[f]))}return i}function a(n,t,i){var u,f,e;if(!y(t)||!y(n))return i?c(t):n;for(u in t)t.hasOwnProperty(u)&&(f=n[u],e=t[u],!y(e)||!y(f)||r(e)||r(f)||hl(e)||hl(f)||put(e)||put(f)||hb(e)||hb(f)?!i&&u in n||(n[u]=c(t[u],!0)):a(f,e,i));return n}function bv(n,t){for(var i=n[0],r=1,u=n.length;r<u;r++)i=a(i,n[r],t);return i}function s(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function l(n,t,i){for(var r in t)t.hasOwnProperty(r)&&(i?t[r]!=null:n[r]==null)&&(n[r]=t[r]);return n}function akt(){return yut||(yut=ds().getContext("2d")),yut}function w(n,t){if(n){if(n.indexOf)return n.indexOf(t);for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i}return-1}function st(n,t){function u(){}var r=n.prototype,i;u.prototype=t.prototype;n.prototype=new u;for(i in r)n.prototype[i]=r[i];n.prototype.constructor=n;n.superClass=t}function nt(n,t,i){n="prototype"in n?n.prototype:n;t="prototype"in t?t.prototype:t;l(n,t,i)}function gs(n){if(n)return typeof n=="string"?!1:typeof n.length=="number"}function t(n,t,i){var r,f,u;if(n&&t)if(n.forEach&&n.forEach===eir)n.forEach(t,i);else if(n.length===+n.length)for(r=0,f=n.length;r<f;r++)t.call(i,n[r],r,n);else for(u in n)n.hasOwnProperty(u)&&t.call(i,n[u],u,n)}function i(n,t,i){var u,r,f;if(n&&t){if(n.map&&n.map===sir)return n.map(t,i);for(u=[],r=0,f=n.length;r<f;r++)u.push(t.call(i,n[r],r,n));return u}}function sl(n,t,i,r){if(n&&t){if(n.reduce&&n.reduce===hir)return n.reduce(t,i,r);for(var u=0,f=n.length;u<f;u++)i=t.call(r,i,n[u],u,n);return i}}function hr(n,t,i){var u,r,f;if(n&&t){if(n.filter&&n.filter===oir)return n.filter(t,i);for(u=[],r=0,f=n.length;r<f;r++)t.call(i,n[r],r,n)&&u.push(n[r]);return u}}function cir(n,t,i){if(n&&t)for(var r=0,u=n.length;r<u;r++)if(t.call(i,n[r],r,n))return n[r]}function h(n,t){var i=wv.call(arguments,2);return function(){return n.apply(t,i.concat(wv.call(arguments)))}}function o(n){var t=wv.call(arguments,1);return function(){return n.apply(this,t.concat(wv.call(arguments)))}}function r(n){return sb.call(n)==="[object Array]"}function fo(n){return typeof n=="function"}function li(n){return sb.call(n)==="[object String]"}function y(n){var t=typeof n;return t==="function"||!!n&&t=="object"}function put(n){return!!ckt[sb.call(n)]}function hl(n){return typeof n=="object"&&typeof n.nodeType=="number"&&typeof n.ownerDocument=="object"}function kv(n){return n!==n}function kt(){for(var n=0,t=arguments.length;n<t;n++)if(arguments[n]!=null)return arguments[n]}function si(n,t){return n!=null?n:t}function nh(n,t,i){return n!=null?n:t!=null?t:i}function wut(){return Function.call.apply(wv,arguments)}function but(n){if(typeof n=="number")return[n,n,n,n];var t=n.length;return t===2?[n[0],n[1],n[0],n[1]]:t===3?[n[0],n[1],n[2],n[1]]:n}function ct(n,t){if(!n)throw new Error(t);}function vkt(n){n[kut]=!0}function hb(n){return n[kut]}function dut(n){n&&t(n,function(n,t){this.set(t,n)},this)}function ui(n){return new dut(n)}function pi(){}function eo(n,t){var i=new gut(2);return n==null&&(n=0),t==null&&(t=0),i[0]=n,i[1]=t,i}function di(n,t){return n[0]=t[0],n[1]=t[1],n}function yu(n){var t=new gut(2);return t[0]=n[0],t[1]=n[1],t}function wkt(n,t,i){return n[0]=t,n[1]=i,n}function nft(n,t,i){return n[0]=t[0]+i[0],n[1]=t[1]+i[1],n}function dv(n,t,i,r){return n[0]=t[0]+i[0]*r,n[1]=t[1]+i[1]*r,n}function ee(n,t,i){return n[0]=t[0]-i[0],n[1]=t[1]-i[1],n}function gv(n){return Math.sqrt(tft(n))}function tft(n){return n[0]*n[0]+n[1]*n[1]}function lir(n,t,i){return n[0]=t[0]*i[0],n[1]=t[1]*i[1],n}function air(n,t,i){return n[0]=t[0]/i[0],n[1]=t[1]/i[1],n}function vir(n,t){return n[0]*t[0]+n[1]*t[1]}function lb(n,t,i){return n[0]=t[0]*i,n[1]=t[1]*i,n}function cl(n,t){var i=gv(t);return i===0?(n[0]=0,n[1]=0):(n[0]=t[0]/i,n[1]=t[1]/i),n}function ny(n,t){return Math.sqrt((n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1]))}function dkt(n,t){return(n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1])}function yir(n,t){return n[0]=-t[0],n[1]=-t[1],n}function gkt(n,t,i,r){return n[0]=t[0]+r*(i[0]-t[0]),n[1]=t[1]+r*(i[1]-t[1]),n}function lt(n,t,i){var r=t[0],u=t[1];return n[0]=i[0]*r+i[2]*u+i[4],n[1]=i[1]*r+i[3]*u+i[5],n}function se(n,t,i){return n[0]=Math.min(t[0],i[0]),n[1]=Math.min(t[1],i[1]),n}function he(n,t,i){return n[0]=Math.max(t[0],i[0]),n[1]=Math.max(t[1],i[1]),n}function ab(){this.on("mousedown",this._dragStart,this);this.on("mousemove",this._drag,this);this.on("mouseup",this._dragEnd,this);this.on("globalout",this._dragEnd,this)}function ll(n,t){return{target:n,topTarget:t&&t.topTarget}}function pir(n,t,i){return{type:n,event:i,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta,zrByTouch:i.zrByTouch,which:i.which}}function tdt(){}function wir(n,t,i){if(n[n.rectHover?"rectContain":"contain"](t,i)){for(var r=n,u;r;){if(r.clipPath&&!r.clipPath.contain(t,i))return!1;r.silent&&(u=!0);r=r.parent}return u?rft:!0}return!1}function ce(){var n=new rdt(6);return ty(n),n}function ty(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function uft(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n}function ih(n,t,i){var r=t[0]*i[0]+t[2]*i[1],u=t[1]*i[0]+t[3]*i[1],f=t[0]*i[2]+t[2]*i[3],e=t[1]*i[2]+t[3]*i[3],o=t[0]*i[4]+t[2]*i[5]+t[4],s=t[1]*i[4]+t[3]*i[5]+t[5];return n[0]=r,n[1]=u,n[2]=f,n[3]=e,n[4]=o,n[5]=s,n}function ff(n,t,i){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4]+i[0],n[5]=t[5]+i[1],n}function rh(n,t,i){var f=t[0],e=t[2],o=t[4],s=t[1],h=t[3],c=t[5],r=Math.sin(i),u=Math.cos(i);return n[0]=f*u+s*r,n[1]=-f*r+s*u,n[2]=e*u+h*r,n[3]=-e*r+u*h,n[4]=u*o+r*c,n[5]=u*c-r*o,n}function vb(n,t,i){var r=i[0],u=i[1];return n[0]=t[0]*r,n[1]=t[1]*u,n[2]=t[2]*r,n[3]=t[3]*u,n[4]=t[4]*r,n[5]=t[5]*u,n}function yb(n,t){var r=t[0],u=t[2],o=t[4],f=t[1],e=t[3],s=t[5],i=r*e-f*u;return i?(i=1/i,n[0]=e*i,n[1]=-f*i,n[2]=-u*i,n[3]=r*i,n[4]=(u*s-e*o)*i,n[5]=(f*o-r*s)*i,n):null}function uh(n){return n>udt||n<-udt}function oft(n){this._target=n.target;this._life=n.life||1e3;this._delay=n.delay||0;this._initialized=!1;this.loop=n.loop==null?!1:n.loop;this.gap=n.gap||0;this.easing=n.easing||"Linear";this.onframe=n.onframe;this.ondestroy=n.ondestroy;this.onrestart=n.onrestart;this._pausedTime=0;this._paused=!1}function bu(n){return n=Math.round(n),n<0?0:n>255?255:n}function kir(n){return n=Math.round(n),n<0?0:n>360?360:n}function ry(n){return n<0?0:n>1?1:n}function aft(n){return n.length&&n.charAt(n.length-1)==="%"?bu(parseFloat(n)/100*255):bu(parseInt(n,10))}function vl(n){return n.length&&n.charAt(n.length-1)==="%"?ry(parseFloat(n)/100):ry(parseFloat(n))}function vft(n,t,i){return(i<0?i+=1:i>1&&(i-=1),i*6<1)?n+(t-n)*i*6:i*2<1?t:i*3<2?n+(t-n)*(2/3-i)*6:n}function so(n,t,i){return n+(t-n)*i}function ku(n,t,i,r,u){return n[0]=t,n[1]=i,n[2]=r,n[3]=u,n}function yft(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n}function yl(n,t){uy&&yft(uy,t);uy=pft.put(n,uy||t.slice())}function eu(n,t){var e,r,i,f,o;if(n){if(t=t||[],e=pft.get(n),e)return yft(t,e);if(n=n+"",r=n.replace(/ /g,"").toLowerCase(),r in lft)return yft(t,lft[r]),yl(n,t),t;if(r.charAt(0)==="#"){if(r.length===4){if(i=parseInt(r.substr(1),16),!(i>=0&&i<=4095)){ku(t,0,0,0,1);return}return ku(t,(i&3840)>>4|(i&3840)>>8,i&240|(i&240)>>4,i&15|(i&15)<<4,1),yl(n,t),t}if(r.length===7){if(i=parseInt(r.substr(1),16),!(i>=0&&i<=16777215)){ku(t,0,0,0,1);return}return ku(t,(i&16711680)>>16,(i&65280)>>8,i&255,1),yl(n,t),t}return}if(f=r.indexOf("("),o=r.indexOf(")"),f!==-1&&o+1===r.length){var h=r.substr(0,f),u=r.substr(f+1,o-(f+1)).split(","),s=1;switch(h){case"rgba":if(u.length!==4){ku(t,0,0,0,1);return}s=vl(u.pop());case"rgb":if(u.length!==3){ku(t,0,0,0,1);return}return ku(t,aft(u[0]),aft(u[1]),aft(u[2]),s),yl(n,t),t;case"hsla":if(u.length!==4){ku(t,0,0,0,1);return}return u[3]=vl(u[3]),wft(u,t),yl(n,t),t;case"hsl":if(u.length!==3){ku(t,0,0,0,1);return}return wft(u,t),yl(n,t),t;default:return}}ku(t,0,0,0,1);return}}function wft(n,t){var u=(parseFloat(n[0])%360+360)%360/360,f=vl(n[1]),i=vl(n[2]),r=i<=.5?i*(f+1):i+f-i*f,e=i*2-r;return t=t||[],ku(t,bu(vft(e,r,u+1/3)*255),bu(vft(e,r,u)*255),bu(vft(e,r,u-1/3)*255),1),n.length===4&&(t[3]=n[3]),t}function dir(n){var h;if(n){var u=n[0]/255,f=n[1]/255,e=n[2]/255,o=Math.min(u,f,e),t=Math.max(u,f,e),i=t-o,c=(t+o)/2,r,s;if(i===0)r=0,s=0;else{s=c<.5?i/(t+o):i/(2-t-o);var l=((t-u)/6+i/2)/i,a=((t-f)/6+i/2)/i,v=((t-e)/6+i/2)/i;u===t?r=v-a:f===t?r=1/3+l-v:e===t&&(r=2/3+a-l);r<0&&(r+=1);r>1&&(r-=1)}return h=[r*360,s,c],n[3]!=null&&h.push(n[3]),h}}function edt(n,t){var i=eu(n),r;if(i){for(r=0;r<3;r++)i[r]=t<0?i[r]*(1-t)|0:(255-i[r])*t+i[r]|0;return le(i,i.length===4?"rgba":"rgb")}}function odt(n){var t=eu(n);if(t)return(16777216+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function fy(n,t,i){if(t&&t.length&&n>=0&&n<=1){i=i||[];var e=n*(t.length-1),o=Math.floor(e),s=Math.ceil(e),r=t[o],u=t[s],f=e-o;return i[0]=bu(so(r[0],u[0],f)),i[1]=bu(so(r[1],u[1],f)),i[2]=bu(so(r[2],u[2],f)),i[3]=ry(so(r[3],u[3],f)),i}}function hdt(n,t,i){if(t&&t.length&&n>=0&&n<=1){var r=n*(t.length-1),o=Math.floor(r),s=Math.ceil(r),u=eu(t[o]),f=eu(t[s]),e=r-o,h=le([bu(so(u[0],f[0],e)),bu(so(u[1],f[1],e)),bu(so(u[2],f[2],e)),ry(so(u[3],f[3],e))],"rgba");return i?{color:h,leftIndex:o,rightIndex:s,value:r}:h}}function pl(n,t,i,r){return n=eu(n),n?(n=dir(n),t!=null&&(n[0]=kir(t)),i!=null&&(n[1]=vl(i)),r!=null&&(n[2]=vl(r)),le(wft(n),"rgba")):void 0}function pb(n,t){return n=eu(n),n&&t!=null?(n[3]=ry(t),le(n,"rgba")):void 0}function le(n,t){if(n&&n.length){var i=n[0]+","+n[1]+","+n[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(i+=","+n[3]),t+"("+i+")"}}function gir(n,t){return n[t]}function nrr(n,t,i){n[t]=i}function bft(n,t,i){return(t-n)*i+n}function adt(n,t,i){return i>.5?t:n}function vdt(n,t,i,r,u){var o=n.length,s,f,e;if(u==1)for(f=0;f<o;f++)r[f]=bft(n[f],t[f],i);else for(s=o&&n[0].length,f=0;f<o;f++)for(e=0;e<s;e++)r[f][e]=bft(n[f][e],t[f][e],i)}function ydt(n,t,i){var e=n.length,f=t.length,o,s,r,u;if(e!==f)if(o=e>f,o)n.length=f;else for(r=e;r<f;r++)n.push(i===1?t[r]:wb.call(t[r]));for(s=n[0]&&n[0].length,r=0;r<n.length;r++)if(i===1)isNaN(n[r])&&(n[r]=t[r]);else for(u=0;u<s;u++)isNaN(n[r][u])&&(n[r][u]=t[r][u])}function trr(n,t,i){var f,e,r,u;if(n===t)return!0;if(f=n.length,f!==t.length)return!1;if(i===1){for(r=0;r<f;r++)if(n[r]!==t[r])return!1}else for(e=n[0].length,r=0;r<f;r++)for(u=0;u<e;u++)if(n[r][u]!==t[r][u])return!1;return!0}function pdt(n,t,i,r,u,f,e,o,s){var l=n.length,a,h,c;if(s==1)for(h=0;h<l;h++)o[h]=kft(n[h],t[h],i[h],r[h],u,f,e);else for(a=n[0].length,h=0;h<l;h++)for(c=0;c<a;c++)o[h][c]=kft(n[h][c],t[h][c],i[h][c],r[h][c],u,f,e)}function kft(n,t,i,r,u,f,e){var o=(i-n)*.5,s=(r-t)*.5;return(2*(t-i)+o+s)*e+(-3*(t-i)-2*o-s)*f+o*u+t}function irr(n){var r,i,t;if(gs(n)){if(r=n.length,gs(n[0])){for(i=[],t=0;t<r;t++)i.push(wb.call(n[t]));return i}return wb.call(n)}return n}function wdt(n){return n[0]=Math.floor(n[0]),n[1]=Math.floor(n[1]),n[2]=Math.floor(n[2]),"rgba("+n.join(",")+")"}function rrr(n){var t=n[n.length-1].value;return gs(t&&t[0])?2:1}function urr(n,t,i,r,u,f){var it=n._getter,st=n._setter,at=t==="spline",s=r.length,c,ft,p,h,g,et,ct,e,nt,w,b,tt,k,lt,ot;if(s){var vt=r[0].value,l=gs(vt),v=!1,d=!1,y=l?rrr(r):0,rt;r.sort(function(n,t){return n.time-t.time});rt=r[s-1].time;var a=[],o=[],ut=r[0].value,ht=!0;for(h=0;h<s;h++)a.push(r[h].time/rt),c=r[h].value,l&&trr(c,ut,y)||!l&&c===ut||(ht=!1),ut=c,typeof c=="string"&&(ft=eu(c),ft?(c=ft,v=!0):d=!0),o.push(c);if(f||!ht){for(p=o[s-1],h=0;h<s-1;h++)l?ydt(o[h],p,y):!isNaN(o[h])||isNaN(p)||d||v||(o[h]=p);return l&&ydt(it(n._target,u),p,y),g=0,et=0,v&&(k=[0,0,0,0]),lt=function(n,t){var i,f,r;if(t<0)i=0;else if(t<et){for(ct=Math.min(g+1,s-1),i=ct;i>=0;i--)if(a[i]<=t)break;i=Math.min(i,s-2)}else{for(i=g;i<s;i++)if(a[i]>t)break;i=Math.min(i-1,s-2)}if(g=i,et=t,f=a[i+1]-a[i],f!==0)if(e=(t-a[i])/f,at)if(w=o[i],nt=o[i===0?i:i-1],b=o[i>s-2?s-1:i+1],tt=o[i>s-3?s-1:i+2],l)pdt(nt,w,b,tt,e,e*e,e*e*e,it(n,u),y);else{if(v)r=pdt(nt,w,b,tt,e,e*e,e*e*e,k,1),r=wdt(k);else{if(d)return adt(w,b,e);r=kft(nt,w,b,tt,e,e*e,e*e*e)}st(n,u,r)}else if(l)vdt(o[i],o[i+1],e,it(n,u),y);else{if(v)vdt(o[i],o[i+1],e,k,1),r=wdt(k);else{if(d)return adt(o[i],o[i+1],e);r=bft(o[i],o[i+1],e)}st(n,u,r)}},ot=new oft({target:n._target,life:rt,loop:n._loop,delay:n._delay,onframe:lt,ondestroy:i}),t&&t!=="spline"&&(ot.easing=t),ot}}}function p(n,t,i,r){i<0&&(n=n+i,i=-i);r<0&&(t=t+r,r=-r);this.x=n;this.y=t;this.width=i;this.height=r}function frr(n){for(var t=0;n>=net;)t|=n&1,n>>=1;return n+t}function kdt(n,t,i,r){var u=t+1;if(u===i)return 1;if(r(n[u++],n[t])<0){while(u<i&&r(n[u],n[u-1])<0)u++;err(n,t,u)}else while(u<i&&r(n[u],n[u-1])>=0)u++;return u-t}function err(n,t,i){for(i--;t<i;){var r=n[t];n[t++]=n[i];n[i--]=r}}function ddt(n,t,i,r,u){var e;for(r===t&&r++;r<i;r++){for(var h=n[r],f=t,s=r,o;f<s;)o=f+s>>>1,u(h,n[o])<0?s=o:f=o+1;e=r-f;switch(e){case 3:n[f+3]=n[f+2];case 2:n[f+2]=n[f+1];case 1:n[f+1]=n[f];break;default:while(e>0)n[f+e]=n[f+e-1],e--}n[f]=h}}function tet(n,t,i,r,u,f){var o=0,s=0,e=1,c,h;if(f(n,t[i+u])>0){for(s=r-u;e<s&&f(n,t[i+u+e])>0;)o=e,e=(e<<1)+1,e<=0&&(e=s);e>s&&(e=s);o+=u;e+=u}else{for(s=u+1;e<s&&f(n,t[i+u-e])<=0;)o=e,e=(e<<1)+1,e<=0&&(e=s);e>s&&(e=s);c=o;o=u-e;e=u-c}for(o++;o<e;)h=o+(e-o>>>1),f(n,t[i+h])>0?o=h+1:e=h;return e}function iet(n,t,i,r,u,f){var o=0,s=0,e=1,c,h;if(f(n,t[i+u])<0){for(s=u+1;e<s&&f(n,t[i+u-e])<0;)o=e,e=(e<<1)+1,e<=0&&(e=s);e>s&&(e=s);c=o;o=u-e;e=u-c}else{for(s=r-u;e<s&&f(n,t[i+u+e])>=0;)o=e,e=(e<<1)+1,e<=0&&(e=s);e>s&&(e=s);o+=u;e+=u}for(o++;o<e;)h=o+(e-o>>>1),f(n,t[i+h])<0?e=h:o=h+1;return e}function orr(n,t){function s(n,t){e[u]=n;r[u]=t;u+=1}function h(){while(u>1){var n=u-2;if(n>=1&&r[n-1]<=r[n]+r[n+1]||n>=2&&r[n-2]<=r[n]+r[n-1])r[n-1]<r[n+1]&&n--;else if(r[n]>r[n+1])break;o(n)}}function c(){while(u>1){var n=u-2;n>0&&r[n-1]<r[n+1]&&n--;o(n)}}function o(i){var s=e[i],f=r[i],h=e[i+1],o=r[i+1],c;(r[i]=f+o,i===u-3&&(e[i+1]=e[i+2],r[i+1]=r[i+2]),u--,c=iet(n[h],n,s,f,0,t),s+=c,f-=c,f!==0)&&(o=tet(n[s+f-1],n,h,o,o-1,t),o!==0)&&(f<=o?l(s,f,h,o):a(s,f,h,o))}function l(r,u,e,o){for(var s=0,p,l,a,y,s=0;s<u;s++)i[s]=n[r+s];var c=0,v=e,h=r;if(n[h++]=n[v++],--o==0){for(s=0;s<u;s++)n[h+s]=i[c+s];return}if(u===1){for(s=0;s<o;s++)n[h+s]=n[v+s];n[h+o]=i[c];return}for(p=f;;){l=0;a=0;y=!1;do if(t(n[v],i[c])<0){if(n[h++]=n[v++],a++,l=0,--o==0){y=!0;break}}else if(n[h++]=i[c++],l++,a=0,--u==1){y=!0;break}while((l|a)<p);if(y)break;do{if(l=iet(n[v],i,c,u,0,t),l!==0){for(s=0;s<l;s++)n[h+s]=i[c+s];if(h+=l,c+=l,u-=l,u<=1){y=!0;break}}if(n[h++]=n[v++],--o==0){y=!0;break}if(a=tet(i[c],n,v,o,0,t),a!==0){for(s=0;s<a;s++)n[h+s]=n[v+s];if(h+=a,v+=a,o-=a,o===0){y=!0;break}}if(n[h++]=i[c++],--u==1){y=!0;break}p--}while(l>=wl||a>=wl);if(y)break;p<0&&(p=0);p+=2}if(f=p,f<1&&(f=1),u===1){for(s=0;s<o;s++)n[h+s]=n[v+s];n[h+o]=i[c]}else if(u===0)throw new Error;else for(s=0;s<u;s++)n[h+s]=i[c+s]}function a(r,u,e,o){for(var s=0,b,s=0;s<o;s++)i[s]=n[e+s];var l=r+u-1,y=o-1,h=e+o-1,c=0,p=0;if(n[h--]=n[l--],--u==0){for(c=h-(o-1),s=0;s<o;s++)n[c+s]=i[s];return}if(o===1){for(h-=u,l-=u,p=h+1,c=l+1,s=u-1;s>=0;s--)n[p+s]=n[c+s];n[h]=i[y];return}for(b=f;;){var a=0,v=0,w=!1;do if(t(i[y],n[l])<0){if(n[h--]=n[l--],a++,v=0,--u==0){w=!0;break}}else if(n[h--]=i[y--],v++,a=0,--o==1){w=!0;break}while((a|v)<b);if(w)break;do{if(a=u-iet(i[y],n,r,u,u-1,t),a!==0){for(h-=a,l-=a,u-=a,p=h+1,c=l+1,s=a-1;s>=0;s--)n[p+s]=n[c+s];if(u===0){w=!0;break}}if(n[h--]=i[y--],--o==1){w=!0;break}if(v=o-tet(n[l],i,0,o,o-1,t),v!==0){for(h-=v,y-=v,o-=v,p=h+1,c=y+1,s=0;s<v;s++)n[p+s]=i[c+s];if(o<=1){w=!0;break}}if(n[h--]=n[l--],--u==0){w=!0;break}b--}while(a>=wl||v>=wl);if(w)break;b<0&&(b=0);b+=2}if(f=b,f<1&&(f=1),o===1){for(h-=u,l-=u,p=h+1,c=l+1,s=u-1;s>=0;s--)n[p+s]=n[c+s];n[h]=i[y]}else if(o===0)throw new Error;else for(c=h-(o-1),s=0;s<o;s++)n[c+s]=i[s]}var f=wl,e,r,u=0,i=[];e=[];r=[];this.mergeRuns=h;this.forceMergeRuns=c;this.pushRun=s}function tk(n,t,i,r){var f,u,o,s,e;if(i||(i=0),r||(r=n.length),f=r-i,!(f<2)){if(u=0,f<net){u=kdt(n,i,r,t);ddt(n,i,r,i+u,t);return}o=new orr(n,t);s=frr(f);do u=kdt(n,i,r,t),u<s&&(e=f,e>s&&(e=s),ddt(n,i,i+e,i+u,t),u=e),o.pushRun(i,u),o.mergeRuns(),f-=u,i+=u;while(f!==0);o.forceMergeRuns()}}function gdt(n,t){return n.zlevel===t.zlevel?n.z===t.z?n.z2-t.z2:n.z-t.z:n.zlevel-t.zlevel}function srr(n,t,i){var r=t.x==null?0:t.x,u=t.x2==null?1:t.x2,f=t.y==null?0:t.y,e=t.y2==null?0:t.y2;return t.global||(r=r*i.width+i.x,u=u*i.width+i.x,f=f*i.height+i.y,e=e*i.height+i.y),n.createLinearGradient(r,f,u,e)}function hrr(n,t,i){var e=i.width,o=i.height,s=Math.min(e,o),r=t.x==null?.5:t.x,u=t.y==null?.5:t.y,f=t.r==null?.5:t.r;return t.global||(r=r*e+i.x,u=u*o+i.y,f=f*s),n.createRadialGradient(r,u,0,r,u,f)}function crr(){return!1}function ngt(n,t,i){var r=ds(),f=t.getWidth(),e=t.getHeight(),u=r.style;return u.position="absolute",u.left=0,u.top=0,u.width=f+"px",u.height=e+"px",r.width=f*i,r.height=e*i,r.setAttribute("data-zr-dom-id",n),r}function lrr(n){if(typeof n=="string"){var t=ok.get(n);return t&&t.image}return n}function tgt(n,t,i,r,u){if(n){if(typeof n=="string"){if(t&&t.__zrImageSrc===n||!i)return t;var f=ok.get(n),e={hostEl:i,cb:r,cbPayload:u};return f?(t=f.image,sk(t)||f.pending.push(e)):(t||(t=new Image),t.onload=arr,ok.put(n,t.__cachedImgObj={image:t,pending:[e]}),t.src=t.__zrImageSrc=n),t}return n}return t}function arr(){var i=this.__cachedImgObj,n,t,r;for(this.onload=this.__cachedImgObj=null,n=0;n<i.pending.length;n++)t=i.pending[n],r=t.cb,r&&r(this,t.cbPayload),t.hostEl.dirty();i.pending.length=0}function sk(n){return n&&n.width&&n.height}function yrr(n,t){fet[n]=t}function of(n,t){var r,f,i,u,e;if(t=t||hy,r=n+":"+t,hk[r])return hk[r];for(f=(n+"").split("\n"),i=0,u=0,e=f.length;u<e;u++)i=Math.max(krr(f[u],t).width,i);return ret>vrr&&(ret=0,hk={}),ret++,hk[r]=i,i}function ve(n,t,i,r,u,f,e){return f?wrr(n,t,i,r,u,f,e):prr(n,t,i,r,u,e)}function prr(n,t,i,r,u,f){var o=egt(n,t,u,f),e=of(n,t);u&&(e+=u[1]+u[3]);var s=o.outerHeight,c=cy(0,e,i),l=ly(0,s,r),h=new p(c,l,e,s);return h.lineHeight=o.lineHeight,h}function wrr(n,t,i,r,u,f,e){var o=oet(n,{rich:f,truncate:e,font:t,textAlign:i,textPadding:u}),s=o.outerWidth,h=o.outerHeight,c=cy(0,s,i),l=ly(0,h,r);return new p(c,l,s,h)}function cy(n,t,i){return i==="right"?n-=t:i==="center"&&(n-=t/2),n}function ly(n,t,i){return i==="middle"?n-=t/2:i==="bottom"&&(n-=t),n}function eet(n,t,i){var r=t.x,u=t.y,s=t.height,o=t.width,h=s/2,f="left",e="top";switch(n){case"left":r-=i;u+=h;f="right";e="middle";break;case"right":r+=i+o;u+=h;e="middle";break;case"top":r+=o/2;u-=i;f="center";e="bottom";break;case"bottom":r+=o/2;u+=s+i;f="center";break;case"inside":r+=o/2;u+=h;f="center";e="middle";break;case"insideLeft":r+=i;u+=h;e="middle";break;case"insideRight":r+=o-i;u+=h;f="right";e="middle";break;case"insideTop":r+=o/2;u+=i;f="center";break;case"insideBottom":r+=o/2;u+=s-i;f="center";e="bottom";break;case"insideTopLeft":r+=i;u+=i;break;case"insideTopRight":r+=o-i;u+=i;f="right";break;case"insideBottomLeft":r+=i;u+=s-i;e="bottom";break;case"insideBottomRight":r+=o-i;u+=s-i;f="right";e="bottom"}return{x:r,y:u,textAlign:f,textVerticalAlign:e}}function igt(n,t,i,r,u){var f,e,o;if(!t)return"";for(f=(n+"").split("\n"),u=rgt(t,i,r,u),e=0,o=f.length;e<o;e++)f[e]=ugt(f[e],u);return f.join("\n")}function rgt(n,t,i,r){var i,h,e,u,o,f;for(r=s({},r),r.font=t,i=si(i,"..."),r.maxIterations=si(r.maxIterations,2),h=r.minChar=si(r.minChar,0),r.cnCharWidth=of("国",t),e=r.ascCharWidth=of("a",t),r.placeholder=si(r.placeholder,""),u=n=Math.max(0,n-1),o=0;o<h&&u>=e;o++)u-=e;return f=of(i),f>u&&(i="",f=0),u=n-f,r.ellipsis=i,r.ellipsisWidth=f,r.contentWidth=u,r.containerWidth=n,r}function ugt(n,t){var f=t.containerWidth,e=t.font,u=t.contentWidth,i,r,o;if(!f)return"";if(i=of(n,e),i<=f)return n;for(r=0;;r++){if(i<=u||r>=t.maxIterations){n+=t.ellipsis;break}o=r===0?brr(n,u,t.ascCharWidth,t.cnCharWidth):i>0?Math.floor(n.length*u/i):0;n=n.substr(0,o);i=of(n,e)}return n===""&&(n=t.placeholder),n}function brr(n,t,i,r){for(var f,e=0,u=0,o=n.length;u<o&&e<t;u++)f=n.charCodeAt(u),e+=0<=f&&f<=127?i:r;return u}function fgt(n){return of("国",n)}function krr(n,t){return fet.measureText(n,t)}function egt(n,t,i,r){var o,s,l,f,a;n!=null&&(n+="");var h=fgt(t),u=n?n.split("\n"):[],c=u.length*h,e=c;if(i&&(e+=i[0]+i[2]),n&&r)if(o=r.outerHeight,s=r.outerWidth,o!=null&&e>o)n="",u=[];else if(s!=null)for(l=rgt(s-(i?i[1]+i[3]:0),t,r.ellipsis,{minChar:r.minChar,placeholder:r.placeholder}),f=0,a=u.length;f<a;f++)u[f]=ugt(u[f],l);return{lines:u,height:c,outerHeight:e,lineHeight:h}}function oet(n,t){var u={lines:[],width:0,height:0},h,y,rt,nt,r,et,ot,s,a,v,o,i,ht;if(n!=null&&(n+=""),!n)return u;for(h=uet.lastIndex=0;(y=uet.exec(n))!=null;)rt=y.index,rt>h&&set(u,n.substring(h,rt)),set(u,y[2],y[1]),h=uet.lastIndex;h<n.length&&set(u,n.substring(h,n.length));var st=u.lines,ut=0,p=0,ft=[],e=t.textPadding,c=t.truncate,w=c&&c.outerWidth,b=c&&c.outerHeight;for(e&&(w!=null&&(w-=e[1]+e[3]),b!=null&&(b-=e[0]+e[2])),o=0;o<st.length;o++){var k=st[o],d=0,g=0;for(nt=0;nt<k.tokens.length;nt++){var i=k.tokens[nt],f=i.styleName&&t.rich[i.styleName]||{},l=i.textPadding=f.textPadding,tt=i.font=f.font||t.font,it=i.textHeight=si(f.textHeight,fgt(tt));if(l&&(it+=l[0]+l[2]),i.height=it,i.lineHeight=nh(f.textLineHeight,t.textLineHeight,it),i.textAlign=f&&f.textAlign||t.textAlign,i.textVerticalAlign=f&&f.textVerticalAlign||"middle",b!=null&&ut+i.lineHeight>b)return{lines:[],width:0,height:0};i.textWidth=of(i.text,tt);r=f.textWidth;et=r==null||r==="auto";typeof r=="string"&&r.charAt(r.length-1)==="%"?(i.percentWidth=r,ft.push(i),r=0):(et&&(r=i.textWidth,ot=f.textBackgroundColor,s=ot&&ot.image,s&&(s=lrr(s),sk(s)&&(r=Math.max(r,s.width*it/s.height)))),a=l?l[1]+l[3]:0,r+=a,v=w!=null?w-g:null,v!=null&&v<r&&(!et||v<a?(i.text="",i.textWidth=r=0):(i.text=igt(i.text,v-a,tt,c.ellipsis,{minChar:c.minChar}),i.textWidth=of(i.text,tt),r=i.textWidth+a)));g+=i.width=r;f&&(d=Math.max(d,i.lineHeight))}k.width=g;k.lineHeight=d;ut+=d;p=Math.max(p,g)}for(u.outerWidth=u.width=si(t.textWidth,p),u.outerHeight=u.height=si(t.textHeight,ut),e&&(u.outerWidth+=e[1]+e[3],u.outerHeight+=e[0]+e[2]),o=0;o<ft.length;o++)i=ft[o],ht=i.percentWidth,i.width=parseInt(ht,10)/100*p;return u}function set(n,t,i){for(var e,o,r,s,h=t==="",c=t.split("\n"),u=n.lines,f=0;f<c.length;f++)e=c[f],o={styleName:i,text:e,isLineHolder:!e&&!h},f?u.push({tokens:[o]}):(r=(u[u.length-1]||(u[0]={tokens:[]})).tokens,s=r.length,s===1&&r[0].isLineHolder?r[0]=o:(e||!s||h)&&r.push(o))}function ogt(n){return(n.fontSize||n.fontFamily)&&[n.fontStyle,n.fontWeight,(n.fontSize||12)+"px",n.fontFamily||"sans-serif"].join(" ")||n.textFont||n.font}function sgt(n,t){var e=t.x,o=t.y,i=t.width,r=t.height,u=t.r,f,s,h,c,l;i<0&&(e=e+i,i=-i);r<0&&(o=o+r,r=-r);typeof u=="number"?f=s=h=c=u:u instanceof Array?u.length===1?f=s=h=c=u[0]:u.length===2?(f=h=u[0],s=c=u[1]):u.length===3?(f=u[0],s=c=u[1],h=u[2]):(f=u[0],s=u[1],h=u[2],c=u[3]):f=s=h=c=0;f+s>i&&(l=f+s,f*=i/l,s*=i/l);h+c>i&&(l=h+c,h*=i/l,c*=i/l);s+h>r&&(l=s+h,s*=r/l,h*=r/l);f+c>r&&(l=f+c,f*=r/l,c*=r/l);n.moveTo(e+f,o);n.lineTo(e+i-s,o);s!==0&&n.quadraticCurveTo(e+i,o,e+i,o+s);n.lineTo(e+i,o+r-h);h!==0&&n.quadraticCurveTo(e+i,o+r,e+i-h,o+r);n.lineTo(e+c,o+r);c!==0&&n.quadraticCurveTo(e,o+r,e,o+r-c);n.lineTo(e,o+f);f!==0&&n.quadraticCurveTo(e,o,e+f,o)}function ay(n){return lgt(n),t(n.rich,lgt),n}function lgt(n){var t,i,r;n&&(n.font=ogt(n),t=n.textAlign,t==="middle"&&(t="center"),n.textAlign=t==null||hgt[t]?t:"left",i=n.textVerticalAlign||n.textBaseline,i==="center"&&(i="middle"),n.textVerticalAlign=i==null||cgt[i]?i:"top",r=n.textPadding,r&&(n.textPadding=but(n.textPadding)))}function agt(n,t,i,r,u){r.rich?grr(n,t,i,r,u):drr(n,t,i,r,u)}function drr(n,t,i,r,u){var k=at(t,"font",r.font||hy),f=r.textPadding,e=n.__textCotentBlock,it,l,rt,s;(!e||n.__dirty)&&(e=n.__textCotentBlock=egt(i,k,f,r.truncate));var a=e.outerHeight,v=e.lines,d=e.lineHeight,h=ygt(a,r,u),c=h.baseX,g=h.baseY,y=h.textAlign,ft=h.textVerticalAlign;vgt(t,r,u,c,g);var nt=ly(g,a,ft),p=c,o=nt,tt=cet(r);(tt||f)&&(it=of(i,k),l=it,f&&(l+=f[1]+f[3]),rt=cy(c,l,y),tt&&aet(n,t,r,rt,nt,l,a),f&&(p=bgt(c,y,f),o+=f[0]));at(t,"textAlign",y||"left");at(t,"textBaseline","middle");at(t,"shadowBlur",r.textShadowBlur||0);at(t,"shadowColor",r.textShadowColor||"transparent");at(t,"shadowOffsetX",r.textShadowOffsetX||0);at(t,"shadowOffsetY",r.textShadowOffsetY||0);o+=d/2;var ut=r.textStrokeWidth,w=vet(r.textStroke,ut),b=pgt(r.textFill);for(w&&(at(t,"lineWidth",ut),at(t,"strokeStyle",w)),b&&at(t,"fillStyle",b),s=0;s<v.length;s++)w&&t.strokeText(v[s],p,o),b&&t.fillText(v[s],p,o),o+=d}function grr(n,t,i,r,u){var f=n.__textCotentBlock;(!f||n.__dirty)&&(f=n.__textCotentBlock=oet(i,r));nur(n,t,f,r,u)}function nur(n,t,i,r,u){var nt=i.width,tt=i.outerWidth,p=i.outerHeight,w=r.textPadding,h=ygt(p,r,u),it=h.baseX,rt=h.baseY,ot=h.textAlign,st=h.textVerticalAlign,b,l;vgt(t,r,u,it,rt);var ut=cy(it,tt,ot),ft=ly(rt,p,st),c=ut,s=ft;for(w&&(c+=w[3],s+=w[0]),b=c+nt,cet(r)&&aet(n,t,r,ut,ft,tt,p),l=0;l<i.lines.length;l++){for(var k=i.lines[l],a=k.tokens,et=a.length,v=k.lineHeight,d=k.width,e=0,o=c,g=b,y=et-1,f;e<et&&(f=a[e],!f.textAlign||f.textAlign==="left");)het(n,t,f,r,v,s,o,"left"),d-=f.width,o+=f.width,e++;while(y>=0&&(f=a[y],f.textAlign==="right"))het(n,t,f,r,v,s,g,"right"),d-=f.width,g-=f.width,y--;for(o+=(nt-(o-c)-(b-g)-d)/2;e<=y;)f=a[e],het(n,t,f,r,v,s,o+f.width/2,"center"),o+=f.width,e++;s+=v}}function vgt(n,t,i,r,u){if(i&&t.textRotation){var f=t.textOrigin;f==="center"?(r=i.width/2+i.x,u=i.height/2+i.y):f&&(r=f[0]+i.x,u=f[1]+i.y);n.translate(r,u);n.rotate(-t.textRotation);n.translate(-r,-u)}}function het(n,t,i,r,u,f,e,o){var s=r.rich[i.styleName]||{},l=i.textVerticalAlign,h=f+u/2,c;l==="top"?h=f+i.height/2:l==="bottom"&&(h=f+u-i.height/2);!i.isLineHolder&&cet(s)&&aet(n,t,s,o==="right"?e-i.width:o==="center"?e-i.width/2:e,h-i.height/2,i.width,i.height);c=i.textPadding;c&&(e=bgt(e,o,c),h-=i.height/2-c[2]-i.textHeight/2);at(t,"shadowBlur",nh(s.textShadowBlur,r.textShadowBlur,0));at(t,"shadowColor",s.textShadowColor||r.textShadowColor||"transparent");at(t,"shadowOffsetX",nh(s.textShadowOffsetX,r.textShadowOffsetX,0));at(t,"shadowOffsetY",nh(s.textShadowOffsetY,r.textShadowOffsetY,0));at(t,"textAlign",o);at(t,"textBaseline","middle");at(t,"font",i.font||hy);var a=vet(s.textStroke||r.textStroke,y),v=pgt(s.textFill||r.textFill),y=si(s.textStrokeWidth,r.textStrokeWidth);a&&(at(t,"lineWidth",y),at(t,"strokeStyle",a),t.strokeText(i.text,e,h));v&&(at(t,"fillStyle",v),t.fillText(i.text,e,h))}function cet(n){return n.textBackgroundColor||n.textBorderWidth&&n.textBorderColor}function aet(n,t,i,r,u,f,e){var s=i.textBackgroundColor,h=i.textBorderWidth,c=i.textBorderColor,a=li(s),l,o;at(t,"shadowBlur",i.textBoxShadowBlur||0);at(t,"shadowColor",i.textBoxShadowColor||"transparent");at(t,"shadowOffsetX",i.textBoxShadowOffsetX||0);at(t,"shadowOffsetY",i.textBoxShadowOffsetY||0);(a||h&&c)&&(t.beginPath(),l=i.textBorderRadius,l?sgt(t,{x:r,y:u,width:f,height:e,r:l}):t.rect(r,u,f,e),t.closePath());a?(at(t,"fillStyle",s),t.fill()):y(s)&&(o=s.image,o=tgt(o,null,n,tur,s),o&&sk(o)&&t.drawImage(o,r,u,f,e));h&&c&&(at(t,"lineWidth",h),at(t,"strokeStyle",c),t.stroke())}function tur(n,t){t.image=n}function ygt(n,t,i){var f=t.x||0,e=t.y||0,s=t.textAlign,h=t.textVerticalAlign,r,u,o;return i&&(r=t.textPosition,r instanceof Array?(f=i.x+wgt(r[0],i.width),e=i.y+wgt(r[1],i.height)):(u=eet(r,i,t.textDistance),f=u.x,e=u.y,s=s||u.textAlign,h=h||u.textVerticalAlign),o=t.textOffset,o&&(f+=o[0],e+=o[1])),{baseX:f,baseY:e,textAlign:s,textVerticalAlign:h}}function at(n,t,i){return n[t]=i,n[t]}function vet(n,t){return n==null||t<=0||n==="transparent"||n==="none"?null:n.image||n.colorStops?"#000":n}function pgt(n){return n==null||n==="none"?null:n.image||n.colorStops?"#000":n}function wgt(n,t){return typeof n=="string"?n.lastIndexOf("%")>=0?parseFloat(n)/100*t:parseFloat(n):n}function bgt(n,t,i){return t==="right"?n-i[1]:t==="center"?n+i[3]/2-i[1]/2:n+i[3]}function kgt(n,t){return n!=null&&(n||t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor||t.textPadding)}function ou(n){n=n||{};ef.call(this,n);for(var t in n)n.hasOwnProperty(t)&&t!=="style"&&(this[t]=n[t]);this.style=new ho(n.style,this);this._rect=null;this.__clipPaths=[]}function gi(n){ou.call(this,n)}function ak(n){return parseInt(n,10)}function iur(n){return n?n.__builtin__?!0:typeof n.resize!="function"||typeof n.refresh!="function"?!1:!0:!1}function rur(n){n.__unusedCount++}function uur(n){n.__unusedCount==1&&n.clear()}function fur(n,t,i){return vk.copy(n.getBoundingRect()),n.transform&&vk.applyTransform(n.transform),yk.width=t,yk.height=i,!vk.intersect(yk)}function eur(n,t){if(n==t)return!1;if(!n||!t||n.length!==t.length)return!0;for(var i=0;i<n.length;i++)if(n[i]!==t[i])return!0}function our(n,t){for(var i,r=0;r<n.length;r++)i=n[r],i.setTransform(t),t.beginPath(),i.buildPath(t,i.shape),t.clip(),i.restoreTransform(t)}function sur(n,t){var i=document.createElement("div");return i.style.cssText=["position:relative","overflow:hidden","width:"+n+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",i}function hur(n){return n.getBoundingClientRect?n.getBoundingClientRect():{left:0,top:0}}function yet(n,t,i,r){return i=i||{},r||!d.canvasSupported?ggt(n,t,i):d.browser.firefox&&t.layerX!=null&&t.layerX!==t.offsetX?(i.zrX=t.layerX,i.zrY=t.layerY):t.offsetX!=null?(i.zrX=t.offsetX,i.zrY=t.offsetY):ggt(n,t,i),i}function ggt(n,t,i){var r=hur(n);i.zrX=t.clientX-r.left;i.zrY=t.clientY-r.top}function eh(n,t,i){var u,e,f,r;return(t=t||window.event,t.zrX!=null)?t:(u=t.type,e=u&&u.indexOf("touch")>=0,e?(f=u!="touchend"?t.targetTouches[0]:t.changedTouches[0],f&&yet(n,f,t,i)):(yet(n,t,t,i),t.zrDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3),r=t.button,t.which==null&&r!==undefined&&dgt.test(t.type)&&(t.which=r&1?1:r&2?3:r&4?2:0),t)}function bk(n,t,i){wk?n.addEventListener(t,i):n.attachEvent("on"+t,i)}function cur(n,t,i){wk?n.removeEventListener(t,i):n.detachEvent("on"+t,i)}function pet(n){return n.which>1}function nnt(n){var t=n[1][0]-n[0][0],i=n[1][1]-n[0][1];return Math.sqrt(t*t+i*i)}function lur(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}function int(n){return n==="mousewheel"&&d.browser.firefox?"DOMMouseScroll":n}function ket(n,t,i){var u=n._gestureMgr,r,f;i==="start"&&u.clear();r=u.recognize(t,n.handler.findHover(t.zrX,t.zrY,null).target,n.dom);i==="end"&&u.clear();r&&(f=r.type,t.gestureEvent=f,n.handler.dispatchToElement({target:r.target},f,r.event))}function det(n){n._touching=!0;clearTimeout(n._touchTimer);n._touchTimer=setTimeout(function(){n._touching=!1},700)}function rnt(n){var t=n.pointerType;return t==="pen"||t==="touch"}function yur(n){function i(n,t){return function(){if(!t._touching)return n.apply(t,arguments)}}t(bet,function(t){n._handlers[t]=h(cr[t],n)});t(tnt,function(t){n._handlers[t]=h(cr[t],n)});t(dk,function(t){n._handlers[t]=i(cr[t],n)})}function get(n){function i(i,r){t(i,function(t){bk(n,int(t),r._handlers[t])},r)}hi.call(this);this.dom=n;this._touching=!1;this._touchTimer;this._gestureMgr=new kk;this._handlers={};yur(this);d.pointerEventsSupported?i(tnt,this):(d.touchEventsSupported&&i(bet,this),i(dk,this))}function iot(n,t){var i=new nd(skt(),n,t);return oh[i.id]=i,i}function wur(n){if(n)n.dispose();else{for(var t in oh)oh.hasOwnProperty(t)&&oh[t].dispose();oh={}}return this}function bur(n){return oh[n]}function rot(n,t){gk[n]=t}function kur(n){delete oh[n]}function dur(n){return n.replace(/^\s+/,"").replace(/\s+$/,"")}function ti(n,t,i,r){var u=t[1]-t[0],f=i[1]-i[0];if(u===0)return f===0?i[0]:(i[0]+i[1])/2;if(r)if(u>0){if(n<=t[0])return i[0];if(n>=t[1])return i[1]}else{if(n>=t[0])return i[0];if(n<=t[1])return i[1]}else{if(n===t[0])return i[0];if(n===t[1])return i[1]}return(n-t[0])/u*f+i[0]}function u(n,t){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%"}return typeof n=="string"?dur(n).match(/%$/)?parseFloat(n)/100*t:parseFloat(n):n==null?NaN:+n}function lr(n,t,i){return t==null&&(t=10),t=Math.min(Math.max(0,t),20),n=(+n).toFixed(t),i?n:+n}function sh(n){return n.sort(function(n,t){return n-t}),n}function fnt(n){if(n=+n,isNaN(n))return 0;for(var t=1,i=0;Math.round(n*t)/t!==n;)t*=10,i++;return i}function td(n){var t=n.toString(),u=t.indexOf("e"),i,r;return u>0?(i=+t.slice(u+1),i<0?-i:0):(r=t.indexOf("."),r<0?0:t.length-1-r)}function fot(n,t){var i=Math.log,r=Math.LN10,f=Math.floor(i(n[1]-n[0])/r),e=Math.round(i(Math.abs(t[1]-t[0]))/r),u=Math.min(Math.max(-f+e,0),20);return isFinite(u)?u:20}function ent(n,t,r){var s,c,o,u,v;if(!n[t]||(s=sl(n,function(n,t){return n+(isNaN(t)?0:t)},0),s===0))return 0;for(var h=Math.pow(10,r),l=i(n,function(n){return(isNaN(n)?0:n)/s*h*100}),y=h*100,f=i(l,function(n){return Math.floor(n)}),a=sl(f,function(n,t){return n+t},0),e=i(l,function(n,t){return n-f[t]});a<y;){for(c=Number.NEGATIVE_INFINITY,o=null,u=0,v=e.length;u<v;++u)e[u]>c&&(c=e[u],o=u);++f[o];e[o]=0;++a}return f[t]/h}function eot(n){var t=Math.PI*2;return(n%t+t)%t}function py(n){return n>-uot&&n<uot}function wy(n){var t,i;return n instanceof Date?n:typeof n=="string"?(t=ont.exec(n),!t)?new Date(NaN):t[8]?(i=+t[4]||0,t[8].toUpperCase()!=="Z"&&(i-=t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,i,+(t[5]||0),+t[6]||0,+t[7]||0))):new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,+t[7]||0):n==null?new Date(NaN):new Date(Math.round(n))}function snt(n){return Math.pow(10,hnt(n))}function hnt(n){return Math.floor(Math.log(n)/Math.LN10)}function oot(n,t){var r=hnt(n),u=Math.pow(10,r),i=n/u,f;return f=t?i<1.5?1:i<2.5?2:i<4?3:i<7?5:10:i<1?1:i<2?2:i<3?3:i<5?5:10,n=f*u,r>=-20?+n.toFixed(r<0?-r:0):n}function sot(n){function o(n,t,i){return n.interval[i]<t.interval[i]||n.interval[i]===t.interval[i]&&(n.close[i]-t.close[i]==(i?-1:1)||!i&&o(n,t,1))}var f,e,i,r,u,t;for(n.sort(function(n,t){return o(n,t,0)?-1:1}),f=-Infinity,e=1,i=0;i<n.length;){for(r=n[i].interval,u=n[i].close,t=0;t<2;t++)r[t]<=f&&(r[t]=f,u[t]=t?1:1-e),f=r[t],e=u[t];r[0]===r[1]&&u[0]*u[1]!=1?n.splice(i,1):i++}return n}function cnt(n){return n-parseFloat(n)>=0}function co(n){return isNaN(n)?"-":(n=(n+"").split("."),n[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(n.length>1?"."+n[1]:""))}function ant(n,t){return n=(n||"").toLowerCase().replace(/-(.)/g,function(n,t){return t.toUpperCase()}),t&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}function dt(n){return String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function cot(n,t,i){var h,o,s,c,f,e,u;if(r(t)||(t=[t]),h=t.length,!h)return"";for(o=t[0].$vars||[],s=0;s<o.length;s++)c=hot[s],u=rd(c,0),n=n.replace(rd(c),i?dt(u):u);for(f=0;f<h;f++)for(e=0;e<o.length;e++)u=t[f][o[e]],n=n.replace(rd(hot[e],f),i?dt(u):u);return n}function vnt(n,i,r){return t(i,function(t,i){n=n.replace("{"+i+"}",r?dt(t):t)}),n}function lot(n,t){return n?'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+dt(n)+";"+(t||"")+'"><\/span>':""}function aot(n,t,i){(n==="week"||n==="month"||n==="quarter"||n==="half-year"||n==="year")&&(n="MM-dd\nyyyy");var r=wy(t),u=i?"UTC":"",f=r["get"+u+"FullYear"](),e=r["get"+u+"Month"]()+1,o=r["get"+u+"Date"](),s=r["get"+u+"Hours"](),h=r["get"+u+"Minutes"](),c=r["get"+u+"Seconds"]();return n.replace("MM",bl(e)).replace("M",e).replace("yyyy",f).replace("yy",f%100).replace("dd",bl(o)).replace("d",o).replace("hh",bl(s)).replace("h",s).replace("mm",bl(h)).replace("m",h).replace("ss",bl(c)).replace("s",c)}function ud(n){return n?n.charAt(0).toUpperCase()+n.substr(1):n}function du(n,t,i){return n[vot+t]=i}function ao(n,t){return n[vot+t]}function ifr(n,t){return n.hasOwnProperty(vot+t)}function vo(n){var t={main:"",sub:""};return n&&(n=n.split(tfr),t.main=n[0]||"",t.sub=n[1]||""),t}function rfr(n){ct(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType "'+n+'" illegal')}function by(n,i){n.$constructor=n;n.extend=function(n){f&&t(i,function(t){n[t]||console.warn("Method `"+t+"` should be implemented"+(n.type?" in "+n.type:"")+".")});var u=this,r=function(){n.$constructor?n.$constructor.apply(this,arguments):u.apply(this,arguments)};return s(r.prototype,n),r.extend=this.extend,r.superCall=ufr,r.superApply=ffr,st(r,this),r.superClass=u,r}}function ufr(n,t){var i=wut(arguments,2);return this.superClass.prototype[t].apply(n,i)}function ffr(n,t,i){return this.superClass.prototype[t].apply(n,i)}function fd(n,i){function e(n){var t=r[n.main];return t&&t[hh]||(t=r[n.main]={},t[hh]=!0),t}var r,u;return i=i||{},r={},n.registerClass=function(n,t){if(t)if(rfr(t),t=vo(t),t.sub){if(t.sub!==hh){var i=e(t);i[t.sub]=n}}else f&&r[t.main]&&console.warn(t.main+" exists."),r[t.main]=n;return n},n.getClass=function(n,t,i){var u=r[n];if(u&&u[hh]&&(u=t?u[t]:null),i&&!u)throw new Error(t?"Component "+n+"."+(t||"")+" not exists. Load it first.":n+".type should be specified.");return u},n.getClassesByMainType=function(n){n=vo(n);var u=[],i=r[n.main];return i&&i[hh]?t(i,function(n,t){t!==hh&&u.push(n)}):u.push(i),u},n.hasClass=function(n){return n=vo(n),!!r[n.main]},n.getAllClassMainTypes=function(){var n=[];return t(r,function(t,i){n.push(i)}),n},n.hasSubTypes=function(n){n=vo(n);var t=r[n.main];return t&&t[hh]},n.parseClassType=vo,i.registerWhenExtend&&(u=n.extend,u&&(n.extend=function(t){var i=u.call(this,t);return n.registerClass(i,t.type)})),n}function po(n){return n>-od&&n<od}function bnt(n){return n>od||n<-od}function ur(n,t,i,r,u){var f=1-u;return f*f*(f*n+3*u*t)+u*u*(u*r+3*f*i)}function knt(n,t,i,r,u){var f=1-u;return 3*(((t-n)*f+2*(i-t)*u)*f+(r-i)*u*u)}function cfr(n,t,i,r,u,f){var s=r+3*(t-i)-n,e=3*(i-t*2+n),v=3*(t-n),nt=n-u,h=e*e-3*s*v,l=e*v-9*s*nt,rt=v*v-3*e*nt,c=0,w,o;if(po(h)&&po(l))po(e)?f[0]=0:(o=-v/e,o>=0&&o<=1&&(f[c++]=o));else if(w=l*l-4*h*rt,po(w)){var tt=l/h,o=-e/s+tt,a=-tt/2;o>=0&&o<=1&&(f[c++]=o);a>=0&&a<=1&&(f[c++]=a)}else if(w>0){var it=yo(w),y=h*e+1.5*s*(-l+it),p=h*e+1.5*s*(-l-it);y=y<0?-ed(-y,sd):ed(y,sd);p=p<0?-ed(-p,sd):ed(p,sd);o=(-e-(y+p))/(3*s);o>=0&&o<=1&&(f[c++]=o)}else{var ut=(2*h*e-3*s*l)/(2*yo(h*h*h)),b=Math.acos(ut)/3,k=yo(h),d=Math.cos(b),o=(-e-2*k*d)/(3*s),a=(-e+k*(d+wnt*Math.sin(b)))/(3*s),g=(-e+k*(d-wnt*Math.sin(b)))/(3*s);o>=0&&o<=1&&(f[c++]=o);a>=0&&a<=1&&(f[c++]=a);g>=0&&g<=1&&(f[c++]=g)}return c}function dnt(n,t,i,r,u){var f=6*i-12*t+6*n,o=9*t+3*r-3*n-9*i,l=3*t-3*n,s=0,e,h;if(po(o))bnt(f)&&(e=-l/f,e>=0&&e<=1&&(u[s++]=e));else if(h=f*f-4*o*l,po(h))u[0]=-f/(2*o);else if(h>0){var a=yo(h),e=(-f+a)/(2*o),c=(-f-a)/(2*o);e>=0&&e<=1&&(u[s++]=e);c>=0&&c<=1&&(u[s++]=c)}return s}function gnt(n,t,i,r,u,f){var e=(t-n)*u+n,o=(i-t)*u+t,h=(r-i)*u+i,s=(o-e)*u+e,c=(h-o)*u+o,l=(c-s)*u+s;f[0]=n;f[1]=e;f[2]=s;f[3]=l;f[4]=l;f[5]=c;f[6]=h;f[7]=r}function lfr(n,t,i,r,u,f,e,o,s,h,c){var a,b=.005,l=Infinity,p,w,v,k,y,d;for(sf[0]=s,sf[1]=h,y=0;y<1;y+=.05)su[0]=ur(n,i,u,e,y),su[1]=ur(t,r,f,o,y),v=oe(sf,su),v<l&&(a=y,l=v);for(l=Infinity,d=0;d<32;d++){if(b<pnt)break;p=a-b;w=a+b;su[0]=ur(n,i,u,e,p);su[1]=ur(t,r,f,o,p);v=oe(su,sf);p>=0&&v<l?(a=p,l=v):(dl[0]=ur(n,i,u,e,w),dl[1]=ur(t,r,f,o,w),k=oe(dl,sf),w<=1&&k<l?(a=w,l=k):b*=.5)}return c&&(c[0]=ur(n,i,u,e,a),c[1]=ur(t,r,f,o,a)),yo(l)}function nr(n,t,i,r){var u=1-r;return u*(u*n+2*r*t)+r*r*i}function yot(n,t,i,r){return 2*((1-r)*(t-n)+r*(i-t))}function afr(n,t,i,r,u){var o=n-2*t+i,e=2*(t-n),l=n-r,s=0,h,f;if(po(o))bnt(e)&&(f=-l/e,f>=0&&f<=1&&(u[s++]=f));else if(h=e*e-4*o*l,po(h))f=-e/(2*o),f>=0&&f<=1&&(u[s++]=f);else if(h>0){var a=yo(h),f=(-e+a)/(2*o),c=(-e-a)/(2*o);f>=0&&f<=1&&(u[s++]=f);c>=0&&c<=1&&(u[s++]=c)}return s}function nti(n,t,i){var r=n+i-2*t;return r===0?.5:(n-t)/r}function pot(n,t,i,r,u){var f=(t-n)*r+n,e=(i-t)*r+t,o=(e-f)*r+f;u[0]=n;u[1]=f;u[2]=o;u[3]=o;u[4]=e;u[5]=i}function vfr(n,t,i,r,u,f,e,o,s){var c,p=.005,h=Infinity,l,w,v,y,a,b;for(sf[0]=e,sf[1]=o,l=0;l<1;l+=.05)su[0]=nr(n,i,u,l),su[1]=nr(t,r,f,l),a=oe(sf,su),a<h&&(c=l,h=a);for(h=Infinity,w=0;w<32;w++){if(p<pnt)break;v=c-p;y=c+p;su[0]=nr(n,i,u,v);su[1]=nr(t,r,f,v);a=oe(su,sf);v>=0&&a<h?(c=v,h=a):(dl[0]=nr(n,i,u,y),dl[1]=nr(t,r,f,y),b=oe(dl,sf),y<=1&&b<h?(c=y,h=b):p*=.5)}return s&&(s[0]=nr(n,i,u,c),s[1]=nr(t,r,f,c)),yo(h)}function tti(n,t,i){if(n.length!==0){for(var r=n[0],f=r[0],e=r[0],o=r[1],s=r[1],u=1;u<n.length;u++)r=n[u],f=ar(f,r[0]),e=vr(e,r[0]),o=ar(o,r[1]),s=vr(s,r[1]);t[0]=f;t[1]=o;i[0]=e;i[1]=s}}function iti(n,t,i,r,u,f){u[0]=ar(n,i);u[1]=ar(t,r);f[0]=vr(n,i);f[1]=vr(t,r)}function yfr(n,t,i,r,u,f,e,o,s,h){var y=dnt,p=ur,c,l=y(n,i,u,e,kot),a,v;for(s[0]=Infinity,s[1]=Infinity,h[0]=-Infinity,h[1]=-Infinity,c=0;c<l;c++)a=p(n,i,u,e,kot[c]),s[0]=ar(a,s[0]),h[0]=vr(a,h[0]);for(l=y(t,r,f,o,dot),c=0;c<l;c++)v=p(t,r,f,o,dot[c]),s[1]=ar(v,s[1]),h[1]=vr(v,h[1]);s[0]=ar(n,s[0]);h[0]=vr(n,h[0]);s[0]=ar(e,s[0]);h[0]=vr(e,h[0]);s[1]=ar(t,s[1]);h[1]=vr(t,h[1]);s[1]=ar(o,s[1]);h[1]=vr(o,h[1])}function pfr(n,t,i,r,u,f,e,o){var s=nti,h=nr,a=vr(ar(s(n,i,u),1),0),v=vr(ar(s(t,r,f),1),0),c=h(n,i,u,a),l=h(t,r,f,v);e[0]=ar(n,u,c);e[1]=ar(t,f,l);o[0]=vr(n,u,c);o[1]=vr(t,f,l)}function wfr(n,t,i,r,u,f,e,o,s){var c=se,l=he,a=Math.abs(u-f),v,h;if(a%ch<.0001&&a>.0001){o[0]=n-i;o[1]=t-r;s[0]=n+i;s[1]=t+r;return}for(hd[0]=bot(u)*i+n,hd[1]=wot(u)*r+t,cd[0]=bot(f)*i+n,cd[1]=wot(f)*r+t,c(o,hd,cd),l(s,hd,cd),u=u%ch,u<0&&(u=u+ch),f=f%ch,f<0&&(f=f+ch),u>f&&!e?f+=ch:u<f&&e&&(u+=ch),e&&(v=f,f=u,u=v),h=0;h<f;h+=Math.PI/2)h>u&&(ld[0]=bot(h)*i+n,ld[1]=wot(h)*r+t,c(o,ld,o),l(s,ld,s))}function bo(n,t,i,r,u,f,e){var h,l;if(u===0)return!1;var o=u,s=0,c=n;if(e>t+o&&e>r+o||e<t-o&&e<r-o||f>n+o&&f>i+o||f<n-o&&f<i-o)return!1;if(n!==i)s=(t-r)/(n-i),c=(n*r-i*t)/(n-i);else return Math.abs(f-n)<=o/2;return h=s*f-e+c,l=h*h/(s*s+1),l<=o/2*o/2}function bfr(n,t,i,r,u,f,e,o,s,h,c){var l,a;return s===0?!1:(l=s,c>t+l&&c>r+l&&c>f+l&&c>o+l||c<t-l&&c<r-l&&c<f-l&&c<o-l||h>n+l&&h>i+l&&h>u+l&&h>e+l||h<n-l&&h<i-l&&h<u-l&&h<e-l)?!1:(a=lfr(n,t,i,r,u,f,e,o,h,c,null),a<=l/2)}function fti(n,t,i,r,u,f,e,o,s){var h,c;return e===0?!1:(h=e,s>t+h&&s>r+h&&s>f+h||s<t-h&&s<r-h&&s<f-h||o>n+h&&o>i+h&&o>u+h||o<n-h&&o<i-h&&o<u-h)?!1:(c=vfr(n,t,i,r,u,f,o,s,null),c<=h/2)}function ko(n){return n%=nst,n<0&&(n+=nst),n}function kfr(n,t,i,r,u,f,e,o,s){var c,l,a,h;return e===0?!1:(c=e,o-=n,s-=t,l=Math.sqrt(o*o+s*s),l-c>i||l+c<i)?!1:Math.abs(r-u)%na<.0001?!0:(f?(a=r,r=ko(u),u=ko(a)):(r=ko(r),u=ko(u)),r>u&&(u+=na),h=Math.atan2(s,o),h<0&&(h+=na),h>=r&&h<=u||h+na>=r&&h+na<=u)}function pe(n,t,i,r,u,f){var o,e,s;return f>t&&f>r||f<t&&f<r?0:r===t?0:(o=r<t?1:-1,e=(f-t)/(r-t),(e===1||e===0)&&(o=r<t?.5:-.5),s=e*(i-n)+n,s>u?o:0)}function gfr(n,t){return Math.abs(n-t)<dfr}function ner(){var n=nu[0];nu[0]=nu[1];nu[1]=n}function ter(n,t,i,r,u,f,e,o,s,h){var p,w,l,v,b,y;if(h>t&&h>r&&h>f&&h>o||h<t&&h<r&&h<f&&h<o||(p=cfr(t,r,f,o,h,tr),p===0))return 0;for(w=0,l=-1,y=0;y<p;y++){var a=tr[y],c=a===0||a===1?.5:1,k=ur(n,i,u,e,a);k<s||(l<0&&(l=dnt(t,r,f,o,nu),nu[1]<nu[0]&&l>1&&ner(),v=ur(t,r,f,o,nu[0]),l>1&&(b=ur(t,r,f,o,nu[1]))),w+=l==2?a<nu[0]?v<t?c:-c:a<nu[1]?b<v?c:-c:o<b?c:-c:a<nu[0]?v<t?c:-c:o<v?c:-c)}return w}function ier(n,t,i,r,u,f,e,o){var a,c,v,y,h,s,l;if(o>t&&o>r&&o>f||o<t&&o<r&&o<f||(a=afr(t,r,f,o,tr),a===0))return 0;if(c=nti(t,r,f),c>=0&&c<=1){for(v=0,y=nr(t,r,f,c),h=0;h<a;h++)(s=tr[h]===0||tr[h]===1?.5:1,l=nr(n,i,u,tr[h]),l<e)||(v+=tr[h]<c?y<t?s:-s:f<y?s:-s);return v}return(s=tr[0]===0||tr[0]===1?.5:1,l=nr(n,i,u,tr[0]),l<e)?0:f<t?s:-s}function rer(n,t,i,r,u,f,e,o){var a,c,v,l,y,s,h;if((o-=t,o>i||o<-i)||(c=Math.sqrt(i*i-o*o),tr[0]=-c,tr[1]=c,a=Math.abs(r-u),a<.0001))return 0;if(a%ta<.0001)return r=0,u=ta,h=f?1:-1,e>=tr[0]+n&&e<=tr[1]+n?h:0;for(f?(c=r,r=ko(u),u=ko(c)):(r=ko(r),u=ko(u)),r>u&&(u+=ta),v=0,l=0;l<2;l++)y=tr[l],y+n>e&&(s=Math.atan2(o,y),h=f?1:-1,s<0&&(s=ta+s),(s>=r&&s<=u||s+ta>=r&&s+ta<=u)&&(s>Math.PI/2&&s<Math.PI*1.5&&(h=-h),v+=h));return v}function eti(n,t,i,r,u){for(var k,g,c=0,o=0,e=0,h=0,s=0,f=0;f<n.length;){k=n[f++];k===go.M&&f>1&&(i||(c+=pe(o,e,h,s,r,u)));f==1&&(o=n[f],e=n[f+1],h=o,s=e);switch(k){case go.M:h=n[f++];s=n[f++];o=h;e=s;break;case go.L:if(i){if(bo(o,e,n[f],n[f+1],t,r,u))return!0}else c+=pe(o,e,n[f],n[f+1],r,u)||0;o=n[f++];e=n[f++];break;case go.C:if(i){if(bfr(o,e,n[f++],n[f++],n[f++],n[f++],n[f],n[f+1],t,r,u))return!0}else c+=ter(o,e,n[f++],n[f++],n[f++],n[f++],n[f],n[f+1],r,u)||0;o=n[f++];e=n[f++];break;case go.Q:if(i){if(fti(o,e,n[f++],n[f++],n[f],n[f+1],t,r,u))return!0}else c+=ier(o,e,n[f++],n[f++],n[f],n[f+1],r,u)||0;o=n[f++];e=n[f++];break;case go.A:var y=n[f++],w=n[f++],d=n[f++],p=n[f++],l=n[f++],b=n[f++],rt=n[f++],nt=1-n[f++],a=Math.cos(l)*d+y,v=Math.sin(l)*p+w;if(f>1?c+=pe(o,e,a,v,r,u):(h=a,s=v),g=(r-y)*p/d+y,i){if(kfr(y,w,p,l,l+b,nt,t,g,u))return!0}else c+=rer(y,w,p,l,l+b,nt,g,u);o=Math.cos(l+b)*d+y;e=Math.sin(l+b)*p+w;break;case go.R:h=o=n[f++];s=e=n[f++];var tt=n[f++],it=n[f++],a=h+tt,v=s+it;if(i){if(bo(h,s,a,s,t,r,u)||bo(a,s,a,v,t,r,u)||bo(a,v,h,v,t,r,u)||bo(h,v,h,s,t,r,u))return!0}else c+=pe(a,s,a,v,r,u),c+=pe(h,v,h,s,r,u);break;case go.Z:if(i){if(bo(o,e,h,s,t,r,u))return!0}else c+=pe(o,e,h,s,r,u);o=h;e=s}}return i||gfr(e,s)||(c+=pe(o,e,h,s,r,u)||0),c!==0}function uer(n,t,i){return eti(n,0,!1,t,i)}function fer(n,t,i,r){return eti(n,t,!0,i,r)}function tt(n){ou.call(this,n);this.path=null}function lti(n,t,i,r,u,f,e,o,s,h,c){var v=s*(pd/180),l=yd(v)*(n-i)/2+vd(v)*(t-r)/2,a=-1*vd(v)*(n-i)/2+yd(v)*(t-r)/2,b=l*l/(e*e)+a*a/(o*o);b>1&&(e*=rst(b),o*=rst(b));var g=(u===f?-1:1)*rst((e*e*o*o-e*e*a*a-o*o*l*l)/(e*e*a*a+o*o*l*l))||0,p=g*e*a/o,w=g*-o*l/e,nt=(n+i)/2+yd(v)*p-vd(v)*w,tt=(t+r)/2+vd(v)*p+yd(v)*w,it=cti([1,0],[(l-p)/e,(a-w)/o]),k=[(l-p)/e,(a-w)/o],d=[(-1*l-p)/e,(-1*a-w)/o],y=cti(k,d);ust(k,d)<=-1&&(y=pd);ust(k,d)>=1&&(y=0);f===0&&y>0&&(y=y-2*pd);f===1&&y<0&&(y=y+2*pd);c.addData(h,nt,tt,e,o,it,y,v,f)}function cer(n){var k,y,b,c,l,d,g,nt,tt,it,s,h,a,v;if(!n)return[];for(k=n.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,","),y=0;y<ist.length;y++)k=k.replace(new RegExp(ist[y],"g"),"|"+ist[y]);var rt=k.split("|"),r=0,u=0,e=new gr,o=gr.CMD,p;for(y=1;y<rt.length;y++){var ut=rt[y],w=ut.charAt(0),i=0,t=ut.slice(1).replace(/e,-/g,"e-").split(","),f;for(t.length>0&&t[0]===""&&t.shift(),b=0;b<t.length;b++)t[b]=parseFloat(t[b]);while(i<t.length&&!isNaN(t[i])){if(isNaN(t[0]))break;s=r;h=u;switch(w){case"l":r+=t[i++];u+=t[i++];f=o.L;e.addData(f,r,u);break;case"L":r=t[i++];u=t[i++];f=o.L;e.addData(f,r,u);break;case"m":r+=t[i++];u+=t[i++];f=o.M;e.addData(f,r,u);w="l";break;case"M":r=t[i++];u=t[i++];f=o.M;e.addData(f,r,u);w="L";break;case"h":r+=t[i++];f=o.L;e.addData(f,r,u);break;case"H":r=t[i++];f=o.L;e.addData(f,r,u);break;case"v":u+=t[i++];f=o.L;e.addData(f,r,u);break;case"V":u=t[i++];f=o.L;e.addData(f,r,u);break;case"C":f=o.C;e.addData(f,t[i++],t[i++],t[i++],t[i++],t[i++],t[i++]);r=t[i-2];u=t[i-1];break;case"c":f=o.C;e.addData(f,t[i++]+r,t[i++]+u,t[i++]+r,t[i++]+u,t[i++]+r,t[i++]+u);r+=t[i-2];u+=t[i-1];break;case"S":c=r;l=u;a=e.len();v=e.data;p===o.C&&(c+=r-v[a-4],l+=u-v[a-3]);f=o.C;s=t[i++];h=t[i++];r=t[i++];u=t[i++];e.addData(f,c,l,s,h,r,u);break;case"s":c=r;l=u;a=e.len();v=e.data;p===o.C&&(c+=r-v[a-4],l+=u-v[a-3]);f=o.C;s=r+t[i++];h=u+t[i++];r+=t[i++];u+=t[i++];e.addData(f,c,l,s,h,r,u);break;case"Q":s=t[i++];h=t[i++];r=t[i++];u=t[i++];f=o.Q;e.addData(f,s,h,r,u);break;case"q":s=t[i++]+r;h=t[i++]+u;r+=t[i++];u+=t[i++];f=o.Q;e.addData(f,s,h,r,u);break;case"T":c=r;l=u;a=e.len();v=e.data;p===o.Q&&(c+=r-v[a-4],l+=u-v[a-3]);r=t[i++];u=t[i++];f=o.Q;e.addData(f,c,l,r,u);break;case"t":c=r;l=u;a=e.len();v=e.data;p===o.Q&&(c+=r-v[a-4],l+=u-v[a-3]);r+=t[i++];u+=t[i++];f=o.Q;e.addData(f,c,l,r,u);break;case"A":d=t[i++];g=t[i++];nt=t[i++];tt=t[i++];it=t[i++];s=r;h=u;r=t[i++];u=t[i++];f=o.A;lti(s,h,r,u,tt,it,d,g,nt,f,e);break;case"a":d=t[i++];g=t[i++];nt=t[i++];tt=t[i++];it=t[i++];s=r;h=u;r+=t[i++];u+=t[i++];f=o.A;lti(s,h,r,u,tt,it,d,g,nt,f,e)}}(w==="z"||w==="Z")&&(f=o.Z,e.addData(f));p=f}return e.toStatic(),e}function ati(n,t){var i=cer(n);return t=t||{},t.buildPath=function(n){var t;n.setData?(n.setData(i.data),t=n.getContext(),t&&n.rebuildPath(t)):(t=n,i.rebuildPath(t))},t.applyTransform=function(n){her(i,n);this.dirty(!0)},t}function ler(n,t){return new tt(ati(n,t))}function aer(n,t){return tt.extend(ati(n,t))}function ver(n,t){for(var i,r,f=[],e=n.length,u=0;u<e;u++)i=n[u],i.path||i.createPathProxy(),i.__dirtyPath&&i.buildPath(i.path,i.shape,!0),f.push(i.path);return r=new tt(t),r.createPathProxy(),r.buildPath=function(n){n.appendPath(f);var t=n.getContext();t&&n.rebuildPath(t)},r}function yti(n,t,i,r,u,f,e){var o=(i-n)*.5,s=(r-t)*.5;return(2*(t-i)+o+s)*e+(-3*(t-i)-2*o-s)*f+o*u+t}function bti(n,t,i){var r=t.points,f=t.smooth,o,e,u,l;if(r&&r.length>=2){if(f&&f!=="spline")for(o=wti(r,f,i,t.smoothConstraint),n.moveTo(r[0][0],r[0][1]),e=r.length,u=0;u<(i?e:e-1);u++){var s=o[u*2],h=o[u*2+1],c=r[(u+1)%e];n.bezierCurveTo(s[0],s[1],h[0],h[1],c[0],c[1])}else for(f==="spline"&&(r=pti(r,i)),n.moveTo(r[0][0],r[0][1]),u=1,l=r.length;u<l;u++)n.lineTo(r[u][0],r[u][1]);i&&n.closePath()}}function kti(n,t,i){var r=n.cpx2,u=n.cpy2;return r===null||u===null?[(i?knt:ur)(n.x1,n.cpx1,n.cpx2,n.x2,t),(i?knt:ur)(n.y1,n.cpy1,n.cpy2,n.y2,t)]:[(i?yot:nr)(n.x1,n.cpx1,n.x2,t),(i?yot:nr)(n.y1,n.cpy1,n.y2,t)]}function yf(n){return tt.extend(n)}function yer(n,t){return aer(n,t)}function np(n,t,i,r){var u=ler(n,t),f=u.getBoundingRect();return i&&(r==="center"&&(i=tii(i,f)),iii(u,i)),u}function nii(n,t,i){var r=new gi({style:{image:n,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(n){if(i==="center"){var u={width:n.width,height:n.height};r.setStyle(tii(t,u))}}});return r}function tii(n,t){var u=t.width/t.height,i=n.height*u,r,f,e;return i<=n.width?r=n.height:(i=n.width,r=i/u),f=n.x+n.width/2,e=n.y+n.height/2,{x:f-i/2,y:e-r/2,width:i,height:r}}function iii(n,t){if(n.applyTransform){var i=n.getBoundingRect(),r=i.calculateTransform(t);n.applyTransform(r)}}function vh(n){var t=n.shape,i=n.style.lineWidth;return ra(t.x1*2)===ra(t.x2*2)&&(t.x1=t.x2=wf(t.x1,i,!0)),ra(t.y1*2)===ra(t.y2*2)&&(t.y1=t.y2=wf(t.y1,i,!0)),n}function ost(n){var t=n.shape,i=n.style.lineWidth,f=t.x,e=t.y,r=t.width,u=t.height;return t.x=wf(t.x,i,!0),t.y=wf(t.y,i,!0),t.width=Math.max(wf(f+r,i,!1)-t.x,r===0?0:1),t.height=Math.max(wf(e+u,i,!1)-t.y,u===0?0:1),n}function wf(n,t,i){var r=ra(n*2);return(r+ra(t))%2==0?r/2:(r+(i?1:-1))/2}function rii(n){return n!=null&&n!="none"}function uii(n){return typeof n=="string"?edt(n,-.1):n}function fii(n){var r,i;if(n.__hoverStlDirty){var u=n.style.stroke,f=n.style.fill,t=n.__hoverStl;t.fill=t.fill||(rii(f)?uii(f):null);t.stroke=t.stroke||(rii(u)?uii(u):null);r={};for(i in t)t[i]!=null&&(r[i]=n.style[i]);n.__normalStl=r;n.__hoverStlDirty=!1}}function eii(n){if(!n.__isHover){if(fii(n),n.useHoverLayer)n.__zr&&n.__zr.addHover(n,n.__hoverStl);else{var t=n.style,i=t.insideRollbackOpt;i&&nor(t);t.extendFrom(n.__hoverStl);i&&(vii(t,t.insideOriginalTextPosition,i),t.textFill==null&&(t.textFill=i.autoColor));n.dirty(!1);n.z2+=1}n.__isHover=!0}}function oii(n){if(n.__isHover){var t=n.__normalStl;n.useHoverLayer?n.__zr&&n.__zr.removeHover(n):(t&&n.setStyle(t),n.z2-=1);n.__isHover=!1}}function sii(n){n.type==="group"?n.traverse(function(n){n.type!=="group"&&eii(n)}):eii(n)}function hii(n){n.type==="group"?n.traverse(function(n){n.type!=="group"&&oii(n)}):oii(n)}function cii(n,t){n.__hoverStl=n.hoverStyle||t||{};n.__hoverStlDirty=!0;n.__isHover&&fii(n)}function per(n){this.__hoverSilentOnTouch&&n.zrByTouch||this.__isEmphasis||sii(this)}function wer(n){this.__hoverSilentOnTouch&&n.zrByTouch||this.__isEmphasis||hii(this)}function ber(){this.__isEmphasis=!0;sii(this)}function ker(){this.__isEmphasis=!1;hii(this)}function vt(n,t,i){n.__hoverSilentOnTouch=i&&i.hoverSilentOnTouch;n.type==="group"?n.traverse(function(n){n.type!=="group"&&cii(n,t)}):cii(n,t);n.on("mouseover",per).on("mouseout",wer);n.on("emphasis",ber).on("normal",ker)}function gu(n,t,i,r,u,f,e){u=u||kd;var o=u.labelFetcher,s=u.labelDataIndex,h=u.labelDimIndex,c=i.getShallow("show"),l=r.getShallow("show"),a=c||l?si(o?o.getFormattedLabel(s,"normal",null,h):null,u.defaultText):null,v=c?a:null,y=l?si(o?o.getFormattedLabel(s,"emphasis",null,h):null,a):null;(v!=null||y!=null)&&(gt(n,i,f,u),gt(t,r,e,u,!0));n.text=v;t.text=y}function gt(n,t,i,r,u){return lii(n,t,r,u),i&&s(n,i),n.host&&n.host.dirty&&n.host.dirty(!1),n}function der(n,t,i){var r={isRectText:!0},u;i===!1?u=!0:r.autoColor=i;lii(n,t,r,u);n.host&&n.host.dirty&&n.host.dirty(!1)}function lii(n,t,i,r){var u,f,e,l;i=i||kd;i.isRectText&&(u=t.getShallow("position")||(r?null:"inside"),u==="outside"&&(u="top"),n.textPosition=u,n.textOffset=t.getShallow("offset"),f=t.getShallow("rotate"),f!=null&&(f*=Math.PI/180),n.textRotation=f,n.textDistance=si(t.getShallow("distance"),r?null:5));var h=t.ecModel,c=h&&h.option.textStyle,o=ger(t),s;if(o){s={};for(e in o)o.hasOwnProperty(e)&&(l=t.getModel(["rich",e]),aii(s[e]={},l,c,i,r))}return n.rich=s,aii(n,t,c,i,r,!0),i.forceRich&&!i.textStyle&&(i.textStyle={}),n}function ger(n){for(var t,i,r;n&&n!==n.ecModel;){if(i=(n.option||kd).rich,i){t=t||{};for(r in i)i.hasOwnProperty(r)&&(t[r]=1)}n=n.parentModel}return t}function aii(n,t,i,r,u,f){if(i=!u&&i||kd,n.textFill=dd(t.getShallow("color"),r)||i.color,n.textStroke=dd(t.getShallow("textBorderColor"),r)||i.textBorderColor,n.textStrokeWidth=si(t.getShallow("textBorderWidth"),i.textBorderWidth),!u){if(f){var e=n.textPosition;n.insideRollback=vii(n,e,r);n.insideOriginalTextPosition=e;n.insideRollbackOpt=r}n.textFill==null&&(n.textFill=r.autoColor)}n.fontStyle=t.getShallow("fontStyle")||i.fontStyle;n.fontWeight=t.getShallow("fontWeight")||i.fontWeight;n.fontSize=t.getShallow("fontSize")||i.fontSize;n.fontFamily=t.getShallow("fontFamily")||i.fontFamily;n.textAlign=t.getShallow("align");n.textVerticalAlign=t.getShallow("verticalAlign")||t.getShallow("baseline");n.textLineHeight=t.getShallow("lineHeight");n.textWidth=t.getShallow("width");n.textHeight=t.getShallow("height");n.textTag=t.getShallow("tag");f&&r.disableBox||(n.textBackgroundColor=dd(t.getShallow("backgroundColor"),r),n.textPadding=t.getShallow("padding"),n.textBorderColor=dd(t.getShallow("borderColor"),r),n.textBorderWidth=t.getShallow("borderWidth"),n.textBorderRadius=t.getShallow("borderRadius"),n.textBoxShadowColor=t.getShallow("shadowColor"),n.textBoxShadowBlur=t.getShallow("shadowBlur"),n.textBoxShadowOffsetX=t.getShallow("shadowOffsetX"),n.textBoxShadowOffsetY=t.getShallow("shadowOffsetY"));n.textShadowColor=t.getShallow("textShadowColor")||i.textShadowColor;n.textShadowBlur=t.getShallow("textShadowBlur")||i.textShadowBlur;n.textShadowOffsetX=t.getShallow("textShadowOffsetX")||i.textShadowOffsetX;n.textShadowOffsetY=t.getShallow("textShadowOffsetY")||i.textShadowOffsetY}function dd(n,t){return n!=="auto"?n:t&&t.autoColor?t.autoColor:null}function vii(n,t,i){var r=i.useInsideStyle,u;return n.textFill==null&&r!==!1&&(r===!0||i.isRectText&&t&&typeof t=="string"&&t.indexOf("inside")>=0)&&(u={textFill:null,textStroke:n.textStroke,textStrokeWidth:n.textStrokeWidth},n.textFill="#fff",n.textStroke==null&&(n.textStroke=i.autoColor,n.textStrokeWidth==null&&(n.textStrokeWidth=2))),u}function nor(n){var t=n.insideRollback;t&&(n.textFill=t.textFill,n.textStroke=t.textStroke,n.textStrokeWidth=t.textStrokeWidth)}function sst(n,t){var i=t||t.getModel("textStyle");return[n.fontStyle||i&&i.getShallow("fontStyle")||"",n.fontWeight||i&&i.getShallow("fontWeight")||"",(n.fontSize||i&&i.getShallow("fontSize")||12)+"px",n.fontFamily||i&&i.getShallow("fontFamily")||"sans-serif"].join(" ")}function yii(n,t,i,r,u,f){var h;if(typeof u=="function"&&(f=u,u=null),h=r&&r.isAnimationEnabled(),h){var s=n?"Update":"",e=r.getShallow("animationDuration"+s),c=r.getShallow("animationEasing"+s),o=r.getShallow("animationDelay"+s);typeof o=="function"&&(o=o(u,r.getAnimationDelayParams?r.getAnimationDelayParams(t,u):null));typeof e=="function"&&(e=e(u));e>0?t.animateTo(i,e,o||0,c,f,!!f):(t.stopAnimation(),t.attr(i),f&&f())}else t.stopAnimation(),t.attr(i),f&&f()}function k(n,t,i,r,u){yii(!0,n,t,i,r,u)}function fr(n,t,i,r,u){yii(!1,n,t,i,r,u)}function yh(n,t){for(var i=ty([]);n&&n!==t;)ih(i,n.getLocalTransform(),i),n=n.parent;return i}function bf(n,t,i){return t&&!gs(t)&&(t=pu.getLocalTransform(t)),i&&(t=yb([],t)),lt([],n,t)}function hst(n,t,i){var u=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),f=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),r=[n==="left"?-u:n==="right"?u:0,n==="top"?-f:n==="bottom"?f:0];return r=bf(r,t,i),Math.abs(r[0])>Math.abs(r[1])?r[0]>0?"right":"left":r[1]>0?"bottom":"top"}function cst(n,t,i){function u(n){var t={};return n.traverse(function(n){!n.isGroup&&n.anid&&(t[n.anid]=n)}),t}function r(n){var t={position:yu(n.position),rotation:n.rotation};return n.shape&&(t.shape=s({},n.shape)),t}if(n&&t){var f=u(n);t.traverse(function(n){var t,u;!n.isGroup&&n.anid&&(t=f[n.anid],t&&(u=r(n),n.attr(r(t)),k(n,u,i,n.dataIndex)))})}}function pii(n,t){return i(n,function(n){var r=n[0],i;return r=wd(r,t.x),r=bd(r,t.x+t.width),i=n[1],i=wd(i,t.y),i=bd(i,t.y+t.height),[r,i]})}function tor(n,t){var i=wd(n.x,t.x),u=bd(n.x+n.width,t.x+t.width),r=wd(n.y,t.y),f=bd(n.y+n.height,t.y+t.height);if(u>=i&&f>=r)return{x:i,y:r,width:u-i,height:f-r}}function tp(n,t,i){t=s({rectHover:!0},t);var r=t.style={strokeNoScale:!0};return i=i||{x:-1,y:-1,width:2,height:2},n?n.indexOf("image://")===0?(r.image=n.slice(8),l(r,i),new gi(t)):np(n.replace("path://",""),t,i,"center"):void 0}function it(n,t,i){this.parentModel=t;this.ecModel=i;this.option=n}function wii(n,t,i){for(var r=0;r<t.length;r++)if(t[r]&&(n=n&&typeof n=="object"?n[t[r]]:null,n==null))break;return n==null&&i&&(n=i.get(t)),n}function lst(n,t){var i=ao(n,"getParent");return i?i.call(n,t):n.parentModel}function tu(n){return n instanceof Array?n:n==null?[]:[n]}function wh(n,t){var u,f,r,e,i;if(n)for(u=n.emphasis=n.emphasis||{},f=n.normal=n.normal||{},r=0,e=t.length;r<e;r++)i=t[r],!u.hasOwnProperty(i)&&f.hasOwnProperty(i)&&(u[i]=f[i])}function ip(n){return n&&(n.value==null?n:n.value)}function vst(n){return ph(n)&&!(n instanceof Array)}function yst(n,t){var i=t&&t.type;return i==="ordinal"?n:(i==="time"&&typeof n!="number"&&n!=null&&n!=="-"&&(n=+wy(n)),n==null||n===""?NaN:+n)}function pst(n,t){t=(t||[]).slice();var r=i(n||[],function(n){return{exist:n}});return we(t,function(n,i){var u,f;if(ph(n)){for(u=0;u<r.length;u++)if(!r[u].option&&n.id!=null&&r[u].exist.id===n.id+""){r[u].option=n;t[i]=null;return}for(u=0;u<r.length;u++)if(f=r[u].exist,!r[u].option&&(f.id==null||n.id==null)&&n.name!=null&&!tg(n)&&!tg(f)&&f.name===n.name+""){r[u].option=n;t[i]=null;return}}}),we(t,function(n){var t,i;if(ph(n)){for(t=0;t<r.length;t++)if(i=r[t].exist,!r[t].option&&!tg(i)&&n.id==null){r[t].option=n;break}t>=r.length&&r.push({option:n})}}),r}function bii(n){var t=ui();we(n,function(n){var i=n.exist;i&&t.set(i.id,n)});we(n,function(n){var i=n.option;ct(!i||i.id==null||!t.get(i.id)||t.get(i.id)===n,"id duplicates: "+(i&&i.id));i&&i.id!=null&&t.set(i.id,n);n.keyInfo||(n.keyInfo={})});we(n,function(n){var u=n.exist,r=n.option,i=n.keyInfo,f;if(ph(r)){if(i.name=r.name!=null?r.name+"":u?u.name:'\0-',u)i.id=u.id;else if(r.id!=null)i.id=r.id+"";else{f=0;do i.id='\0'+i.name+'\0'+f++;while(t.get(i.id))}t.set(i.id,n)}})}function tg(n){return ph(n)&&n.id&&(n.id+"").indexOf('\0_ec_\0')===0}function oor(n,t){function f(n,t,i){for(var u,c,f,r=0,s=n.length;r<s;r++){var e=n[r].seriesId,h=tu(n[r].dataIndex),o=i&&i[e];for(u=0,c=h.length;u<c;u++)f=h[u],o&&o[f]?o[f]=null:(t[e]||(t[e]={}))[f]=1}}function r(n,t){var u=[],i,f;for(i in n)n.hasOwnProperty(i)&&n[i]!=null&&(t?u.push(+i):(f=r(n[i],!0),f.length&&u.push({seriesId:i,dataIndex:f})));return u}var i={},u={};return f(n||[],i),f(t||[],u,i),[r(i),r(u)]}function ig(n,t){return t.dataIndexInside!=null?t.dataIndexInside:t.dataIndex!=null?r(t.dataIndex)?i(t.dataIndex,function(t){return n.indexOfRawIndex(t)}):n.indexOfRawIndex(t.dataIndex):t.name!=null?r(t.name)?i(t.name,function(t){return n.indexOfName(t)}):n.indexOfName(t.name):void 0}function ug(n,t,i){var f,r,u;return li(t)&&(f={},f[t+"Index"]=0,t=f),r=i&&i.defaultMainType,!r||wst(t,r+"Index")||wst(t,r+"Id")||wst(t,r+"Name")||(t[r+"Index"]=0),u={},we(t,function(r,f){var r=t[f],s,h;if(f==="dataIndex"||f==="dataIndexInside"){u[f]=r;return}var c=f.match(/^(\w+)(Index|Id|Name)$/)||[],e=c[1],o=(c[2]||"").toLowerCase();!e||!o||r==null||o==="index"&&r==="none"||i&&i.includeMainTypes&&w(i.includeMainTypes,e)<0||(s={mainType:e},(o!=="index"||r!=="all")&&(s[o]=r),h=n.queryComponents(s),u[e+"Models"]=h,u[e+"Model"]=h[0])}),u}function sor(n,t){var u=n.dimensions,i,r;for(t=n.getDimension(t),i=0;i<u.length;i++)if(r=n.getDimensionInfo(u[i]),r.name===t)return r.coordDim}function hor(n,t){var i=[];return we(n.dimensions,function(r){var u=n.getDimensionInfo(r);u.coordDim===t&&(i[u.coordDimIndex]=u.name)}),i}function kii(n,t){var i=[];return we(n.dimensions,function(r){var f=n.getDimensionInfo(r),e=f.otherDims,u=e[t];u!=null&&u!==!1&&(i[u]=f.name)}),i}function wst(n,t){return n&&n.hasOwnProperty(t)}function bst(n){return[n||"",dii++,Math.random()].join(gii)}function cor(n){var t={};return n.registerSubTypeDefaulter=function(n,i){n=vo(n);t[n.main]=i},n.determineSubType=function(i,r){var u=r.type,f;return u||(f=vo(i).main,n.hasSubTypes(i)&&t[f]&&(u=t[f](r))),u},n}function lor(n,i){function u(n){var u={},e=[];return t(n,function(o){var s=r(u,o),c=s.originalDeps=i(o),h=f(c,n);s.entryCount=h.length;s.entryCount===0&&e.push(o);t(h,function(n){w(s.predecessor,n)<0&&s.predecessor.push(n);var t=r(u,n);w(t.successor,n)<0&&t.successor.push(o)})}),{graph:u,noEntryList:e}}function r(n,t){return n[t]||(n[t]={predecessor:[],successor:[]}),n[t]}function f(n,i){var r=[];return t(n,function(n){w(i,n)>=0&&r.push(n)}),r}n.topologicalTravel=function(n,i,r,f){function v(n){s[n].entryCount--;s[n].entryCount===0&&h.push(n)}function y(n){e[n]=!0;v(n)}if(n.length){var c=u(i),s=c.graph,h=c.noEntryList,e={};for(t(n,function(n){e[n]=!0});h.length;){var o=h.pop(),l=s[o],a=!!e[o];a&&(r.call(f,o,l.originalDeps.slice()),delete e[o]);t(l.successor,a?y:v)}t(e,function(){throw new Error("Circle dependency may exists");})}}}function kst(n,t,i,r,u){var e=0,o=0,f;r==null&&(r=Infinity);u==null&&(u=Infinity);f=0;t.eachChild(function(s,h){var w=s.position,c=s.getBoundingRect(),b=t.childAt(h+1),l=b&&b.getBoundingRect(),a,v,y,p;(n==="horizontal"?(y=c.width+(l?-l.x+c.x:0),a=e+y,a>r||s.newline?(e=0,a=y,o+=f+i,f=c.height):f=Math.max(f,c.height)):(p=c.height+(l?-l.y+c.y:0),v=o+p,v>u||s.newline?(e+=f+i,o=0,v=p,f=c.width):f=Math.max(f,c.width)),s.newline)||(w[0]=e,w[1]=o,n==="horizontal"?e=a+i:o=v+i)})}function aor(n,t,i){var r=t.width,f=t.height,e=u(n.x,r),o=u(n.y,f),s=u(n.x2,r),h=u(n.y2,f);return(isNaN(e)||isNaN(parseFloat(n.x)))&&(e=0),(isNaN(s)||isNaN(parseFloat(n.x2)))&&(s=r),(isNaN(o)||isNaN(parseFloat(n.y)))&&(o=0),(isNaN(h)||isNaN(parseFloat(n.y2)))&&(h=f),i=lo(i||0),{width:Math.max(s-e-i[1]-i[3],0),height:Math.max(h-o-i[0]-i[2],0)}}function ai(n,t,i){var w;i=lo(i||0);var e=t.width,o=t.height,s=u(n.left,e),h=u(n.top,o),v=u(n.right,e),y=u(n.bottom,o),r=u(n.width,e),f=u(n.height,o),c=i[2]+i[0],l=i[1]+i[3],a=n.aspect;isNaN(r)&&(r=e-v-l-s);isNaN(f)&&(f=o-y-c-h);a!=null&&(isNaN(r)&&isNaN(f)&&(a>e/o?r=e*.8:f=o*.8),isNaN(r)&&(r=a*f),isNaN(f)&&(f=r/a));isNaN(s)&&(s=e-v-r-l);isNaN(h)&&(h=o-y-f-c);switch(n.left||n.right){case"center":s=e/2-r/2-i[3];break;case"right":s=e-r-l}switch(n.top||n.bottom){case"middle":case"center":h=o/2-f/2-i[0];break;case"bottom":h=o-f-c}return s=s||0,h=h||0,isNaN(r)&&(r=e-l-s-(v||0)),isNaN(f)&&(f=o-c-h-(y||0)),w=new p(s+i[3],h+i[0],r,f),w.margin=i,w}function eg(n,t,i,r,u){var e=!u||!u.hv||u.hv[0],o=!u||!u.hv||u.hv[1],s=u&&u.boundingMode||"all",f,h;if(e||o){s==="raw"?f=n.type==="group"?new p(0,0,+t.width||0,+t.height||0):n.getBoundingRect():(f=n.getBoundingRect(),n.needLocalTransform()&&(h=n.getLocalTransform(),f=f.clone(),f.applyTransform(h)));t=ai(l({width:f.width,height:f.height},t),i,r);var c=n.position,a=e?t.x-f.x:0,v=o?t.y-f.y:0;n.attr("position",s==="raw"?[a,v]:[c[0]+a,c[1]+v])}}function vor(n,t){return n[bh[t][0]]!=null||n[bh[t][1]]!=null&&n[bh[t][2]]!=null}function is(n,t,i){function h(i,r){var s={},l=0,o={},a=0,v=2,c,h;if(fg(i,function(t){o[t]=n[t]}),fg(i,function(n){e(t,n)&&(s[n]=o[n]=t[n]);f(s,n)&&l++;f(o,n)&&a++}),u[r])return f(t,i[1])?o[i[2]]=null:f(t,i[2])&&(o[i[1]]=null),o;if(a!==v&&l){if(l>=v)return s;for(c=0;c<i.length;c++)if(h=i[c],!e(s,h)&&e(n,h)){s[h]=n[h];break}return s}return o}function e(n,t){return n.hasOwnProperty(t)}function f(n,t){return n[t]!=null&&n[t]!=="auto"}function c(n,t,i){fg(n,function(n){t[n]=i[n]})}var u,o,s;y(i)||(i={});u=i.ignoreSize;r(u)||(u=[u,u]);o=h(bh[0],0);s=h(bh[1],1);c(bh[0],n,o);c(bh[1],n,s)}function ua(n){return tri({},n)}function tri(n,t){return t&&n&&fg(nri,function(i){t.hasOwnProperty(i)&&(n[i]=t[i])}),n}function wor(n){var r=[];return t(g.getClassesByMainType(n),function(n){por.apply(r,n.prototype.dependencies||[])}),i(r,function(n){return vo(n).main})}function kor(n,i){t(i,function(t,i){g.hasClass(i)||(typeof t=="object"?n[i]=n[i]?a(n[i],t,!1):c(t):n[i]==null&&(n[i]=t))})}function dor(n){n=n;this.option={};this.option[iht]=1;this._componentsMap=ui({series:[]});this._seriesIndices=null;kor(n,this._theme.option);a(n,bor,!1);this.mergeOption(n)}function gor(n,t){r(t)||(t=t?[t]:[]);var i={};return pr(t,function(t){i[t]=(n.get(t)||[]).slice()}),i}function nsr(n,t,i){return t.type?t.type:i?i.subType:g.determineSubType(n,t)}function uht(n){return iri(n,function(n){return n.componentIndex})||[]}function uri(n,t){return t.hasOwnProperty("subType")?rs(n,function(n){return n.subType===t.subType}):n}function og(n){if(f&&!n._seriesIndices)throw new Error("Option should contains series.");}function tsr(n){t(fri,function(t){this[t]=h(n[t],n)},this)}function ir(){this._coordinateSystems=[]}function fht(n){this._api=n;this._timelineOptions=[];this._mediaList=[];this._mediaDefault;this._currentMediaIndices=[];this._optionBackup;this._newBaseOption}function rsr(n,t,r){var f=[],e=[],o,u,s=n.timeline,h;return n.baseOption&&(u=n.baseOption),(s||n.options)&&(u=u||{},f=(n.options||[]).slice()),n.media&&(u=u||{},h=n.media,hg(h,function(n){n&&n.option&&(n.query?e.push(n):o||(o=n))})),u||(u=n),u.timeline||(u.timeline=s),hg([u].concat(f).concat(i(e,function(n){return n.option})),function(n){hg(t,function(t){t(n,r)})}),{baseOption:u,timelineOptions:f,mediaDefault:o,mediaList:e}}function usr(n,i,r){var f={width:i,height:r,aspectratio:i/r},u=!0;return t(n,function(n,t){var i=t.match(isr),r,e;i&&i[1]&&i[2]&&(r=i[1],e=i[2].toLowerCase(),fsr(f[e],n,r)||(u=!1))}),u}function fsr(n,t,i){return i==="min"?n>=t:i==="max"?n<=t:n===t}function esr(n,t){return n.join(",")===t.join(",")}function osr(n,t){t=t||{};hg(t,function(t,i){var r,u;t!=null&&(r=n[i],g.hasClass(i)?(t=tu(t),r=tu(r),u=pst(r,t),n[i]=cg(u,function(n){return n.option&&n.exist?eri(n.exist,n.option,!0):n.exist||n.option})):n[i]=eri(r,t,!0))})}function fs(n){var f=n&&n.itemStyle,u,e;if(f)for(u=0,e=ori.length;u<e;u++){var t=ori[u],i=f.normal,r=f.emphasis;i&&i[t]&&(n[t]=n[t]||{},n[t].normal?a(n[t].normal,i[t]):n[t].normal=i[t],i[t]=null);r&&r[t]&&(n[t]=n[t]||{},n[t].emphasis?a(n[t].emphasis,r[t]):n[t].emphasis=r[t],r[t]=null)}}function er(n,t){var r=fa(n)&&n[t],u=fa(r)&&r.textStyle,i,f,t;if(u)for(i=0,f=ast.length;i<f;i++)t=ast[i],u.hasOwnProperty(t)&&(r[t]=u[t])}function wr(n){fa(n)&&(er(n,"normal"),er(n,"emphasis"))}function ssr(n){var s,e,u,o,f,i,t;if(fa(n)){if(fs(n),wr(n.label),wr(n.upperLabel),wr(n.edgeLabel),u=n.markPoint,fs(u),wr(u&&u.label),f=n.markLine,fs(n.markLine),wr(f&&f.label),s=n.markArea,wr(s&&s.label),er(n,"axisLabel"),er(n,"title"),er(n,"detail"),e=n.data,e)for(t=0;t<e.length;t++)fs(e[t]),wr(e[t]&&e[t].label);if(u=n.markPoint,u&&u.data)for(o=u.data,t=0;t<o.length;t++)fs(o[t]),wr(o[t]&&o[t].label);if(f=n.markLine,f&&f.data)for(i=f.data,t=0;t<i.length;t++)r(i[t])?(fs(i[t][0]),wr(i[t][0]&&i[t][0].label),fs(i[t][1]),wr(i[t][1]&&i[t][1].label)):(fs(i[t]),wr(i[t]&&i[t].label))}}function dh(n){return r(n)?n:n?[n]:[]}function eht(n){return(r(n)?n[0]:n)||{}}function hsr(n,t){var i,r;for(t=t.split(","),i=n,r=0;r<t.length;r++)if(i=i&&i[t[r]],i==null)break;return i}function csr(n,t,i,r){var u,e,f;for(t=t.split(","),u=n,f=0;f<t.length-1;f++)e=t[f],u[e]==null&&(u[e]={}),u=u[e];(r||u[t[f]]==null)&&(u[t[f]]=i)}function hri(n){t(lsr,function(t){t[0]in n&&!(t[1]in n)&&(n[t[1]]=n[t[0]])})}function or(){this.group=new e;this.uid=bst("viewChart")}function oht(n,t){if(n&&(n.trigger(t),n.type==="group"))for(var i=0;i<n.childCount();i++)oht(n.childAt(i),t)}function ari(n,i,r){var u=ig(n,i);u!=null?t(tu(u),function(t){oht(n.getItemGraphicEl(t),r)}):n.eachItemGraphicEl(function(n){oht(n,r)})}function sht(n,t,i){function s(){c=(new Date).getTime();r=null;n.apply(l,a||[])}var e,h=0,c=0,r=null,o,l,a,u,f;return t=t||0,f=function(){e=(new Date).getTime();l=this;a=arguments;var n=u||t,f=u||i;u=null;o=e-(f?h:c)-n;clearTimeout(r);f?r=setTimeout(s,n):o>=0?s():r=setTimeout(s,-o);h=e},f.clear=function(){r&&(clearTimeout(r),r=null)},f.debounceNextCall=function(n){u=n},f}function up(n,t,i,r){var u=n[t];if(u){var f=u[vg]||u,e=u[yri],o=u[vri];if(o!==i||e!==r){if(i==null||!r)return n[t]=f;u=n[t]=sht(f,i,r==="debounce");u[vg]=f;u[yri]=r;u[vri]=i}return u}}function pri(n,t){var i=n[t];i&&i[vg]&&(n[t]=i[vg])}function oa(n){return function(t,i,r){t=t&&t.toLowerCase();hi.prototype[n].call(this,t,i,r)}}function fp(){hi.call(this)}function ep(n,t,i){function e(n,t){return n.prio-t.prio}var r,u,t;i=i||{};typeof t=="string"&&(t=cui[t]);this.id;this.group;this._dom=n;r="canvas";f&&(r=(typeof window=="undefined"?global:window).__ECHARTS__DEFAULT__RENDERER__||r);u=this._zr=iot(n,{renderer:i.renderer||r,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height});this._throttledZrFlush=sht(h(u.flush,u),17);t=c(t);t&&lri(t,!0);this._theme=t;this._chartsViews=[];this._chartsMap={};this._componentsViews=[];this._componentsMap={};this._coordSysMgr=new ir;this._api=dsr(this);hi.call(this);this._messageCenter=new fp;this._initEvents();this.resize=h(this.resize,this);this._pendingActions=[];tk(op,e);tk(vht,e);u.animation.on("frame",this._onframe,this);vkt(this)}function iui(n,t,i){var e=this._model,o=this._coordSysMgr.getCoordinateSystems(),s,r,u;for(t=ug(e,t),r=0;r<o.length;r++)if(u=o[r],u[n]&&(s=u[n](e,t,i))!=null)return s;f&&console.warn("No coordinate system that supports "+n+" found by the given finder.")}function rui(n,t,i,r,u){function s(r){r&&r.__alive&&r[t]&&r[t](r.__model,e,n._api,i)}var e=n._model,f,o;if(!r){vi(n._componentsViews.concat(n._chartsViews),s);return}f={};f[r+"Id"]=i[r+"Id"];f[r+"Index"]=i[r+"Index"];f[r+"Name"]=i[r+"Name"];o={mainType:r,query:f};u&&(o.subType=u);e&&e.eachComponent(o,function(t){s(n[r==="series"?"_chartsMap":"_componentsMap"][t.__viewId])},n)}function uui(n,t){var f=n.type,p=n.escapeConnect,y=kg[f],h=y.actionInfo,u=(h.update||"update").split(":"),e=u.pop(),c,a,o,r,v;u=u[0]!=null&&wri(u[0]);this[lu]=!0;c=[n];a=!1;n.batch&&(a=!0,c=i(n.batch,function(t){return t=l(s({},t),n),t.batch=null,t}));o=[];v=f==="highlight"||f==="downplay";vi(c,function(n){r=y.action(n,this._model,this._api);r=r||s({},n);r.type=h.event||r.type;o.push(r);v?rui(this,e,n,"series"):u&&rui(this,e,n,u.main,u.sub)},this);e==="none"||v||u||(this[gh]?(nc.prepareAndUpdate.call(this,n),this[gh]=!1):nc[e].call(this,n));r=a?{type:h.event||f,escapeConnect:p,batch:o}:o[0];this[lu]=!1;t||this._messageCenter.trigger(r.type,r)}function pg(n){for(var t=this._pendingActions,i;t.length;)i=t.shift(),uui.call(this,i,n)}function wg(n){n||this.trigger("updated")}function lht(n,t,i){var r=this._api;vi(this._componentsViews,function(u){var f=u.__model;u[n](f,t,r,i);bg(f,u)},this);t.eachSeries(function(u){var f=this._chartsMap[u.__viewId];f[n](u,t,r,i);bg(u,f);sui(u,f)},this);oui(this._zr,t);vi(yht,function(n){n(t,r)})}function fui(n,t){for(var r,f=n==="component",u=f?this._componentsViews:this._chartsViews,e=f?this._componentsMap:this._chartsMap,o=this._zr,i=0;i<u.length;i++)u[i].__alive=!1;for(t[f?"eachComponent":"eachSeries"](function(n,i){var s,r,h,c;if(f){if(n==="series")return}else i=n;if(s="_ec_"+i.id+"_"+i.type,r=e[s],!r)if(h=wri(i.type),c=f?kf.getClass(h.main,h.sub):or.getClass(h.sub),c)r=new c,r.init(t,this._api),e[s]=r,u.push(r),o.add(r.group);else return;i.__viewId=r.__id=s;r.__alive=!0;r.__model=i;r.group.__ecComponentInfo={mainType:i.mainType,index:i.componentIndex}},this),i=0;i<u.length;)r=u[i],r.__alive?i++:(o.remove(r.group),r.dispose(t,this._api),u.splice(i,1),delete e[r.__id],r.__id=r.group.__ecComponentInfo=null)}function psr(n,t){vi(vht,function(i){i.func(n,t)})}function wsr(n){var t={};n.eachSeries(function(n){var i=n.get("stack"),r=n.getData(),u;i&&r.type==="list"&&(u=t[i],t.hasOwnProperty(i)&&u&&(r.stackedOn=u),t[i]=r)})}function bsr(n,t){var i=this._api;vi(op,function(r){r.isLayout&&r.func(n,i,t)})}function aht(n,t,i){var r=this._api;n.clearColorPalette();n.eachSeries(function(n){n.clearColorPalette()});vi(op,function(u){i&&u.isLayout||u.func(n,r,t)})}function ksr(n,t){var i=this._api;vi(this._componentsViews,function(r){var u=r.__model;r.render(u,n,i,t);bg(u,r)},this);vi(this._chartsViews,function(n){n.__alive=!1},this);n.eachSeries(function(r){var u=this._chartsMap[r.__viewId];u.__alive=!0;u.render(r,n,i,t);u.group.silent=!!r.get("silent");bg(r,u);sui(r,u)},this);oui(this._zr,n);vi(this._chartsViews,function(t){t.__alive||t.remove(n,i)},this)}function oui(n,t){var i=n.storage,r=0;i.traverse(function(n){n.isGroup||r++});r>t.get("hoverLayerThreshold")&&!d.node&&i.traverse(function(n){n.isGroup||(n.useHoverLayer=!0)})}function sui(n,t){var u=0,e,i,r;t.group.traverse(function(n){n.type==="group"||n.ignore||u++});e=+n.get("progressive");i=u>n.get("progressiveThreshold")&&e&&!d.node;i&&t.group.traverse(function(n){n.isGroup||(n.progressive=i?Math.floor(u++/e):-1,i&&n.stopAnimation(!0))});r=n.get("blendMode")||null;f&&!d.canvasSupported&&r&&r!=="source-over"&&console.warn("Only canvas support blendMode");t.group.traverse(function(n){n.isGroup||n.setStyle("blend",r)})}function bg(n,t){var i=n.get("z"),r=n.get("zlevel");t.group.traverse(function(n){n.type!=="group"&&(i!=null&&(n.z=i),r!=null&&(n.zlevel=r))})}function dsr(n){var t=n._coordSysMgr;return s(new tsr(n),{getCoordinateSystems:h(t.getCoordinateSystems,t),getComponentByElement:function(t){while(t){var i=t.__ecComponentInfo;if(i!=null)return n._model.getComponent(i.mainType,i.index);t=t.parent}}})}function thr(n){function u(n,t){for(var u,r=0;r<n.length;r++)u=n[r],u[i]=t}var r=0,f=1,e=2,i="__connectUpdateStatus";t(dg,function(o,s){n._messageCenter.on(s,function(o){if(gg[n.group]&&n[i]!==r){if(o&&o.escapeConnect)return;var h=n.makeActionFromEvent(o),s=[];t(tc,function(t){t!==n&&t.group===n.group&&s.push(t)});u(s,r);vi(s,function(n){n[i]!==f&&n.dispatchAction(h)});u(s,e)}})})}function ihr(n,t,i){var u,r;if(f){if(tot.replace(".","")-0<hht.zrender.replace(".","")-0)throw new Error("zrender/src "+tot+" is too old for ECharts "+bri+". Current version need ZRender "+hht.zrender+"+");if(!n)throw new Error("Initialize failed: invalid dom.");}return(u=wht(n),u)?(f&&console.warn("There is a chart instance already initialized on the dom."),u):(f&&(!hl(n)||n.nodeName.toUpperCase()==="CANVAS"||(n.clientWidth||i&&i.width!=null)&&(n.clientHeight||i&&i.height!=null)||console.warn("Can't get dom width or height")),r=new ep(n,t,i),r.id="ec_"+gsr++,tc[r.id]=r,n.setAttribute?n.setAttribute(nn,r.id):n[nn]=r.id,thr(r),r)}function rhr(n){if(r(n)){var i=n;n=null;t(i,function(t){t.group!=null&&(n=t.group)});n=n||"g_"+nhr++;t(i,function(t){t.group=n})}return gg[n]=!0,n}function aui(n){gg[n]=!1}function uhr(n){typeof n=="string"?n=tc[n]:n instanceof ep||(n=wht(n));n instanceof ep&&!n.isDisposed()&&n.dispose()}function wht(n){var t;return t=n.getAttribute?n.getAttribute(nn):n[nn],tc[t]}function fhr(n){return tc[n]}function ehr(n,t){cui[n]=t}function wi(n){hui.push(n)}function tf(n,t){if(typeof n=="function"&&(t=n,n=kri),f&&isNaN(n))throw new Error("Unkown processor priority");vht.push({prio:n,func:t})}function ohr(n){yht.push(n)}function ft(n,t,i){typeof t=="function"&&(i=t,t="");var r=y(n)?n.type:[n,n={event:t}][0];n.event=(n.event||r).toLowerCase();t=n.event;ct(tui.test(r)&&tui.test(t));kg[r]||(kg[r]={action:i,actionInfo:n});dg[t]=r}function bht(n,t){ir.register(n,t)}function shr(n){var t=ir.get(n);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()}function ni(n,t){if(typeof n=="function"&&(t=n,n=dri),f&&isNaN(n))throw new Error("Unkown layout priority");op.push({prio:n,func:t,isLayout:!0})}function pt(n,t){if(typeof n=="function"&&(t=n,n=nui),f&&isNaN(n))throw new Error("Unkown visual priority");op.push({prio:n,func:t})}function yui(n,t){pht[n]=t}function iu(n){return g.extend(n)}function yi(n){return kf.extend(n)}function sp(n){return ci.extend(n)}function sr(n){return or.extend(n)}function hhr(n){lkt("createCanvas",n)}function chr(n,t,i){t.geoJson&&!t.features&&(i=t.specialAreas,t=t.geoJson);typeof t=="string"&&(t=typeof JSON!="undefined"&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")());lui[n]={geoJson:t,specialAreas:i}}function tn(n){return lui[n]}function wui(n){return n}function es(n,t,i,r,u){this._old=n;this._new=t;this._oldKeyGetter=i||wui;this._newKeyGetter=r||wui;this.context=u}function bui(n,t,i,r,u){for(var o,e,f=0;f<n.length;f++)o="_ec_"+u[r](n[f],f),e=t[o],e==null?(i.push(o),t[o]=f):(e.length||(t[o]=e=[e]),e.push(f))}function kui(n,i){t(ahr.concat(i.__wrappedMethods||[]),function(t){i.hasOwnProperty(t)&&(n[t]=i[t])});n.__wrappedMethods=i.__wrappedMethods}function un(n){this._array=n||[]}function ght(n){return r(n)||(n=[n]),n}function dui(n,t){var e=n.dimensions,o=new yt(i(e,n.getDimensionInfo,n),n.hostModel),s,u,f,r,h;for(kui(o,n),s=o._storage={},u=n._storage,f=0;f<e.length;f++)r=e[f],h=u[r],s[r]=w(t,r)>=0?new h.constructor(u[r].length):u[r];return o}function rr(n,t,i){function g(n,t,i){vhr[t]?n.otherDims[t]=i:(n.coordDim=t,n.coordDimIndex=i,b.set(t,!0))}function nt(n,t,i){if(i||t.get(n)!=null){for(var r=0;t.get(n+r)!=null;)r++;n+=r}return t.set(n,!0),n}var p,e,s,k,h,u,d;t=t||[];i=i||{};n=(n||[]).slice();var l=(i.dimsDef||[]).slice(),y=ui(i.encodeDef),a=ui(),b=ui(),f=[],o=i.dimCount;for(o==null&&(p=ifi(t[0]),o=Math.max(r(p)&&p.length||1,n.length,l.length),fn(n,function(n){var t=n.dimsDef;t&&(o=Math.max(o,t.length))})),e=0;e<o;e++){var w=en(l[e])?{name:l[e]}:l[e]||{},v=w.name,u=f[e]={otherDims:{}};v!=null&&a.get(v)==null&&(u.name=u.tooltipName=v,a.set(v,e));w.type!=null&&(u.type=w.type)}for(y.each(function(n,t){n=y.set(t,tu(n).slice());fn(n,function(i,r){en(i)&&(i=a.get(i));i!=null&&i<o&&(n[r]=i,g(f[i],t,r))})}),s=0,fn(n,function(n){var i,n,t,u,r,e;if(en(n)?(i=n,n={}):(i=n.name,n=c(n),t=n.dimsDef,u=n.otherDims,n.name=n.coordDim=n.coordDimIndex=n.dimsDef=n.otherDims=null),r=tu(y.get(i)),!r.length)for(e=0;e<(t&&t.length||1);e++){while(s<f.length&&f[s].coordDim!=null)s++;s<f.length&&r.push(s++)}fn(r,function(r,e){var o=f[r];g(nfi(o,n),i,e);o.name==null&&t&&(o.name=o.tooltipName=t[e]);u&&nfi(o.otherDims,u)})}),k=i.extraPrefix||"value",h=0;h<o;h++)u=f[h]=f[h]||{},d=u.coordDim,d==null&&(u.coordDim=nt(k,b,i.extraFromZero),u.coordDimIndex=0,u.isExtraCoord=!0),u.name==null&&(u.name=nt(u.coordDim,a)),u.type==null&&tfi(t,h)&&(u.type="ordinal");return f}function ifi(n){return r(n)?n:y(n)?n.value:n}function yhr(n){for(var t=0;t<n.length&&n[t]==null;)t++;return n[t]}function phr(n){var t=yhr(n);return t!=null&&!r(ip(t))}function os(n,t,i){if(n=n||[],f&&!r(n))throw new Error("Invalid data.");var c=t.get("coordinateSystem"),l=rfi[c],s=ir.get(c),a={encodeDef:t.get("encode"),dimsDef:t.get("dimensions")},u=l&&l(n,t,i,a),e=u&&u.dimensions;e||(e=s&&(s.getDimensionsInfo?s.getDimensionsInfo():s.dimensions.slice())||["x","y"],e=rr(e,n,a));var v=u?u.categoryIndex:-1,o=new yt(e,t),y=whr(u,n),h={},p=v>=0&&phr(n)?function(n,t,i,r){return vst(n)&&(o.hasItemOption=!0),r===v?i:yst(ip(n),e[r])}:function(n,t,i,r){var c=ip(n),f=yst(c&&c[r],e[r]),s;return vst(n)&&(o.hasItemOption=!0),s=u&&u.categoryAxesModels,s&&s[t]&&typeof f=="string"&&(h[t]=h[t]||s[t].getCategories(),f=w(h[t],f),f<0&&!isNaN(f)&&(f=+f)),f};return o.hasItemOption=!1,o.initData(n,y,p),o}function hp(n){return n!=="category"&&n!=="time"}function cp(n){return n==="category"?"ordinal":n==="time"?"time":"float"}function whr(n,t){var u=[],o=n&&n.dimensions[n.categoryIndex],e,f,s,i;if(o&&(e=n.categoryAxesModels[o.name]),e&&(f=e.getCategories(),f))if(s=t.length,r(t[0])&&t[0].length>1)for(u=[],i=0;i<s;i++)u[i]=f[t[i][n.categoryIndex||0]];else u=f.slice(0);return u}function fi(n){this._setting=n||{};this._extent=[Infinity,-Infinity];this._interval=0;this.init&&this.init.apply(this,arguments)}function bhr(n,t,i,r){var f={},s=n[1]-n[0],u=f.interval=oot(s/t,!0),e,o;return i!=null&&u<i&&(u=f.interval=i),r!=null&&u>r&&(u=f.interval=r),e=f.intervalPrecision=ufi(u),o=f.niceTickExtent=[hn(Math.ceil(n[0]/u)*u,e),hn(Math.floor(n[1]/u)*u,e)],efi(o,n),f}function ufi(n){return td(n)+2}function ffi(n,t,i){n[t]=Math.max(Math.min(n[t],i[1]),i[0])}function efi(n,t){isFinite(n[0])||(n[0]=t[0]);isFinite(n[1])||(n[1]=t[1]);ffi(n,0,t);ffi(n,1,t);n[0]>n[1]&&(n[0]=n[1])}function khr(n,t,i,r){var u=[],e,f;if(!n)return u;for(e=1e4,t[0]<i[0]&&u.push(t[0]),f=i[0];f<=i[1];){if(u.push(f),f=hn(f+n,r),f===u[u.length-1])break;if(u.length>e)return[]}return t[1]>(u.length?u[u.length-1]:i[1])&&u.push(t[1]),u}function pn(n,t){return tcr(n,ncr(t))}function hfi(n,t){var c=n.type,i=t.getMin(),e=t.getMax(),a=i!=null,v=e!=null,s=n.getExtent(),h,o,l;return c==="ordinal"?h=(t.get("data")||[]).length:(o=t.get("boundaryGap"),r(o)||(o=[o||0,o||0]),typeof o[0]=="boolean"&&(f&&console.warn('Boolean type for boundaryGap is only allowed for ordinal axis. Please use string in percentage instead, e.g., "20%". Currently, boundaryGap is set to be 0.'),o=[0,0]),o[0]=u(o[0],1),o[1]=u(o[1],1),l=s[1]-s[0]||Math.abs(s[0])),i==null&&(i=c==="ordinal"?h?0:NaN:s[0]-o[0]*l),e==null&&(e=c==="ordinal"?h?h-1:NaN:s[1]+o[1]*l),i==="dataMin"?i=s[0]:typeof i=="function"&&(i=i({min:s[0],max:s[1]})),e==="dataMax"?e=s[1]:typeof e=="function"&&(e=e({min:s[0],max:s[1]})),i!=null&&isFinite(i)||(i=NaN),e!=null&&isFinite(e)||(e=NaN),n.setBlank(kv(i)||kv(e)),t.getNeedCrossZero()&&(i>0&&e>0&&!a&&(i=0),i<0&&e<0&&!v&&(e=0)),[i,e]}function ic(n,t){var u=hfi(n,t),f=t.getMin()!=null,e=t.getMax()!=null,o=t.get("splitNumber"),i,r;n.type==="log"&&(n.base=t.get("logBase"));i=n.type;n.setExtent(u[0],u[1]);n.niceExtent({splitNumber:o,fixMin:f,fixMax:e,minInterval:i==="interval"||i==="time"?t.get("minInterval"):null,maxInterval:i==="interval"||i==="time"?t.get("maxInterval"):null});r=t.get("interval");r!=null&&n.setInterval&&n.setInterval(r)}function ca(n,t){if(t=t||n.get("type"),t)switch(t){case"category":return new sn(n.getCategories(),[Infinity,-Infinity]);case"value":return new rf;default:return(fi.getClass(t)||rf).create(n)}}function ucr(n){var t=n.scale.getExtent(),i=t[0],r=t[1];return!(i>0&&r>0||i<0&&r<0)}function cfi(n,t,i,r,u){var s,h=0,c=0,a=(r-u)/180*Math.PI,e=1,o,l,f;for(t.length>40&&(e=Math.floor(t.length/40)),o=0;o<n.length;o+=e)l=n[o],f=ve(t[o],i,"center","top"),f.x+=l*Math.cos(a),f.y+=l*Math.sin(a),f.width*=1.3,f.height*=1.3,s?s.intersect(f)?(c++,h=Math.max(h,c)):(s.union(f),c=0):s=f.clone();return h===0&&e>1?e:(h+1)*e-1}function ict(n,t){var r=n.scale,u=r.getTicksLabels(),f=r.getTicks();return typeof t=="string"?(t=function(n){return function(t){return n.replace("{value}",t!=null?t:"")}}(t),i(u,t)):typeof t=="function"?i(f,function(i,r){return t(rct(n,i),r)},this):u}function rct(n,t){return n.type==="category"?n.scale.getLabel(t):t}function fcr(n){return y(n)&&n.value!=null?n.value:n+""}function acr(n,t){if(this.type!=="image"){var i=this.style,r=this.shape;r&&r.symbolType==="line"?i.stroke=n:this.__isEmptyBrush?(i.stroke=n,i.fill=t||"#fff"):(i.fill&&(i.fill=n),i.stroke&&(i.stroke=n));this.dirty(!1)}}function ru(n,t,i,r,u,f,e){var s=n.indexOf("empty")===0,o;return s&&(n=n.substr(5,1).toLowerCase()+n.substr(6)),o=n.indexOf("image://")===0?nii(n.slice(8),new p(t,i,r,u),e?"center":"cover"):n.indexOf("path://")===0?np(n.slice(7),{},new p(t,i,r,u),e?"center":"cover"):new lfi({shape:{symbolType:n,x:t,y:i,width:r,height:u}}),o.__isEmptyBrush=s,o.setColor=acr,o.setColor(f),o}function vcr(n){var t=n.get("data");return os(t,n,n.ecModel)}function ycr(n,t){var i=t,r;return t instanceof it||(i=new it(t),nt(i,rc)),r=ca(i),r.setExtent(n[0],n[1]),ic(r,i),r}function pcr(n){nt(n,rc)}function vfi(n,t){var r=n[1]-n[0],u=t,i=r/u/2;n[0]+=i;n[1]-=i}function pfi(n,t){return Math.abs(n-t)<yfi}function uc(n,t,i){var o=0,r=n[0],f,e,u;if(!r)return!1;for(f=1;f<n.length;f++)e=n[f],o+=pe(r[0],r[1],e[0],e[1],t,i),r=e;return u=n[0],pfi(r[0],u[0])&&pfi(r[1],u[1])||(o+=pe(r[0],r[1],u[0],u[1],t,i)),o!==0}function wn(n,t,i){if(this.name=n,this.geometries=t,i)i=[i[0],i[1]];else{var r=this.getBoundingRect();i=[r.x+r.width/2,r.y+r.height/2]}this.center=i}function wcr(n){var r,o,f,t,u,i,c;if(!n.UTF8Encoding)return n;for(r=n.UTF8Scale,r==null&&(r=1024),o=n.features,f=0;f<o.length;f++){var l=o[f],e=l.geometry,s=e.coordinates,h=e.encodeOffsets;for(t=0;t<s.length;t++)if(u=s[t],e.type==="Polygon")s[t]=wfi(u,h[t],r);else if(e.type==="MultiPolygon")for(i=0;i<u.length;i++)c=u[i],u[i]=wfi(c,h[t][i],r)}return n.UTF8Encoding=!1,n}function wfi(n,t,i){for(var r,u,e=[],o=t[0],s=t[1],f=0;f<n.length;f+=2)r=n.charCodeAt(f)-64,u=n.charCodeAt(f+1)-64,r=r>>1^-(r&1),u=u>>1^-(u&1),r+=o,u+=s,o=r,s=u,e.push([r/i,u/i]);return e}function bfi(n){var t,u=kii(n,"label"),i,r;if(u.length)t=u[0];else for(i=n.dimensions.slice();i.length&&(t=i.pop(),r=n.getDimensionInfo(t).type,r==="ordinal"||r==="time"););return t}function bcr(n,t){var i=n.getItemVisual(t,"symbolSize");return i instanceof Array?i.slice():[+i,+i]}function hct(n){return[n[0]/2,n[1]/2]}function la(n,t,i){e.call(this);this.updateData(n,t,i)}function kcr(n,t){this.parent.drift(n,t)}function aa(n){this.group=new e;this._symbolCtor=n||la}function kfi(n,t,i){var r=n.getItemLayout(t);return r&&!isNaN(r[0])&&!isNaN(r[1])&&!(i&&i(t))&&n.getItemVisual(t,"symbol")!=="none"}function dfi(n){return n>=0?1:-1}function gfi(n,t,i){for(var f=n.getBaseAxis(),s=n.getOtherAxis(f),c=f.onZero?0:s.scale.getExtent()[0],r=s.dim,h=r==="x"||r==="radius"?1:0,e,o=t.stackedOn,l=t.get(r,i),u;o&&dfi(o.get(r,i))===dfi(l);){e=o;break}return u=[],u[h]=t.get(f.dim,i),u[1-h]=e?e.get(r,i,!0):c,n.dataToPoint(u)}function ilr(n,t){var i=[];return t.diff(n).add(function(n){i.push({cmd:"+",idx:n})}).update(function(n,t){i.push({cmd:"=",idx:t,idx1:n})}).remove(function(n){i.push({cmd:"-",idx:n})}).execute(),i}function cs(n){return isNaN(n[0])||isNaN(n[1])}function lct(n,t,i,r,u,f,e,o,s,h,c){for(var l,y,a,g,w,p,nt=0,v=i,b=0;b<r;b++){if(l=t[v],v>=u||v<0)break;if(cs(l)){if(c){v+=f;continue}break}if(v===i)n[f>0?"moveTo":"lineTo"](l[0],l[1]),rei(ss,l);else if(s>0){if(y=v+f,a=t[y],c)while(a&&cs(t[y]))y+=f,a=t[y];var k=.5,d=t[nt],a=t[y];!a||cs(a)?rei(hs,l):(cs(a)&&!c&&(a=l),ee(cct,a,d),h==="x"||h==="y"?(p=h==="x"?0:1,g=Math.abs(l[p]-d[p]),w=Math.abs(l[p]-a[p])):(g=oo(l,d),w=oo(l,a)),k=w/(w+g),iei(hs,l,cct,-s*(1-k)));nei(ss,ss,o);tei(ss,ss,e);nei(hs,hs,o);tei(hs,hs,e);n.bezierCurveTo(ss[0],ss[1],hs[0],hs[1],l[0],l[1]);iei(ss,l,cct,s*k)}else n.lineTo(l[0],l[1]);nt=v;v+=f}return b}function act(n,t){var r=[Infinity,Infinity],u=[-Infinity,-Infinity],f,i;if(t)for(f=0;f<n.length;f++)i=n[f],i[0]<r[0]&&(r[0]=i[0]),i[1]<r[1]&&(r[1]=i[1]),i[0]>u[0]&&(u[0]=i[0]),i[1]>u[1]&&(u[1]=i[1]);return{min:t?r:u,max:t?u:r}}function fei(n,t){var i,r,u;if(n.length===t.length){for(i=0;i<n.length;i++)if(r=n[i],u=t[i],r[0]!==u[0]||r[1]!==u[1])return;return!0}}function eei(n){return typeof n=="number"?n:n?.3:0}function oei(n){var t=n.getGlobalExtent(),i,r;return n.onBand&&(i=n.getBandWidth()/2-1,r=t[1]>t[0]?1:-1,t[0]+=r*i,t[1]-=r*i),t}function sei(n){return n>=0?1:-1}function ulr(n,t){var u=n.getBaseAxis(),o=n.getOtherAxis(u),f=0,r,i,e;return u.onZero||(r=o.scale.getExtent(),r[0]>0?f=r[0]:r[1]<0&&(f=r[1])),i=o.dim,e=i==="x"||i==="radius"?1:0,t.mapArray([i],function(r,o){for(var h,c=t.stackedOn,s;c&&sei(c.get(i,o))===sei(r);){h=c;break}return s=[],s[e]=t.get(u.dim,o),s[1-e]=h?h.get(i,o,!0):f,n.dataToPoint(s)},!0)}function flr(n,t,i){var r=oei(n.getAxis("x")),u=oei(n.getAxis("y")),l=n.getBaseAxis().isHorizontal(),h=Math.min(r[0],r[1]),c=Math.min(u[0],u[1]),f=Math.max(r[0],r[1])-h,e=Math.max(u[0],u[1])-c,a=i.get("lineStyle.normal.width")||2,o=i.get("clipOverflow")?a/2:Math.max(f,e),s;return l?(c-=o,e+=o*2):(h-=o,f+=o*2),s=new ot({shape:{x:h,y:c,width:f,height:e}}),t&&(s.shape[l?"width":"height"]=0,fr(s,{shape:{width:f,height:e}},i)),s}function elr(n,t,i){var e=n.getAngleAxis(),s=n.getRadiusAxis(),o=s.getExtent(),r=e.getExtent(),u=Math.PI/180,f=new ts({shape:{cx:n.cx,cy:n.cy,r0:o[0],r:o[1],startAngle:-r[0]*u,endAngle:-r[1]*u,clockwise:e.inverse}});return t&&(f.shape.endAngle=-r[0]*u,fr(f,{shape:{endAngle:-r[1]*u}},i)),f}function hei(n,t,i){return n.type==="polar"?elr(n,t,i):flr(n,t,i)}function ls(n,t,i){for(var s,o,u,l,h,c=t.getBaseAxis(),r=c.dim==="x"||c.dim==="radius"?0:1,f=[],e=0;e<n.length-1;e++){s=n[e+1];o=n[e];f.push(o);u=[];switch(i){case"end":u[r]=s[r];u[1-r]=o[1-r];f.push(u);break;case"middle":l=(o[r]+s[r])/2;h=[];u[r]=h[r]=l;u[1-r]=o[1-r];h[1-r]=s[1-r];f.push(u);f.push(h);break;default:u[r]=o[r];u[1-r]=s[1-r];f.push(u)}}return n[e]&&f.push(n[e]),f}function olr(n,r){var o=n.getVisual("visualMeta"),s,h,c;if(o&&o.length&&n.count()){for(h=o.length-1;h>=0;h--)if(o[h].dimension<2){s=o[h];break}if(!s||r.type!=="cartesian2d"){f&&console.warn("Visual map on line style only support x or y dimension.");return}var k=s.dimension,l=n.dimensions[k],y=r.getAxis(l),u=i(s.stops,function(n){return{coord:y.toGlobalCoord(y.dataToCoord(n.value)),color:n.color}}),e=u.length,a=s.outerColors.slice();e&&u[0].coord>u[e-1].coord&&(u.reverse(),a.reverse());var p=10,v=u[0].coord-p,w=u[e-1].coord+p,b=w-v;return b<.001?"transparent":(t(u,function(n){n.offset=(n.coord-v)/b}),u.push({offset:e?u[e-1].offset:.5,color:a[1]||"transparent"}),u.unshift({offset:e?u[0].offset:.5,color:a[0]||"transparent"}),c=new ah(0,0,0,0,u,!0),c[l]=v,c[l+"2"]=w,c)}}function llr(n){return this._axes[n]}function vp(n){ap.call(this,n)}function cei(n,t){return t.type||(t.data?"category":"value")}function bct(n,t){return n.getCoordSysModel()===t}function ylr(n,t){var i=t*Math.PI/180,r=n.plain(),u=r.width,f=r.height,e=u*Math.cos(i)+f*Math.sin(i),o=u*Math.sin(i)+f*Math.cos(i);return new p(r.x,r.y,e,o)}function plr(n){var f=n.model,e=f.getFormattedLabels(),o=f.getModel("axisLabel"),i,s=1,r=e.length,t,h,u;for(r>40&&(s=Math.ceil(r/40)),t=0;t<r;t+=s)n.isLabelIgnored(t)||(h=o.getTextRect(e[t]),u=ylr(h,o.get("rotate")||0),i?i.union(u):i=u);return i}function pa(n,t,i){this._coordsMap={};this._coordsList=[];this._axesMap={};this._axesList=[];this._initCartesian(n,t,i);this.model=n}function aei(n,t,i){var f=n[t],r,e,u;if(i.onZero){if(r=i.onZeroAxisIndex,r!=null){u=f[r];u&&vei(u)&&(i.onZero=!1);return}for(e in f)if(f.hasOwnProperty(e)&&(u=f[e],u&&!vei(u))){r=+e;break}r==null&&(i.onZero=!1);i.onZeroAxisIndex=r}}function vei(n){return n.type==="category"||n.type==="time"||!vlr(n)}function wlr(n,t){var i=n.getExtent(),r=i[0]+i[1];n.toGlobalCoord=n.dim==="x"?function(n){return n+t}:function(n){return r-n+t};n.toLocalCoord=n.dim==="x"?function(n){return n-t}:function(n){return r-n+t}}function pei(n){return i(yei,function(t){var i=n.getReferringComponents(t)[0];if(f&&!i)throw new Error(t+' "'+kt(n.get(t+"Index"),n.get(t+"Id"),0)+'" not found');return i})}function wei(n){return n.get("coordinateSystem")==="cartesian2d"}function bei(n){var t={componentType:n.mainType};return t[n.mainType+"Index"]=n.componentIndex,t}function blr(n,t,i,r){var u=eot(i-n.rotation),f,e,s=r[0]>r[1],o=t==="start"&&!s||t!=="start"&&s;return py(u-ke/2)?(e=o?"bottom":"top",f="center"):py(u-ke*1.5)?(e=o?"top":"bottom",f="center"):(e="middle",f=u<ke*1.5&&u>ke/2?o?"left":"right":o?"right":"left"),{rotation:u,textAlign:f,textVerticalAlign:e}}function kei(n){var t=n.get("tooltip");return n.get("silent")||!(n.get("triggerEvent")||t&&t.show)}function klr(n,t,i){var f=n.get("axisLabel.showMinLabel"),e=n.get("axisLabel.showMaxLabel");t=t||[];i=i||[];var r=t[0],o=t[1],u=t[t.length-1],s=t[t.length-2],h=i[0],l=i[1],c=i[i.length-1],a=i[i.length-2];f===!1?(vu(r),vu(h)):dei(r,o)&&(f?(vu(o),vu(l)):(vu(r),vu(h)));e===!1?(vu(u),vu(c)):dei(s,u)&&(e?(vu(s),vu(a)):(vu(u),vu(c)))}function vu(n){n&&(n.ignore=!0)}function dei(n,t){var r=n&&n.getBoundingRect().clone(),u=t&&t.getBoundingRect().clone(),i;if(r&&u)return i=ty([]),rh(i,i,-n.rotation),r.applyTransform(ih([],i,n.getLocalTransform())),u.applyTransform(ih([],i,t.getLocalTransform())),r.intersect(u)}function gei(n){return n==="middle"||n==="center"}function dlr(n,t,i){var e=t.axis,f,h,c;if(t.get("axisTick.show")&&!e.scale.isBlank()){var o=t.getModel("axisTick"),p=o.getModel("lineStyle"),w=o.get("length"),b=noi(o,i.labelInterval),a=e.getTicksCoords(o.get("alignWithLabel")),k=e.scale.getTicks(),d=t.get("axisLabel.showMinLabel"),g=t.get("axisLabel.showMaxLabel"),r=[],u=[],s=n._transform,v=[],y=a.length;for(f=0;f<y;f++)gct(e,f,b,y,d,g)||(h=a[f],r[0]=h,r[1]=0,u[0]=h,u[1]=i.tickDirection*w,s&&(lt(r,r,s),lt(u,u,s)),c=new cu(vh({anid:"tick_"+k[f],shape:{x1:r[0],y1:r[1],x2:u[0],y2:u[1]},style:l(p.getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")}),z2:2,silent:!0})),n.group.add(c),v.push(c));return v}}function glr(n,i,r){var u=i.axis,c=kt(r.axisLabelShow,i.get("axisLabel.show"));if(c&&!u.scale.isBlank()){var f=i.getModel("axisLabel"),l=f.get("margin"),s=u.scale.getTicks(),a=i.getFormattedLabels(),v=(kt(r.labelRotate,f.get("rotate"))||0)*ke/180,o=dct(r.rotation,v,r.labelDirection),e=i.get("data"),h=[],y=kei(i),p=i.get("triggerEvent"),w=i.get("axisLabel.showMinLabel"),k=i.get("axisLabel.showMaxLabel");return t(s,function(t,c){var d;if(!gct(u,c,r.labelInterval,s.length,w,k)){d=f;e&&e[t]&&e[t].textStyle&&(d=new it(e[t].textStyle,f,i.ecModel));var g=d.getTextColor()||i.get("axisLine.lineStyle.color"),tt=u.dataToCoord(t),rt=[tt,r.labelOffset+r.labelDirection*l],nt=u.scale.getLabel(t),v=new b({anid:"label_"+t,position:rt,rotation:o.rotation,silent:y,z2:10});gt(v.style,d,{text:a[c],textAlign:d.getShallow("align",!0)||o.textAlign,textVerticalAlign:d.getShallow("verticalAlign",!0)||d.getShallow("baseline",!0)||o.textVerticalAlign,textFill:typeof g=="function"?g(u.type==="category"?nt:u.type==="value"?t+"":t,c):g});p&&(v.eventData=bei(i),v.eventData.targetType="axisLabel",v.eventData.value=nt);n._dumbGroup.add(v);v.updateTransform();h.push(v);n.group.add(v);v.decomposeTransform()}}),h}}function nar(n,t){var i={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return tar(i,n,t),i.seriesInvolved&&rar(i,n),i}function tar(n,t,i){var u=t.getComponent("tooltip"),r=t.getComponent("axisPointer"),f=r.get("link",!0)||[],e=[];ec(i.getCoordinateSystems(),function(i){function c(u,s,h){var c=h.model.getModel("axisPointer",r),w=c.get("show"),a,y;if(w&&(w!=="auto"||u||ilt(c))){s==null&&(s=c.get("triggerTooltip"));c=u?iar(h,o,r,t,u,s):c;var b=c.get("snap"),v=pp(h.model),k=s||b||h.type==="category",p=n.axesInfo[v]={key:v,axis:h,coordSys:i,axisPointerModel:c,triggerTooltip:s,involveSeries:k,snap:b,useHandle:ilt(c),seriesModels:[]};l[v]=p;n.seriesInvolved|=k;a=uar(f,h);a!=null&&(y=e[a]||(e[a]={axesInfo:{}}),y.axesInfo[v]=p,y.mapper=f[a].mapper,p.linkGroup=y)}}var s,l,a,o;if(i.axisPointerEnabled&&(s=pp(i.model),l=n.coordSysAxesInfo[s]={},n.coordSysMap[s]=i,a=i.model,o=a.getModel("tooltip",u),ec(i.getAxes(),kn(c,!1,null)),i.getTooltipAxes&&u&&o.get("show"))){var v=o.get("trigger")==="axis",h=o.get("axisPointer.type")==="cross",y=i.getTooltipAxes(o.get("axisPointer.axis"));(v||h)&&ec(y.baseAxes,kn(c,h?"cross":!0,v));h&&ec(y.otherAxes,kn(c,"cross",!1))}})}function iar(n,t,i,r,u,f){var s=t.getModel("axisPointer"),e={},o,h;return ec(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(n){e[n]=c(s.get(n))}),e.snap=n.type!=="category"&&!!f,s.get("type")==="cross"&&(e.type="line"),o=e.label||(e.label={}),o.show==null&&(o.show=!1),u==="cross"&&(o.show=!0,f||(h=e.lineStyle=s.get("crossStyle"),h&&l(o,h.textStyle))),n.model.getModel("axisPointer",new it(e,i,r))}function rar(n,t){t.eachSeries(function(t){var i=t.coordinateSystem,r=t.get("tooltip.trigger",!0),u=t.get("tooltip.show",!0);i&&r!=="none"&&r!==!1&&r!=="item"&&u!==!1&&t.get("axisPointer.show",!0)!==!1&&ec(n.coordSysAxesInfo[pp(i.model)],function(n){var r=n.axis;i.getAxis(r.dim)===r&&(n.seriesModels.push(t),n.seriesDataCount==null&&(n.seriesDataCount=0),n.seriesDataCount+=t.getData().count())})},this)}function uar(n,t){for(var r,u=t.model,f=t.dim,i=0;i<n.length;i++)if(r=n[i]||{},nlt(r[f+"AxisId"],u.id)||nlt(r[f+"AxisIndex"],u.componentIndex)||nlt(r[f+"AxisName"],u.name))return i}function nlt(n,t){return n==="all"||r(n)&&w(n,t)>=0||n===t}function far(n){var r=tlt(n),e,i;if(r){var u=r.axisPointerModel,o=r.axis.scale,f=u.option,s=u.get("status"),t=u.get("value");t!=null&&(t=o.parse(t));e=ilt(u);s==null&&(f.status=e?"show":"hide");i=o.getExtent().slice();i[0]>i[1]&&i.reverse();(t==null||t>i[1])&&(t=i[1]);t<i[0]&&(t=i[0]);f.value=t;e&&(f.status=r.axis.scale.isBlank()?"hide":"show")}}function tlt(n){var t=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[pp(n)]}function ear(n){var t=tlt(n);return t&&t.axisPointerModel}function ilt(n){return!!n.get("handle.show")}function pp(n){return n.type+"||"+n.id}function toi(n,t,i,r,u,f){var o=br.getAxisPointerClass(n.axisPointerClass),e;o&&(e=ear(t),e?(n._axisPointer||(n._axisPointer=new o)).render(t,e,r,f):ioi(n,r))}function ioi(n,t,i){var r=n._axisPointer;r&&r.dispose(t,i);n._axisPointer=null}function rlt(n,t,i){var v,w,b,y;i=i||{};var p=n.coordinateSystem,u=t.axis,r={},l=u.position,a=u.onZero?"onZero":l,s=u.dim,e=p.getRect(),o=[e.x,e.x+e.width,e.y,e.y+e.height],h={left:0,right:1,top:0,bottom:1,onZero:2},c=t.get("offset")||0,f=s==="x"?[o[2]-c,o[3]+c]:[o[0]-c,o[1]+c];return u.onZero&&(v=p.getAxis(s==="x"?"y":"x",u.onZeroAxisIndex),w=v.toGlobalCoord(v.dataToCoord(0)),f[h.onZero]=Math.max(Math.min(w,f[1]),f[0])),r.position=[s==="y"?f[h[a]]:o[0],s==="x"?f[h[a]]:o[3]],r.rotation=Math.PI/2*(s==="x"?0:1),b={top:-1,bottom:1,left:-1,right:1},r.labelDirection=r.tickDirection=r.nameDirection=b[l],r.labelOffset=u.onZero?f[h[l]]-f[h.onZero]:0,t.get("axisTick.inside")&&(r.tickDirection=-r.tickDirection),kt(i.labelInside,t.get("axisLabel.inside"))&&(r.labelDirection=-r.labelDirection),y=t.get("axisLabel.rotate"),r.labelRotate=a==="top"?-y:y,r.labelInterval=u.getLabelInterval(),r.z2=1,r}function foi(n){return n.get("stack")||gn+n.seriesIndex}function eoi(n){return n.dim+n.index}function har(n,t){var f=[],e=n.axis,o="axis0",s,h,u,i,r;if(e.type==="category"){for(s=e.getBandWidth(),i=0;i<n.count||0;i++)f.push(l({bandWidth:s,axisKey:o,stackId:gn+i},n));for(h=ooi(f,t),u=[],i=0;i<n.count;i++)r=h[o][gn+i],r.offsetCenter=r.offset+r.width/2,u.push(r);return u}}function car(n,t){var r=i(n,function(n){var f=n.getData(),e=n.coordinateSystem,t=e.getBaseAxis(),r=t.getExtent(),i=t.type==="category"?t.getBandWidth():Math.abs(r[1]-r[0])/f.count(),o=u(n.get("barWidth"),i),s=u(n.get("barMaxWidth"),i),h=n.get("barGap"),c=n.get("barCategoryGap");return{bandWidth:i,barWidth:o,barMaxWidth:s,barGap:h,barCategoryGap:c,axisKey:eoi(t),stackId:foi(n)}});return ooi(r,t)}function ooi(n){var r={},i;return t(n,function(n){var h=n.axisKey,c=n.bandWidth,t=r[h]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},u=t.stacks,i,f,e,o,s;r[h]=t;i=n.stackId;u[i]||t.autoWidthCount++;u[i]=u[i]||{width:0,maxWidth:0};f=n.barWidth;f&&!u[i].width&&(u[i].width=f,f=Math.min(t.remainedWidth,f),t.remainedWidth-=f);e=n.barMaxWidth;e&&(u[i].maxWidth=e);o=n.barGap;o!=null&&(t.gap=o);s=n.barCategoryGap;s!=null&&(t.categoryGap=s)}),i={},t(r,function(n,r){var h,l,a;i[r]={};var c=n.stacks,y=n.bandWidth,v=u(n.categoryGap,y),e=u(n.gap,1),s=n.remainedWidth,o=n.autoWidthCount,f=(s-v)/(o+(o-1)*e);f=Math.max(f,0);t(c,function(n){var t=n.maxWidth;t&&t<f&&(t=Math.min(t,s),n.width&&(t=Math.min(t,n.width)),s-=t,n.width=t,o--)});f=(s-v)/(o+(o-1)*e);f=Math.max(f,0);h=0;t(c,function(n){n.width||(n.width=f);l=n;h+=n.width*(1+e)});l&&(h-=l.width*e);a=-h/2;t(c,function(n,t){i[r][t]=i[r][t]||{offset:a,width:n.width};a+=n.width*(1+e)})}),i}function ntt(n,t){var u=car(hr(t.getSeriesByType(n),function(n){return!t.isSeriesFiltered(n)&&n.coordinateSystem&&n.coordinateSystem.type==="cartesian2d"})),i={},r={};t.eachSeriesByType(n,function(n){if(n.coordinateSystem.type==="cartesian2d"){var e=n.getData(),h=n.coordinateSystem,c=h.getBaseAxis(),t=foi(n),v=u[eoi(c)][t],l=v.offset,a=v.width,f=h.getOtherAxis(c),o=n.get("barMinHeight")||0,s=c.onZero?f.toGlobalCoord(f.dataToCoord(0)):f.getGlobalExtent()[0],y=[n.coordDimToDataDim("x")[0],n.coordDimToDataDim("y")[0]],p=e.mapArray(y,function(n,t){return h.dataToPoint([n,t])},!0);i[t]=i[t]||[];r[t]=r[t]||[];e.setLayout({offset:l,size:a});e.each(n.coordDimToDataDim(f.dim)[0],function(n,u){if(!isNaN(n)){i[t][u]||(i[t][u]={p:s,n:s},r[t][u]={p:s,n:s});var v=n>=0?"p":"n",y=p[u],k=i[t][u][v],d=r[t][u][v],w,b,h,c;f.isHorizontal()?(w=k,b=y[1]+l,h=y[0]-d,c=a,r[t][u][v]+=h,Math.abs(h)<o&&(h=(h<0?-1:1)*o),i[t][u][v]+=h):(w=y[0]+l,b=k,h=a,c=y[1]-d,r[t][u][v]+=c,Math.abs(c)<o&&(c=(c<=0?-1:1)*o),i[t][u][v]+=c);e.setItemLayout(u,{x:w,y:b,width:h,height:c})}},!0)}},this)}function soi(n,t,i,r,u,f){var e=i.getModel("label.normal"),o=i.getModel("label.emphasis");gu(n,t,e,o,{labelFetcher:u,labelDataIndex:f,defaultText:u.getRawValue(f),isRectText:!0,autoColor:r});hoi(n);hoi(t)}function hoi(n,t){n.textPosition==="outside"&&(n.textPosition=t)}function coi(n,t,i){i.style.text=null;k(i,{shape:{width:0}},t,n,function(){i.parent&&i.parent.remove(i)})}function loi(n,t,i){i.style.text=null;k(i,{shape:{r:i.shape.r0}},t,n,function(){i.parent&&i.parent.remove(i)})}function aoi(n,t,i,r,u,f,e,o){var h=t.getItemVisual(i,"color"),y=t.getItemVisual(i,"opacity"),c=r.getModel("itemStyle.normal"),a=r.getModel("itemStyle.emphasis").getBarItemStyle(),s,v;o||n.setShape("r",c.get("barBorderRadius")||0);n.useStyle(l({fill:h,opacity:y},c.getBarItemStyle()));s=r.getShallow("cursor");s&&n.attr("cursor",s);v=e?u.height>0?"bottom":"top":u.width>0?"left":"right";o||soi(n.style,a,r,h,f,i,v);vt(n,a)}function par(n,t){var i=n.get(yar)||0;return Math.min(i,Math.abs(t.width),Math.abs(t.height))}function war(n,t,i,r){var u=t.getData(),f=this.dataIndex,e=u.getName(f),o=t.get("selectedOffset");r.dispatchAction({type:"pieToggleSelect",from:n,name:e,seriesId:t.id});u.each(function(n){voi(u.getItemGraphicEl(n),u.getItemLayout(n),t.isSelected(u.getName(n)),o,i)})}function voi(n,t,i,r,u){var f=(t.startAngle+t.endAngle)/2,s=Math.cos(f),h=Math.sin(f),e=i?r:0,o=[s*e,h*e];u?n.animate().when(200,{position:o}).start("bounceOut"):n.attr("position",o)}function slt(n,t){function u(){i.ignore=i.hoverIgnore;r.ignore=r.hoverIgnore}function f(){i.ignore=i.normalIgnore;r.ignore=r.normalIgnore}e.call(this);var o=new ts({z2:2}),i=new af,r=new b;this.add(o);this.add(i);this.add(r);this.updateData(n,t,!0);this.on("emphasis",u).on("normal",f).on("mouseover",u).on("mouseout",f)}function poi(n,t,i,r,u,f,e){function p(t,i,r){for(var u=t;u<i;u++)if(n[u].y+=r,u>t&&u+1<i&&n[u+1].y>n[u].y+n[u].height){c(u,r/2);return}c(i-1,r/2)}function c(t,i){for(var r=t;r>=0;r--)if(n[r].y-=i,r>0&&n[r].y>n[r-1].y+n[r-1].height)break}function a(n,t,i,r,u,f){for(var s=f>0?t?Number.MAX_VALUE:0:t?Number.MAX_VALUE:0,e=0,a=n.length;e<a;e++)if(n[e].position!=="center"){var h=Math.abs(n[e].y-r),c=n[e].len,l=n[e].len2,o=h<u+c?Math.sqrt((u+c+l)*(u+c+l)-h*h):Math.abs(n[e].x-i);t&&o>=s&&(o=s-10);!t&&o<=s&&(o=s+10);n[e].x=i+o*f;s=o}}var o;n.sort(function(n,t){return n.y-t.y});var s=0,l,h=n.length,v=[],y=[];for(o=0;o<h;o++)l=n[o].y-s,l<0&&p(o,h,-l,u),s=n[o].y+n[o].height;for(e-s<0&&c(h-1,s-e),o=0;o<h;o++)n[o].y>=i?y.push(n[o]):v.push(n[o]);a(v,!1,t,i,r,u);a(y,!0,t,i,r,u)}function bar(n,t,i,r,u,f){for(var o,c,s=[],h=[],e=0;e<n.length;e++)n[e].x<t?s.push(n[e]):h.push(n[e]);for(poi(h,t,i,r,1,u,f),poi(s,t,i,r,-1,u,f),e=0;e<n.length;e++)o=n[e].linePoints,o&&(c=o[1][0]-o[2][0],o[2][0]=n[e].x<t?n[e].x+3:n[e].x-3,o[1][1]=o[2][1]=n[e].y,o[1][0]=o[2][0]+c)}function koi(){this.group=new e;this._symbolEl=new boi({})}function doi(n,t,i){ri.call(this,n,t,i);this.type="value";this.angle=0;this.name="";this.model}function ne(n,t,r){this._model=n;this.dimensions=[];this._indicatorAxes=i(n.getIndicatorModels(),function(n,t){var r="indicator_"+t,i=new doi(r,new rf);return i.name=n.get("name"),i.model=n,n.axis=i,this.dimensions.push(r),i},this);this.resize(n,r);this.cx;this.cy;this.r;this.startAngle}function ftt(n,t){return l({show:t},n)}function nvr(n){return r(n)||(n=[+n,+n]),n}function alt(){pu.call(this)}function oc(n){this.name=n;this.zoomLimit;pu.call(this);this._roamTransform=new alt;this._viewTransform=new alt;this._center;this._zoom}function rsi(n,t,i,r){var u=i.seriesModel,f=u?u.coordinateSystem:null;return f===this?f[n](r):null}function ba(n,t,i,r,u){oc.call(this,n);this.map=t;this._nameCoordMap=ui();this.loadGeoJson(i,r,u)}function usi(n,t,i,r){var f=i.geoModel,u=i.seriesModel,e=f?f.coordinateSystem:u?u.coordinateSystem||(u.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return e===this?e[n](r):null}function fsi(n,t){var c=n.get("boundingCoords"),o,s,i;c!=null&&(o=c[0],s=c[1],isNaN(o[0])||isNaN(o[1])||isNaN(s[0])||isNaN(s[1])?f&&console.error("Invalid boundingCoords"):this.setBoundingRect(o[0],o[1],s[0]-o[0],s[1]-o[1]));var y=this.getBoundingRect(),l,r=n.get("layoutCenter"),e=n.get("layoutSize"),a=t.getWidth(),v=t.getHeight(),w=n.get("aspectScale")||.75,h=y.width/y.height*w,p=!1;r&&e&&(r=[u(r[0],a),u(r[1],v)],e=u(e,Math.min(a,v)),isNaN(r[0])||isNaN(r[1])||isNaN(e)?f&&console.warn("Given layoutCenter or layoutSize data are invalid. Use left/top/width/height instead."):p=!0);p?(i={},h>1?(i.width=e,i.height=e/h):(i.height=e,i.width=e*h),i.y=r[1]-i.height/2,i.x=r[0]-i.width/2):(l=n.getBoxLayoutParams(),l.aspect=h,i=ai(l,{width:a,height:v}));this.setViewRect(i.x,i.y,i.width,i.height);this.setCenter(n.get("center"));this.setZoom(n.get("zoom"))}function esi(n,i){t(i.get("geoCoord"),function(t,i){n.addGeoCoord(i,t)})}function hvr(n,t,i){var r=ylt(n);r[t]=i}function cvr(n,t,i){var r=ylt(n),u=r[t];u===i&&(r[t]=null)}function osi(n,t){return!!ylt(n)[t]}function ylt(n){return n[vlt]||(n[vlt]={})}function bp(n){this.pointerChecker;this._zr=n;this._opt={};var t=h,i=t(lvr,this),r=t(avr,this),u=t(vvr,this),f=t(yvr,this),e=t(pvr,this);hi.call(this);this.setPointerChecker=function(n){this.pointerChecker=n};this.enable=function(t,o){if(this.disable(),this._opt=l(c(o)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}),t==null&&(t=!0),t===!0||t==="move"||t==="pan"){n.on("mousedown",i);n.on("mousemove",r);n.on("mouseup",u)}if(t===!0||t==="scale"||t==="zoom"){n.on("mousewheel",f);n.on("pinch",e)}};this.disable=function(){n.off("mousedown",i);n.off("mousemove",r);n.off("mouseup",u);n.off("mousewheel",f);n.off("pinch",e)};this.dispose=this.disable;this.isDragging=function(){return this._dragging};this.isPinching=function(){return this._pinching}}function lvr(n){if(!pet(n)&&(!n.target||!n.target.draggable)){var t=n.offsetX,i=n.offsetY;this.pointerChecker&&this.pointerChecker(n,t,i)&&(this._x=t,this._y=i,this._dragging=!0)}}function avr(n){if(!pet(n)&&hsi(this,"moveOnMouseMove",n)&&this._dragging&&n.gestureEvent!=="pinch"&&!osi(this._zr,"globalPan")){var t=n.offsetX,i=n.offsetY,r=this._x,u=this._y,f=t-r,e=i-u;this._x=t;this._y=i;this._opt.preventDefaultMouseMove&&ye(n.event);this.trigger("pan",f,e,r,u,t,i)}}function vvr(n){pet(n)||(this._dragging=!1)}function yvr(n){if(hsi(this,"zoomOnMouseWheel",n)&&n.wheelDelta!==0){var t=n.wheelDelta>0?1.1:1/1.1;ssi.call(this,n,t,n.offsetX,n.offsetY)}}function pvr(n){if(!osi(this._zr,"globalPan")){var t=n.pinchScale>1?1.1:1/1.1;ssi.call(this,n,t,n.pinchX,n.pinchY)}}function ssi(n,t,i,r){this.pointerChecker&&this.pointerChecker(n,i,r)&&(ye(n.event),this.trigger("zoom",t,i,r))}function hsi(n,t,i){var r=n._opt[t];return r&&(!li(r)||i.event[r+"Key"])}function csi(n,t,i){var r=n.target,u=r.position;u[0]+=t;u[1]+=i;r.dirty()}function lsi(n,t,i,r){var o=n.target,s=n.zoomLimit,e=o.position,h=o.scale,u=n.zoom=n.zoom||1,c,l,f;u*=t;s&&(c=s.min||0,l=s.max||Infinity,u=Math.max(Math.min(l,u),c));f=u/n.zoom;n.zoom=u;e[0]-=(i-e[0])*(f-1);e[1]-=(r-e[1])*(f-1);h[0]*=f;h[1]*=f;o.dirty()}function plt(n,t,i){var r=t.getComponentByElement(n.topTarget),u=r&&r.coordinateSystem;return r&&r!==i&&!asi[r.mainType]&&u&&u.model!==i}function vsi(n){var t=n.getItemStyle(),i=n.get("areaColor");return i!=null&&(t.fill=i),t}function wvr(n,t,r,u,f){if(r.off("click"),r.off("mousedown"),t.get("selectedMode")){r.on("mousedown",function(){n._mouseDownFlag=!0});r.on("click",function(e){var o,s;if(n._mouseDownFlag){for(n._mouseDownFlag=!1,o=e.target;!o.__regions;)o=o.parent;o&&(s={type:(t.mainType==="geo"?"geo":"map")+"ToggleSelect",batch:i(o.__regions,function(n){return{name:n.name,from:f.uid}})},s[t.mainType+"Id"]=t.id,u.dispatchAction(s),ysi(t,r))}})}}function ysi(n,i){i.eachChild(function(i){t(i.__regions,function(t){i.trigger(n.isSelected(t.name)?"emphasis":"normal")})})}function ctt(n,t){var i=new e;this._controller=new bp(n.getZr());this._controllerHost={target:t?i:null};this.group=i;this._updateGroup=t;this._mouseDownFlag}function psi(n,t,i){var o=n.getZoom(),u=n.getCenter(),r=t.zoom,f=n.dataToPoint(u),s,h;if(t.dx!=null&&t.dy!=null&&(f[0]-=t.dx,f[1]-=t.dy,u=n.pointToData(f),n.setCenter(u)),r!=null){i&&(s=i.min||0,h=i.max||Infinity,r=Math.max(Math.min(o*r,h),s)/o);n.scale[0]*=r;n.scale[1]*=r;var e=n.position,c=(t.originX-e[0])*(r-1),l=(t.originY-e[1])*(r-1);e[0]-=c;e[1]-=l;n.updateTransform();u=n.pointToData(f);n.setCenter(u);n.setZoom(r*o)}return{center:n.getCenter(),zoom:n.getZoom()}}function bvr(n,i){var r={},u=["value"];return t(n,function(n){n.each(u,function(t,i){var u="ec-"+n.getName(i);r[u]=r[u]||[];isNaN(t)||r[u].push(t)})}),n[0].map(u,function(t,u){for(var l,e="ec-"+n[0].getName(u),o=0,s=Infinity,h=-Infinity,c=r[e].length,f=0;f<c;f++)s=Math.min(s,r[e][f]),h=Math.max(h,r[e][f]),o+=r[e][f];return l=i==="min"?s:i==="max"?h:i==="average"?o/c:o,c===0?NaN:l})}function gsi(n){var t=n.mainData,i=n.datas;i||(i={main:t},n.datasAttr={main:"data"});n.datas=n.mainData=null;nhi(t,i,n);kp(i,function(i){kp(t.TRANSFERABLE_METHODS,function(t){i.wrapMethod(t,o(kvr,n))})});t.wrapMethod("cloneShallow",o(gvr,n));kp(t.CHANGABLE_METHODS,function(i){t.wrapMethod(i,o(dvr,n))});ct(i[t.dataType]===t)}function kvr(n,t){if(tyr(this)){var i=s({},this[dp]);i[this.dataType]=t;nhi(t,i,n)}else wlt(t,this.dataType,this[ltt],n);return t}function dvr(n,t){return n.struct&&n.struct.update(this),t}function gvr(n,t){return kp(t[dp],function(i,r){i!==t&&wlt(i.cloneShallow(),r,t,n)}),t}function nyr(n){var t=this[ltt];return n==null||t==null?t:t[dp][n]}function tyr(n){return n[ltt]===n}function nhi(n,t,i){n[dp]={};kp(t,function(t,r){wlt(t,r,n,i)})}function wlt(n,t,i,r){i[dp][t]=n;n[ltt]=i;n.dataType=t;r.struct&&(n[r.structAttr]=r.struct,r.struct[r.datasAttr[t]]=n);n.getLinkedData=nyr}function ka(n,t,r){this.root;this.data;this._nodes=[];this.hostModel=n;this.levelModels=i(t||[],function(t){return new it(t,n,n.ecModel)});this.leavesModel=new it(r||{},n,n.ecModel)}function iyr(n,t){var i=t.children;n.parentNode!==t&&(i.push(n),n.parentNode=t)}function ryr(n){var u,f,i,e,t,r;for(n.hierNode={defaultAncestor:null,ancestor:n,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null},u=[n];f=u.pop();)if(i=f.children,f.isExpand&&i.length)for(e=i.length,t=e-1;t>=0;t--)r=i[t],r.hierNode={defaultAncestor:null,ancestor:r,prelim:0,modifier:0,change:0,shift:0,i:t,thread:null},u.push(r)}function uyr(n,t){var r=n.isExpand?n.children:[],f=n.parentNode.children,i=n.hierNode.i?f[n.hierNode.i-1]:null,u;r.length?(oyr(n),u=(r[0].hierNode.prelim+r[r.length-1].hierNode.prelim)/2,i?(n.hierNode.prelim=i.hierNode.prelim+t(n,i),n.hierNode.modifier=n.hierNode.prelim-u):n.hierNode.prelim=u):i&&(n.hierNode.prelim=i.hierNode.prelim+t(n,i));n.parentNode.hierNode.defaultAncestor=syr(n,i,n.parentNode.hierNode.defaultAncestor||f[0],t)}function fyr(n){var t=n.hierNode.prelim+n.parentNode.hierNode.modifier;n.setLayout({x:t},!0);n.hierNode.modifier+=n.parentNode.hierNode.modifier}function thi(n){return arguments.length?n:lyr}function gp(n,t){var i={};return n-=Math.PI/2,i.x=t*Math.cos(n),i.y=t*Math.sin(n),i}function eyr(n,t){return ai(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function oyr(n){for(var r=n.children,u=r.length,i=0,f=0,t;--u>=0;)t=r[u],t.hierNode.prelim+=i,t.hierNode.modifier+=i,f+=t.hierNode.change,i+=t.hierNode.shift+f}function syr(n,t,i,r){var s;if(t){for(var e=n,u=n,o=u.parentNode.children[0],f=t,c=e.hierNode.modifier,h=u.hierNode.modifier,a=o.hierNode.modifier,l=f.hierNode.modifier;f=blt(f),u=klt(u),f&&u;)e=blt(e),o=klt(o),e.hierNode.ancestor=n,s=f.hierNode.prelim+l-u.hierNode.prelim-h+r(f,u),s>0&&(cyr(hyr(f,n,i),n,s),h+=s,c+=s),l+=f.hierNode.modifier,h+=u.hierNode.modifier,c+=e.hierNode.modifier,a+=o.hierNode.modifier;f&&!blt(e)&&(e.hierNode.thread=f,e.hierNode.modifier+=l-c);u&&!klt(o)&&(o.hierNode.thread=u,o.hierNode.modifier+=h-a,i=n)}return i}function blt(n){var t=n.children;return t.length&&n.isExpand?t[t.length-1]:n.hierNode.thread}function klt(n){var t=n.children;return t.length&&n.isExpand?t[0]:n.hierNode.thread}function hyr(n,t,i){return n.hierNode.ancestor.parentNode===t.parentNode?n.hierNode.ancestor:i}function cyr(n,t,i){var r=i/(t.hierNode.i-n.hierNode.i);t.hierNode.change-=r;t.hierNode.shift+=i;t.hierNode.modifier+=i;t.hierNode.prelim+=i;n.hierNode.change+=r}function lyr(n,t){return n.parentNode===t.parentNode?1:2}function ihi(n,t){var i=n.getItemLayout(t);return i&&!isNaN(i.x)&&!isNaN(i.y)&&n.getItemVisual(t,"symbol")!=="none"}function rhi(n,t,i){return i.itemModel=t,i.itemStyle=t.getModel("itemStyle.normal").getItemStyle(),i.hoverItemStyle=t.getModel("itemStyle.emphasis").getItemStyle(),i.lineStyle=t.getModel("lineStyle.normal").getLineStyle(),i.labelModel=t.getModel("label.normal"),i.hoverLabelModel=t.getModel("label.emphasis"),i.symbolInnerColor=n.isExpand===!1&&n.children.length!==0?i.itemStyle.fill:"#fff",i}function uhi(n,t,i,r,u,f){var rt=!i,o=n.tree.getNodeByDataIndex(t),ut=o.getModel(),f=rhi(o,ut,f),b=n.tree.root,d=o.parentNode===b?o:o.parentNode||o,y=n.getItemGraphicEl(d.dataIndex),g=d.getLayout(),w=y?{x:y.position[0],y:y.position[1],rawX:y.__radialOldRawX,rawY:y.__radialOldRawY}:g,s=o.getLayout(),nt,v,it,p;if(rt?(i=new la(n,t,f),i.attr("position",[w.x,w.y])):i.updateData(n,t,f),i.__radialOldRawX=i.__radialRawX,i.__radialOldRawY=i.__radialRawY,i.__radialRawX=s.rawX,i.__radialRawY=s.rawY,r.add(i),n.setItemGraphicEl(t,i),k(i,{position:[s.x,s.y]},u),nt=i.getSymbolPath(),f.layout==="radial"){var a=b.children[0],h=a.getLayout(),tt=a.children.length,e,c;s.x===h.x&&o.isExpand===!0?(v={},v.x=(a.children[0].getLayout().x+a.children[tt-1].getLayout().x)/2,v.y=(a.children[0].getLayout().y+a.children[tt-1].getLayout().y)/2,e=Math.atan2(v.y-h.y,v.x-h.x),e<0&&(e=Math.PI*2+e),c=v.x<h.x,c&&(e=e-Math.PI)):(e=Math.atan2(s.y-h.y,s.x-h.x),e<0&&(e=Math.PI*2+e),o.children.length===0||o.children.length!==0&&o.isExpand===!1?(c=s.x<h.x,c&&(e=e-Math.PI)):(c=s.x>h.x,c||(e=e-Math.PI)));it=c?"left":"right";nt.setStyle({textPosition:it,textRotation:-e,textOrigin:"center",verticalAlign:"middle"})}o.parentNode&&o.parentNode!==b&&(p=i.__edge,p||(p=i.__edge=new est({shape:dlt(f,w,w),style:l({opacity:0},f.lineStyle)})),k(p,{shape:dlt(f,g,s),style:{opacity:1}},u),r.add(p))}function fhi(n,t,i,r,u,f){for(var e=n.tree.getNodeByDataIndex(t),c=n.tree.root,l=e.getModel(),f=rhi(e,l,f),o=e.parentNode===c?e:e.parentNode||e,s,h;s=o.getLayout(),s==null;)o=o.parentNode===c?o:o.parentNode||o;k(i,{position:[s.x+1,s.y+1]},u,function(){r.remove(i);n.setItemGraphicEl(t,null)});i.fadeOut(null,{keepLabel:!0});h=i.__edge;h&&k(h,{shape:dlt(f,s,s),style:{opacity:0}},u,function(){r.remove(h)})}function dlt(n,t,i){var o,s,h,c,l=n.orient;if(n.layout==="radial"){var f=t.rawX,r=t.rawY,e=i.rawX,u=i.rawY,a=gp(f,r),v=gp(f,r+(u-r)*n.curvature),y=gp(e,u+(r-u)*n.curvature),p=gp(e,u);return{x1:a.x,y1:a.y,x2:p.x,y2:p.y,cpx1:v.x,cpy1:v.y,cpx2:y.x,cpy2:y.y}}var f=t.x,r=t.y,e=i.x,u=i.y;return l==="horizontal"&&(o=f+(e-f)*n.curvature,s=r,h=e+(f-e)*n.curvature,c=u),l==="vertical"&&(o=f,s=r+(u-r)*n.curvature,h=e,c=u+(r-u)*n.curvature),{x1:f,y1:r,x2:e,y2:u,cpx1:o,cpy1:s,cpx2:h,cpy2:c}}function ayr(n,t,i){for(var e=[n],o=[],r,u,f;r=e.pop();)if(o.push(r),r.isExpand&&(u=r.children,u.length))for(f=0;f<u.length;f++)e.push(u[f]);while(r=o.pop())t(r,i)}function nw(n,t){for(var f=[n],i,r,u;i=f.pop();)if(t(i),i.isExpand&&(r=i.children,r.length))for(u=r.length-1;u>=0;u--)f.push(r[u])}function glt(n,t){var r,i,u;if(n&&(n.type==="treemapZoomToNode"||n.type==="treemapRootToNode")){if(r=t.getData().tree.root,i=n.targetNode,i&&r.contains(i))return{node:i};if(u=n.targetNodeId,u!=null&&(i=r.getNodeById(u)))return{node:i}}}function ohi(n){for(var t=[];n;)n=n.parentNode,n&&t.push(n);return t.reverse()}function shi(n,t){var i=ohi(n);return w(i,t)>=0}function hhi(n,t){for(var i=[],r;n;)r=n.dataIndex,i.push({name:n.name,dataIndex:r,value:t.getRawValue(r)}),n=n.parentNode;return i.reverse(),i}function chi(n){var u=0,i;t(n.children,function(n){chi(n);var t=n.value;r(t)&&(t=t[0]);u+=t});i=n.value;r(i)&&(i=i[0]);(i==null||isNaN(i))&&(i=u);i<0&&(i=0);r(n.value)?n.value[0]=i:n.value=i}function pyr(n,i){var r=i.get("color"),u,f;if(r)return n=n||[],t(n,function(n){var t=new it(n),i=t.get("color");(t.get("itemStyle.normal.color")||i&&i!=="none")&&(u=!0)}),u||(f=n[0]||(n[0]={}),f.color=r.slice()),n}function tat(n){this.group=new e;n.add(this.group)}function byr(n,t,i,r,u,f){var e=[[u?n:n-nat,t],[n+i,t],[n+i,t+r],[u?n:n-nat,t+r]];return f||e.splice(2,0,[n+i+nat,t+r/2]),u||e.push([n,t+r/2]),e}function kyr(n,t,i){n.eventData={componentType:"series",componentSubType:"treemap",seriesIndex:t.componentIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:i&&i.dataIndex,name:i&&i.name},treePathInfo:i&&hhi(i,t)}}function dyr(){var n=[],t={},i;return{add:function(i,r,u,f,e){return(li(f)&&(e=f,f=0),t[i.id])?!1:(t[i.id]=1,n.push({el:i,target:r,time:u,delay:f,easing:e}),!0)},done:function(n){return i=n,this},start:function(){function o(){f--;f||(n.length=0,t={},i&&i())}for(var r,f=n.length,u=0,e=n.length;u<e;u++)r=n[u],r.el.animateTo(r.target,r.time,r.delay,r.easing,o);return this}}}function tw(){return{nodeGroup:[],background:[],content:[]}}function epr(n,t,i,r,u,f,e,o,h,l){function ht(t,i,r){i.dataIndex=e.dataIndex;i.seriesIndex=n.seriesIndex;i.setShape({x:0,y:0,width:p,height:w});var u=e.getVisual("borderColor",!0),f=d.get("borderColor");ot(i,function(){var t=phi(et),n,e;t.fill=u;n=iat(d);n.fill=f;r?(e=p-2*y,st(t,n,u,e,ut,{x:y,y:0,width:e,height:ut})):t.text=n.text=null;i.setStyle(t);vt(i,n)});t.add(i)}function ct(t,i){var r,u,f;i.dataIndex=e.dataIndex;i.seriesIndex=n.seriesIndex;r=Math.max(p-2*y,0);u=Math.max(w-2*y,0);i.culling=!0;i.setShape({x:y,y:y,width:r,height:u});f=e.getVisual("color",!0);ot(i,function(){var n=phi(et),t;n.fill=f;t=iat(d);st(n,t,f,r,u);i.setStyle(n);vt(i,t)});t.add(i)}function ot(n,t){it?n.invisible||f.push(n):(t(),n.__tmWillVisible||(n.invisible=!1))}function st(t,i,r,u,f,o){var h=e.getModel(),s=kt(n.getFormattedLabel(e.dataIndex,"normal",null,null,o?"upperLabel":"label"),h.get("name")),l;!o&&a.isLeafRoot&&(l=n.get("drillDownIcon",!0),s=l?l+" "+s:s);var v=h.getModel(o?tpr:gyr),p=h.getModel(o?ipr:npr),y=v.getShallow("show");gu(t,i,v,p,{defaultText:y?s:null,autoColor:r,isRectText:!0});o&&(t.textRect=c(o));t.truncate=y&&v.get("ellipsis")?{outerWidth:u,outerHeight:f,minChar:2}:null}function tt(n,r,f,e){var o=k!=null&&i[n][k],s=u[n];return o?(i[n][k]=null,lt(s,o,n)):it||(o=new r({z:opr(f,e)}),o.__tmDepth=f,o.__tmStorageName=n,at(s,o,n)),t[n][b]=o}function lt(n,t,i){var r=n[b]={};r.old=i==="nodeGroup"?t.position.slice():s({},t.shape)}function at(n,t,i){var s=n[b]={},h=e.parentNode;if(h&&(!r||r.direction==="drillDown")){var c=0,o=0,f=u.background[h.getRawIndex()];!r&&f&&f.old&&(c=f.old.width,o=f.old.height);s.old=i==="nodeGroup"?[0,o]:{x:c,y:o,width:0,height:0}}s.fadein=i!=="nodeGroup"}var a,g,nt;if(e&&(a=e.getLayout(),a&&a.isInView)){var p=a.width,w=a.height,y=a.borderWidth,it=a.invisible,b=e.getRawIndex(),k=o&&o.getRawIndex(),rt=e.viewChildren,ut=a.upperHeight,ft=rt&&rt.length,et=e.getModel("itemStyle.normal"),d=e.getModel("itemStyle.emphasis"),v=tt("nodeGroup",ahi);if(v)return(h.add(v),v.attr("position",[a.x||0,a.y||0]),v.__tmNodeWidth=p,v.__tmNodeHeight=w,a.isAboveViewRoot)?v:(g=tt("background",vhi,l,upr),g&&ht(v,g,ft&&a.upperHeight),ft||(nt=tt("content",vhi,l,fpr),nt&&ct(v,nt)),v)}}function opr(n,t){var i=n*rpr+t;return(i-1)/i}function spr(n){var i=n.pieceList;n.hasSpecialVisual=!1;t(i,function(t,i){t.originIndex=i;t.visual!=null&&(n.hasSpecialVisual=!0)})}function hpr(n){var u=n.categories,t=n.visual,e=n.categoryMap={},f,i;for(iw(u,function(n,t){e[n]=t}),r(t)||(f=[],y(t)?iw(t,function(n,t){var i=e[t];f[i!=null?i:ptt]=n}):f[ptt]=t,t=dhi(n,f)),i=u.length-1;i>=0;i--)t[i]==null&&(delete e[u[i]],u.pop())}function uat(n,t){var r=n.visual,i=[],u;y(r)?iw(r,function(n){i.push(n)}):r!=null&&i.push(r);u={color:1,symbol:1};t||i.length!==1||u.hasOwnProperty(n.type)||(i[1]=i[0]);dhi(n,i)}function wtt(n){return{applyVisual:function(t,i,r){t=this.mapValueToVisual(t);r("color",n(i("color"),t))},_doMap:oat([0,1])}}function khi(n){var t=this.option.visual;return t[Math.round(ti(n,[0,1],[0,t.length-1],!0))]||{}}function fat(n){return function(t,i,r){r(n,this.mapValueToVisual(t))}}function btt(n){var t=this.option.visual;return t[this.option.loop&&n!==ptt?n%t.length:n]}function eat(){return this.option.visual[0]}function oat(n){return{linear:function(t){return ti(t,n,this.option.visual,!0)},category:btt,piecewise:function(t,i){var r=sat.call(this,i);return r==null&&(r=ti(t,n,this.option.visual,!0)),r},fixed:eat}}function sat(n){var i=this.option,r=i.pieceList,u,t;if(i.hasSpecialVisual&&(u=et.findPieceIndex(n,r),t=r[u],t&&t.visual))return t.visual[this.type]}function dhi(n,t){return n.visual=t,n.type==="color"&&(n.parsedVisual=i(t,function(n){return eu(n)})),t}function ktt(n,t,i){return n?t<=i:t<i}function nci(n,i,r,u,f,e){var a=n.getModel(),s=n.getLayout(),o,p;if(s&&!s.invisible&&s.isInView){var h=n.getModel(hat),w=r[n.depth],c=apr(h,i,w,u),v=h.get("borderColor"),y=h.get("borderColorSaturation"),l;y!=null&&(l=tci(c,n),v=vpr(y,l));n.setVisual("borderColor",v);o=n.viewChildren;o&&o.length?(p=ypr(n,a,s,h,c,o),t(o,function(n,t){if(n.depth>=f.length||n===f[n.depth]){var i=ppr(a,c,n,t,p,e);nci(n,i,r,u,f,e)}})):(l=tci(c,n),n.setVisual("color",l))}}function apr(n,i,r,u){var f=s({},i);return t(["color","colorAlpha","colorSaturation"],function(t){var e=n.get(t,!0);e==null&&r&&(e=r[t]);e==null&&(e=i[t]);e==null&&(e=u.get(t));e!=null&&(f[t]=e)}),f}function tci(n){var t=cat(n,"color"),i,r;if(t)return i=cat(n,"colorAlpha"),r=cat(n,"colorSaturation"),r&&(t=pl(t,null,null,r)),i&&(t=pb(t,i)),t}function vpr(n,t){return t!=null?pl(t,null,null,n):null}function cat(n,t){var i=n[t];if(i!=null&&i!=="none")return i}function ypr(n,t,i,r,u,f){var s,h,e,a;if(f&&f.length&&(s=lat(t,"color")||u.color!=null&&u.color!=="none"&&(lat(t,"colorAlpha")||lat(t,"colorSaturation")),s)){var c=t.get("visualMin"),l=t.get("visualMax"),o=i.dataExtent.slice();return c!=null&&c<o[0]&&(o[0]=c),l!=null&&l>o[1]&&(o[1]=l),h=t.get("colorMappingBy"),e={type:s.name,dataExtent:o,visual:s.range},e.type==="color"&&(h==="index"||h==="id")?(e.mappingMethod="category",e.loop=!0):e.mappingMethod="linear",a=new et(e),a.__drColorMappingBy=h,a}}function lat(n,t){var i=n.get(t);return cpr(i)&&i.length?{name:t,range:i}:null}function ppr(n,t,i,r,u,f){var e=s({},t);if(u){var o=u.type,h=o==="color"&&u.__drColorMappingBy,c=h==="index"?r:h==="id"?f.mapIdToIndex(i.getId()):i.getValue(n.get("visualDimension"));e[o]=u.mapValueToVisual(c)}return e}function uci(n,t,i,r){var e,o,y,b,s,d,g,nt,f,v;if(!n.isRemoved()){y=n.getLayout();e=y.width;o=y.height;var h=n.getModel(),p=h.get(rci),c=h.get(wpr)/2,tt=oci(h),it=Math.max(p,tt),w=p-c,rt=it-c,h=n.getModel();if(n.setLayout({borderWidth:p,upperHeight:it,upperLabelHeight:tt},!0),e=rw(e-2*w,0),o=rw(o-w-rt,0),b=e*o,s=gpr(n,h,b,t,i,r),s.length){var l={x:w,y:rt,width:e,height:o},a=dtt(e,o),k=Infinity,u=[];for(u.area=0,f=0,v=s.length;f<v;)d=s[f],u.push(d),u.area+=d.getLayout().area,g=rwr(u,a,t.squareRatio),g<=k?(f++,k=g):(u.area-=u.pop().getLayout().area,fci(u,a,l,c,!1),a=dtt(l.width,l.height),u.length=u.area=0,k=Infinity);for(u.length&&fci(u,a,l,c,!0),i||(nt=h.get("childrenVisibleMin"),nt!=null&&b<nt&&(i=!0)),f=0,v=s.length;f<v;f++)uci(s[f],t,i,r+1)}}}function gpr(n,t,i,r,u,f){var e=n.children||[],s=r.sort,c,o,h,l,a;if(s!=="asc"&&s!=="desc"&&(s=null),c=r.leafDepth!=null&&r.leafDepth<=f,u&&!c)return n.viewChildren=[];if(e=hr(e,function(n){return!n.isRemoved()}),twr(e,s),o=iwr(t,e,s),o.sum===0)return n.viewChildren=[];if(o.sum=nwr(t,i,o.sum,s,e),o.sum===0)return n.viewChildren=[];for(h=0,l=e.length;h<l;h++)a=e[h].getValue()/o.sum*i,e[h].setLayout({area:a});return c&&(e.length&&n.setLayout({isLeafRoot:!0},!0),e.length=0),n.viewChildren=e,n.setLayout({dataExtent:o.dataExtent},!0),e}function nwr(n,t,i,r,u){var f,s;if(!r)return i;var h=n.get("visibleMin"),e=u.length,o=e;for(f=e-1;f>=0;f--)s=u[r==="asc"?e-f-1:f].getValue(),s/i*t<h&&(o=f,i-=s);return r==="asc"?u.splice(0,e-o):u.splice(o,e-o),i}function twr(n,t){return t&&n.sort(function(n,i){var r=t==="asc"?n.getValue()-i.getValue():i.getValue()-n.getValue();return r===0?t==="asc"?n.dataIndex-i.dataIndex:i.dataIndex-n.dataIndex:r}),n}function iwr(n,t,i){for(var f,r,e=0,u=0,o=t.length;u<o;u++)e+=t[u].getValue();return f=n.get("visualDimension"),t&&t.length?f==="value"&&i?(r=[t[t.length-1].getValue(),t[0].getValue()],i==="asc"&&r.reverse()):(r=[Infinity,-Infinity],aat(t,function(n){var t=n.getValue(f);t<r[0]&&(r[0]=t);t>r[1]&&(r[1]=t)})):r=[NaN,NaN],{sum:e,dataExtent:r}}function rwr(n,t,i){for(var u,s,f=0,e=Infinity,o=0,r,h=n.length;o<h;o++)r=n[o].getLayout().area,r&&(r<e&&(e=r),r>f&&(f=r));return u=n.area*n.area,s=t*t*i,u?rw(s*f/u,u/(s*e)):Infinity}function fci(n,t,i,r,u){var o=t===i.width?0:1,f=1-o,s=["x","y"],h=["width","height"],a=i[s[o]],e=t?n.area/t:0,c,v;for((u||e>i[h[f]])&&(e=i[h[f]]),c=0,v=n.length;c<v;c++){var y=n[c],l={},p=e?y.getLayout().area/e:0,k=l[h[f]]=rw(e-2*r,0),w=i[s[o]]+i[h[o]]-a,b=c===v-1||w<p?w:p,d=l[h[o]]=rw(b-2*r,0);l[s[f]]=i[s[f]]+dtt(r,k/2);l[s[o]]=a+dtt(r,d/2);a+=b;y.setLayout(l,!0)}i[s[f]]+=e;i[h[f]]-=e}function uwr(n,t,i,r,u){var e=(t||{}).node,p=[r,u],h,o,f,l,a,c,w,v,y;if(!e||e===i)return p;for(o=r*u,f=o*n.option.zoomToNodeRatio;h=e.parentNode;){for(l=0,a=h.children,c=0,w=a.length;c<w;c++)l+=a[c].getValue();if(v=e.getValue(),v===0)return p;f*=l/v;var b=h.getModel(),s=b.get(rci),k=Math.max(s,oci(b,s));f+=4*s*s+(3*s+k)*Math.pow(f,.5);f>id&&(f=id);e=h}return f<o&&(f=o),y=Math.pow(f/o,.5),[r*y,u*y]}function fwr(n,t,i){var s,e,f,r,u,o;if(t)return{x:t.x,y:t.y};if((s={x:0,y:0},!i)||(e=i.node,f=e.getLayout(),!f))return s;for(r=[f.width/2,f.height/2],u=e;u;)o=u.getLayout(),r[0]+=o.x,r[1]+=o.y,u=u.parentNode;return{x:n.width/2-r[0],y:n.height/2-r[1]}}function eci(n,t,i,r,u){var f=n.getLayout(),e=i[u],o=e&&e===n,s;(!e||o)&&(u!==i.length||n===r)&&(n.setLayout({isInView:!0,invisible:!o&&!t.intersect(f),isAboveViewRoot:o},!0),s=new p(t.x-f.x,t.y-f.y,t.width,t.height),aat(n.viewChildren||[],function(n){eci(n,s,i,r,u+1)}))}function oci(n){return n.get(bpr)?n.get(kpr):0}function ga(n){return"_EC_"+n}function ie(n,t){this.id=n==null?"":n;this.inEdges=[];this.outEdges=[];this.edges=[];this.hostGraph;this.dataIndex=t==null?-1:t}function gtt(n,t,i){this.node1=n;this.node2=t;this.dataIndex=i==null?-1:i}function pat(n){return isNaN(+n.cpx1)||isNaN(+n.cpy1)}function lci(n){return"_"+n+"Type"}function aci(n,t,i){var o=t.getItemVisual(i,"color"),f=t.getItemVisual(i,n),u=t.getItemVisual(i,n+"Size"),e;if(f&&f!=="none")return r(u)||(u=[u,u]),e=ru(f,-u[0]/2,-u[1]/2,u[0],u[1],o),e.name=n,e}function ewr(n){var t=new cci({name:"line"});return wat(t.shape,n),t}function wat(n,t){var r=t[0],u=t[1],i=t[2];n.x1=r[0];n.y1=r[1];n.x2=u[0];n.y2=u[1];n.percent=1;i?(n.cpx1=i[0],n.cpy1=i[1]):(n.cpx1=NaN,n.cpy1=NaN)}function owr(){var v=this,c=v.childOfName("fromSymbol"),l=v.childOfName("toSymbol"),i=v.childOfName("label"),r,o,u,t,y,p,w,f,b;if(c||l||!i.ignore){for(r=1,o=this.parent;o;)o.scale&&(r/=o.scale[0]),o=o.parent;if(u=v.childOfName("line"),this.__dirty||u.__dirty){var s=u.shape.percent,a=u.pointAt(0),h=u.pointAt(s),n=ee([],h,a);if(cl(n,n),c&&(c.attr("position",a),t=u.tangentAt(0),c.attr("rotation",Math.PI/2-Math.atan2(t[1],t[0])),c.attr("scale",[r*s,r*s])),l&&(l.attr("position",h),t=u.tangentAt(1),l.attr("rotation",-Math.PI/2-Math.atan2(t[1],t[0])),l.attr("scale",[r*s,r*s])),!i.ignore){if(i.attr("position",h),f=5*r,i.__position==="end")y=[n[0]*f+h[0],n[1]*f+h[1]],p=n[0]>.8?"left":n[0]<-.8?"right":"center",w=n[1]>.8?"top":n[1]<-.8?"bottom":"middle";else if(i.__position==="middle"){var k=s/2,t=u.tangentAt(k),e=[t[1],-t[0]],d=u.pointAt(k);e[1]>0&&(e[0]=-e[0],e[1]=-e[1]);y=[d[0]+e[0]*f,d[1]+e[1]*f];p="center";w="bottom";b=-Math.atan2(t[1],t[0]);h[0]<a[0]&&(b=Math.PI+b);i.attr("rotation",b)}else y=[-n[0]*f+a[0],-n[1]*f+a[1]],p=n[0]>.8?"right":n[0]<-.8?"left":"center",w=n[1]>.8?"bottom":n[1]<-.8?"top":"middle";i.attr({style:{textVerticalAlign:i.__verticalAlign||w,textAlign:i.__textAlign||p},position:y,scale:[r,r]})}}}}function fw(n,t,i){e.call(this);this._createLine(n,t,i)}function vci(n){return isNaN(n[0])||isNaN(n[1])}function yci(n){return!vci(n[0])&&!vci(n[1])}function tit(n){this._ctor=n||fw;this.group=new e}function wci(n,t,i){for(var l,a,s,v,u=n[0],f=n[1],e=n[2],y=Infinity,r,c=i*i,o=.1,h=.1;h<=.9;h+=.1)bat[0]=tv(u[0],f[0],e[0],h),bat[1]=tv(u[1],f[1],e[1],h),s=pci(gat(bat,t)-c),s<y&&(y=s,r=h);for(l=0;l<32;l++){if(a=r+o,kat[0]=tv(u[0],f[0],e[0],r),kat[1]=tv(u[1],f[1],e[1],r),dat[0]=tv(u[0],f[0],e[0],a),dat[1]=tv(u[1],f[1],e[1],a),s=gat(kat,t)-c,pci(s)<.01)break;v=gat(dat,t)-c;o/=2;r=s<0?v>=0?r+o:r-o:v>=0?r-o:r+o}return r}function bci(n,t){return n.getVisual("opacity")||n.getModel().get(t)}function uit(n,t,i){var u=n.getGraphicEl(),r=bci(n,t);i!=null&&(r==null&&(r=1),r*=i);u.downplay&&u.downplay();u.traverse(function(n){n.type!=="group"&&n.setStyle("opacity",r)})}function cc(n,t){var r=bci(n,t),i=n.getGraphicEl();i.highlight&&i.highlight();i.traverse(function(n){n.type!=="group"&&n.setStyle("opacity",r)})}function fit(n){return n instanceof Array||(n=[n,n]),n}function tli(n){var i=n.coordinateSystem,t;i&&i.type!=="view"||(t=n.getGraph(),t.eachNode(function(n){var t=n.getModel();n.setLayout([+t.get("x"),+t.get("y")])}),ili(t))}function ili(n){n.eachEdge(function(n){var r=n.getModel().get("lineStyle.normal.curveness")||0,t=yu(n.node1.getLayout()),i=yu(n.node2.getLayout()),u=[t,i];+r&&u.push([(t[0]+i[0])/2-(t[1]-i[1])*r,(t[1]+i[1])/2-(i[0]-t[0])*r]);n.setLayout(u)})}function uli(n){var u=n.coordinateSystem;if(!u||u.type==="view"){var t=u.getBoundingRect(),i=n.getData(),s=i.graph,r=0,f=i.getSum("value"),h=Math.PI*2/(f||i.count()),e=t.width/2+t.x,o=t.height/2+t.y,c=Math.min(t.width,t.height)/2;s.eachNode(function(n){var t=n.getValue("value");r+=h*(f?t:1)/2;n.setLayout([c*Math.cos(r)+e,c*Math.sin(r)+o]);r+=h*(f?t:1)/2});i.setLayout({cx:e,cy:o});s.eachEdge(function(n){var t=n.getModel().get("lineStyle.normal.curveness")||0,i=yu(n.node1.getLayout()),r=yu(n.node2.getLayout()),u,f=(i[0]+r[0])/2,s=(i[1]+r[1])/2;+t&&(t*=3,u=[e*t+f*(1-t),o*t+s*(1-t)]);n.setLayout([i,r,u])})}}function swr(n,t,i){for(var u,r,f=i.rect,s=f.width,h=f.height,e=[f.x+s/2,f.y+h/2],c=i.gravity==null?.1:i.gravity,o=0;o<n.length;o++)u=n[o],u.p||(u.p=eo(s*(Math.random()-.5)+e[0],h*(Math.random()-.5)+e[1])),u.pp=yu(u.p),u.edges=null;return r=.6,{warmUp:function(){r=.5},setFixed:function(t){n[t].fixed=!0},setUnfixed:function(t){n[t].fixed=!1},step:function(i){for(var a,h,y,s,l,w,b,o,f=[],v=n.length,u=0;u<t.length;u++){var p=t[u],h=p.n1,s=p.n2;ee(f,s.p,h.p);l=gv(f)-p.d;a=s.w/(h.w+s.w);isNaN(a)&&(a=0);cl(f,f);h.fixed||lc(h.p,h.p,f,a*l*r);s.fixed||lc(s.p,s.p,f,-(1-a)*l*r)}for(u=0;u<v;u++)o=n[u],o.fixed||(ee(f,e,o.p),lc(o.p,o.p,f,c*r));for(u=0;u<v;u++)for(h=n[u],y=u+1;y<v;y++)s=n[y],ee(f,s.p,h.p),l=gv(f),l===0&&(wkt(f,Math.random()-.5,Math.random()-.5),l=1),w=(h.rep+s.rep)/l/l,h.fixed||lc(h.pp,h.pp,f,w),s.fixed||lc(s.pp,s.pp,f,-w);for(b=[],u=0;u<v;u++)o=n[u],o.fixed||(ee(b,o.p,o.pp),lc(o.p,o.p,b,r),di(o.pp,o.p));r=r*.992;i&&i(n,t,r<.01)}}}function hwr(n,t,i){var r=n.getBoxLayoutParams();return r.aspect=i,ai(r,{width:t.getWidth(),height:t.getHeight()})}function lwr(n,t){var i=n.get("center"),r=t.getWidth(),f=t.getHeight(),e=Math.min(r,f),o=u(i[0],t.getWidth()),s=u(i[1],t.getHeight()),h=u(n.get("radius"),e/2);return{cx:o,cy:s,r:h}}function hli(n,t){return t&&(typeof t=="string"?n=t.replace("{value}",n!=null?n:""):typeof t=="function"&&(n=t(n))),n}function tvt(n,t){function u(){i.ignore=i.hoverIgnore;r.ignore=r.hoverIgnore}function f(){i.ignore=i.normalIgnore;r.ignore=r.normalIgnore}e.call(this);var o=new hu,i=new af,r=new b;this.add(o);this.add(i);this.add(r);this.updateData(n,t,!0);this.on("emphasis",u).on("normal",f).on("mouseover",u).on("mouseout",f)}function ywr(n,t){return ai(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function pwr(n,t){for(var i=n.mapArray("value",function(n){return n}),r=[],f=t==="ascending",u=0,e=n.count();u<e;u++)r[u]=u;return typeof t=="function"?r.sort(t):t!=="none"&&r.sort(function(n,t){return f?i[n]-i[t]:i[t]-i[n]}),r}function wwr(n){n.each(function(t){var v=n.getItemModel(t),w=v.getModel("label.normal"),o=w.get("position"),b=v.getModel("labelLine.normal"),y=n.getItemLayout(t),i=y.points,p=o==="inner"||o==="inside"||o==="center",s,r,u,c,f,h,e,l,a;p?(r=(i[0][0]+i[1][0]+i[2][0]+i[3][0])/4,u=(i[0][1]+i[1][1]+i[2][1]+i[3][1])/4,s="center",c=[[r,u],[r,u]]):(l=b.get("length"),o==="left"?(f=(i[3][0]+i[0][0])/2,h=(i[3][1]+i[0][1])/2,e=f-l,r=e-5,s="right"):(f=(i[1][0]+i[2][0])/2,h=(i[1][1]+i[2][1])/2,e=f+l,r=e+5,s="left"),a=h,c=[[f,h],[e,a]],u=a);y.label={linePoints:c,x:r,y:u,verticalAlign:"middle",textAlign:s,inside:p}})}function bwr(n){if(!n.parallel){var i=!1;t(n.series,function(n){n&&n.type==="parallel"&&(i=!0)});i&&(n.parallel=[{}])}}function kwr(n){var i=tu(n.parallelAxis);t(i,function(t){if(y(t)){var r=t.parallelIndex||0,i=tu(n.parallel)[r];i&&i.parallelAxisDefault&&a(t,i.parallelAxisDefault,!1)}})}function rvt(n,t){var i=n[t]-n[1-t];return{span:Math.abs(i),sign:i>0?-1:i<0?1:t?-1:1}}function eit(n,t){return Math.min(t[1],Math.max(t[0],n))}function fvt(n,t,i){this._axesMap=ui();this._axesLayout={};this.dimensions=n.dimensions;this._rect;this._model=n;this._init(n,t,i)}function oit(n,t){return yli(pli(n,t[0]),t[1])}function nbr(n,t){var i=t.layoutLength/(t.axisCount-1);return{position:i*n,axisNameAvailableWidth:i,axisLabelShow:!0}}function tbr(n,t){var h=t.layoutLength,f=t.axisExpandWidth,c=t.axisCount,i=t.axisCollapseWidth,e=t.winInnerIndices,r,o=i,s=!1,u;return n<e[0]?(r=n*i,u=i):n<=e[1]?(r=t.axisExpandWindow0Pos+n*f-t.axisExpandWindow[0],o=f,s=!0):(r=h-(c-1-n)*i,u=i),{position:r,axisNameAvailableWidth:o,axisLabelShow:s,nameTruncateMaxWidth:u}}function ibr(n,t){var i=[];return n.eachComponent("parallel",function(r,u){var f=new fvt(r,n,t);f.name="parallel_"+u;f.resize(r,t);r.coordinateSystem=f;f.model=r;i.push(f)}),n.eachSeries(function(t){if(t.get("coordinateSystem")==="parallel"){var i=n.queryComponents({mainType:"parallel",index:t.get("parallelIndex"),id:t.get("parallelId")})[0];t.coordinateSystem=i.coordinateSystem}}),i}function rbr(n,t){return t.type||(t.data?"category":"value")}function rv(n){f&&ct(n);hi.call(this);this._zr=n;this.group=new e;this._brushType;this._brushOption;this._panels;this._track=[];this._dragging;this._covers=[];this._creatingCover;this._creatingPanel;this._enableGlobalPan;f&&this._mounted;this._uid="brushController_"+lbr++;this._handlers={};re(yai,function(n,t){this._handlers[t]=h(n,this)},this)}function abr(n,t){var i=n._zr;n._enableGlobalPan||hvr(i,gli,n._uid);re(n._handlers,function(n,t){i.on(t,n)});n._brushType=t.brushType;n._brushOption=a(c(nai),t,!0)}function vbr(n){var t=n._zr;cvr(t,gli,n._uid);re(n._handlers,function(n,i){t.off(i,n)});n._brushType=n._brushOption=null}function tai(n,t){var i=sw[t.brushType].createCover(n,t);return i.__brushOption=t,uai(i,t),n.group.add(i),i}function iai(n,t){var i=svt(t);return i.endCreating&&(i.endCreating(n,t),uai(t,t.__brushOption)),t}function rai(n,t){var i=t.__brushOption;svt(t).updateCoverShape(n,t,i.range,i)}function uai(n,t){var i=t.z;i==null&&(i=ebr);n.traverse(function(n){n.z=i;n.z2=i})}function ovt(n,t){svt(t).updateCommon(n,t);rai(n,t)}function svt(n){return sw[n.__brushOption.brushType]}function hvt(n,t,i){var r=n._panels,u,f;return r?(f=n._transform,re(r,function(n){n.isTargetByCursor(t,i,f)&&(u=n)}),u):!0}function fai(n,t){var r=n._panels,i;return r?(i=t.__brushOption.panelId,i!=null?r[i]:!0):!0}function cvt(n){var t=n._covers,i=t.length;return re(t,function(t){n.group.remove(t)},n),t.length=0,!!i}function vc(n,t){var i=ubr(n._covers,function(n){var t=n.__brushOption,i=c(t.range);return{brushType:t.brushType,panelId:t.panelId,range:i}});n.trigger("brush",i,{isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function ybr(n){var t=n._track;if(!t.length)return!1;var i=t[t.length-1],r=t[0],u=i[0]-r[0],f=i[1]-r[1],e=fbr(u*u+f*f,.5);return e>obr}function eai(n){var t=n.length-1;return t<0&&(t=0),[n[0],n[t]]}function oai(n,t,i,r){var u=new e;return u.add(new ot({name:"main",style:avt(i),silent:!0,draggable:!0,cursor:"move",drift:ys(n,t,u,"nswe"),ondragend:ys(vc,t,{isEnd:!0})})),re(r,function(i){u.add(new ot({name:i,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:ys(n,t,u,i),ondragend:ys(vc,t,{isEnd:!0})}))}),u}function sai(n,t,i,r){var f=r.brushStyle.lineWidth||0,u=iv(f,sbr),s=i[0][0],h=i[1][0],e=s-f/2,o=h-f/2,a=i[0][1],v=i[1][1],c=a-u+f/2,l=v-u+f/2,y=a-s,p=v-h,w=y+f,b=p+f;ge(n,t,"main",s,h,y,p);r.transformable&&(ge(n,t,"w",e,o,u,b),ge(n,t,"e",c,o,u,b),ge(n,t,"n",e,o,w,u),ge(n,t,"s",e,l,w,u),ge(n,t,"nw",e,o,u,u),ge(n,t,"ne",c,o,u,u),ge(n,t,"sw",e,l,u,u),ge(n,t,"se",c,l,u,u))}function lvt(n,t){var r=t.__brushOption,i=r.transformable,u=t.childAt(0);u.useStyle(avt(r));u.attr({silent:!i,cursor:i?"move":"default"});re(["w","e","n","s","se","sw","ne","nw"],function(r){var u=t.childOfName(r),f=vvt(n,r);u&&u.attr({silent:!i,invisible:!i,cursor:i?cbr[f]+"-resize":null})})}function ge(n,t,i,r,u,f,e){var o=t.childOfName(i);o&&o.setShape(bbr(yvt(n,t,[[r,u],[r+f,u+e]])))}function avt(n){return l({strokeNoScale:!0},n.brushStyle)}function hai(n,t,i,r){var u=[ow(n,i),ow(t,r)],f=[iv(n,i),iv(t,r)];return[[u[0],f[0]],[u[1],f[1]]]}function pbr(n){return yh(n.group)}function vvt(n,t){var i;if(t.length>1)return t=t.split(""),i=[vvt(n,t[0]),vvt(n,t[1])],(i[0]==="e"||i[0]==="w")&&i.reverse(),i.join("");var i=hst({w:"left",e:"right",n:"top",s:"bottom"}[t],pbr(n));return{left:"w",right:"e",top:"n",bottom:"s"}[i]}function cai(n,t,i,r,u,f,e){var s=r.__brushOption,o=n(s.range),h=lai(i,f,e);re(u.split(""),function(n){var t=hbr[n];o[t[0]][t[1]]+=h[t[0]]});s.range=t(hai(o[0][0],o[1][0],o[0][1],o[1][1]));ovt(i,r);vc(i,{isEnd:!1})}function wbr(n,t,i,r){var f=t.__brushOption.range,u=lai(n,i,r);re(f,function(n){n[0]+=u[0];n[1]+=u[1]});ovt(n,t);vc(n,{isEnd:!1})}function lai(n,t,i){var r=n.group,u=r.transformCoordToLocal(t,i),f=r.transformCoordToLocal(0,0);return[u[0]-f[0],u[1]-f[1]]}function yvt(n,t,i){var r=fai(n,t);return r&&r!==!0?r.clipPath(i,n._transform):c(i)}function bbr(n){var t=ow(n[0][0],n[1][0]),i=ow(n[0][1],n[1][1]),r=iv(n[0][0],n[1][0]),u=iv(n[0][1],n[1][1]);return{x:t,y:i,width:r-t,height:u-i}}function kbr(n,t,i){var r,e;if(n._brushType){var o=n._zr,f=n._covers,u=hvt(n,t,i);if(!n._dragging)for(r=0;r<f.length;r++)if(e=f[r].__brushOption,u&&(u===!0||e.panelId===u.panelId)&&sw[e.brushType].contain(f[r],i[0],i[1]))return;u&&o.setCursorStyle("crosshair")}}function pvt(n){var t=n.event;t.preventDefault&&t.preventDefault()}function wvt(n,t,i){return n.childOfName("main").contain(t,i)}function aai(n,t,i,r){var u=n._creatingCover,f=n._creatingPanel,o=n._brushOption,s,e,h,l;return n._track.push(i.slice()),ybr(n)||u?(f&&!u&&(o.brushMode==="single"&&cvt(n),e=c(o),e.brushType=vai(e.brushType,f),e.panelId=f===!0?null:f.panelId,u=n._creatingCover=tai(n,e),n._covers.push(u)),u&&(h=sw[vai(n._brushType,f)],l=u.__brushOption,l.range=h.getCreatingRange(yvt(n,u,n._track)),r&&(iai(n,u),h.updateCommon(n,u)),rai(n,u),s={isEnd:r})):r&&o.brushMode==="single"&&o.removeOnClick&&hvt(n,t,i)&&cvt(n)&&(s={isEnd:r,removeOnClick:!0}),s}function vai(n,t){return n==="auto"?(f&&ct(t&&t.defaultBrushType,'MUST have defaultBrushType when brushType is "atuo"'),t.defaultBrushType):n}function pai(n){if(this._dragging){pvt(n);var i=this.group.transformCoordToLocal(n.offsetX,n.offsetY),t=aai(this,n,i,!0);this._dragging=!1;this._track=[];this._creatingCover=null;t&&vc(this,t)}}function wai(n){return{createCover:function(t,i){return oai(ys(cai,function(t){var i=[t,[0,100]];return n&&i.reverse(),i},function(t){return t[n]}),t,i,[["w","e"],["n","s"]][n])},getCreatingRange:function(t){var i=eai(t),r=ow(i[0][n],i[1][n]),u=iv(i[0][n],i[1][n]);return[r,u]},updateCoverShape:function(t,i,r,u){var f,e=fai(t,i),o,s;e!==!0&&e.getLinearBrushOtherExtent?f=e.getLinearBrushOtherExtent(n,t._transform):(o=t._zr,f=[0,[o.getWidth(),o.getHeight()][1-n]]);s=[r,f];n&&s.reverse();sai(t,i,s,u)},updateCommon:lvt,contain:wvt}}function bai(n){return n=bvt(n),function(t){return pii(t,n)}}function kai(n,t){return n=bvt(n),function(i){var r=t!=null?t:i,f=r?n.width:n.height,u=r?n.x:n.y;return[u,u+(f||0)]}}function dai(n,t,i){return n=bvt(n),function(r,u){return n.contain(u[0],u[1])&&!plt(r,t,i)}}function bvt(n){return p.create(n)}function dbr(n,t,i){return i&&i.type==="axisAreaSelect"&&t.findComponents({mainType:"parallelAxis",query:i})[0]===n}function tvi(n){var t=n.axis;return i(n.activeIntervals,function(n){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(n[0],!0),t.dataToCoord(n[1],!0)]}})}function gbr(n,t){return t.getComponent("parallel",n.get("parallelIndex"))}function kvt(n,t){var i=n._model;return i.get("axisExpandable")&&i.get("axisExpandTriggerOn")===t}function nkr(n,i,r){var u=n.get("data"),f=uvi(i);u&&u.length&&t(r,function(n){if(n){var t=w(u,n[f]);n[f]=t>=0?t:NaN}})}function uvi(n){return+n.replace("dim","")}function tkr(n,i){var r=0,u,e,f;for(t(n,function(n){var t=uvi(n);t>r&&(r=t)}),u=i[0],u&&u.length-1>r&&(r=u.length-1),e=[],f=0;f<=r;f++)e.push("dim"+f);return e}function rkr(n,t,i){var f=n.model,r=n.getRect(),u=new ot({shape:{x:r.x,y:r.y,width:r.width,height:r.height}}),e=f.get("layout")==="horizontal"?"width":"height";return u.setShape(e,0),fr(u,{shape:{width:r.width,height:r.height}},t,i),u}function evi(n,t,i,r){for(var u,e,o=[],f=0;f<i.length;f++)u=i[f],e=n.get(u,t),ekr(e,r.getAxis(u).type)||o.push(r.dataToPoint(e,u));return o}function ukr(n,t,i,r,u){var e=evi(n,i,r,u),f=new af({shape:{points:e},silent:!0,z2:10});t.add(f);n.setItemGraphicEl(i,f)}function fkr(n,t){var i=n.hostModel.getModel("lineStyle.normal"),r=i.getLineStyle();n.eachItemGraphicEl(function(u,f){if(n.hasItemOption){var e=n.getItemModel(f),o=e.getModel("lineStyle.normal",i);r=o.getLineStyle(["color","stroke"])}u.useStyle(s(r,{fill:null,stroke:n.getItemVisual(f,"color"),opacity:n.getItemVisual(f,"opacity")}));u.shape.smooth=t})}function ekr(n,t){return t==="category"?n==null:n==null||isNaN(n)}function okr(n,t,i){var r=new ot({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return fr(r,{shape:{width:n.width+20,height:n.height+20}},t,i),r}function dvt(){function r(i,u){var o,s;if(u>=n.length)return i;for(var f=-1,c=i.length,l=n[u++],h={},e={};++f<c;)o=l(i[f]),s=e[o],s?s.push(i[f]):e[o]=[i[f]];return t(e,function(n,t){h[t]=r(n,u)}),h}function u(r,f){if(f>=n.length)return r;var e=[],o=i[f++];return t(r,function(n,t){e.push({key:t,values:u(n,f)})}),o?e.sort(function(n,t){return o(n.key,t.key)}):e}var n=[],i=[];return{key:function(t){return n.push(t),this},sortKeys:function(t){return i[n.length-1]=t,this},entries:function(n){return u(r(n,0),0)}}}function skr(n,t){return ai(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function hkr(n,t,i,r,u,f,e){lkr(n,i,u);ykr(n,t,f,r,e);gkr(n)}function ckr(n){t(n,function(n){var t=uv(n.outEdges,hit),i=uv(n.inEdges,hit),r=Math.max(t,i);n.setLayout({value:r},!0)})}function lkr(n,t,i){for(var u=n,s=null,f=0,h=0,e,c,r,o,l;u.length;){for(s=[],e=0,c=u.length;e<c;e++)for(r=u[e],r.setLayout({x:f},!0),r.setLayout({dx:t},!0),o=0,l=r.outEdges.length;o<l;o++)s.push(r.outEdges[o].node2);u=s;++f}akr(n,f);h=(i-t)/(f-1);vkr(n,h)}function akr(n,i){t(n,function(n){n.outEdges.length||n.setLayout({x:i-1},!0)})}function vkr(n,i){t(n,function(n){var t=n.getLayout().x*i;n.setLayout({x:t},!0)})}function ykr(n,t,i,r,u){var f=dvt().key(function(n){return n.getLayout().x}).sortKeys(rdr).entries(n).map(function(n){return n.values}),e;for(pkr(n,f,t,i,r),gvt(f,r,i),e=1;u>0;u--)e*=.99,wkr(f,e),gvt(f,r,i),kkr(f,e),gvt(f,r,i)}function pkr(n,i,r,u,f){var e=[],o;t(i,function(n){var o=n.length,i=0,r;t(n,function(n){i+=n.getLayout().value});r=(u-(o-1)*f)/i;e.push(r)});e.sort(function(n,t){return n-t});o=e[0];t(i,function(n){t(n,function(n,t){n.setLayout({y:t},!0);var i=n.getLayout().value*o;n.setLayout({dy:i},!0)})});t(r,function(n){var t=+n.getValue()*o;n.setLayout({dy:t},!0)})}function gvt(n,i,r){t(n,function(n){var t,u,e=0,s=n.length,f,o;for(n.sort(idr),f=0;f<s;f++)t=n[f],u=e-t.getLayout().y,u>0&&(o=t.getLayout().y+u,t.setLayout({y:o},!0)),e=t.getLayout().y+t.getLayout().dy+i;if(u=e-i-r,u>0)for(o=t.getLayout().y-u,t.setLayout({y:o},!0),e=t.getLayout().y,f=s-2;f>=0;--f)t=n[f],u=t.getLayout().y+t.getLayout().dy+i-e,u>0&&(o=t.getLayout().y-u,t.setLayout({y:o},!0)),e=t.getLayout().y})}function wkr(n,i){t(n.slice().reverse(),function(n){t(n,function(n){if(n.outEdges.length){var t=uv(n.outEdges,bkr)/uv(n.outEdges,hit),r=n.getLayout().y+(t-sit(n))*i;n.setLayout({y:r},!0)}})})}function bkr(n){return sit(n.node2)*n.getValue()}function kkr(n,i){t(n,function(n){t(n,function(n){if(n.inEdges.length){var t=uv(n.inEdges,dkr)/uv(n.inEdges,hit),r=n.getLayout().y+(t-sit(n))*i;n.setLayout({y:r},!0)}})})}function dkr(n){return sit(n.node1)*n.getValue()}function gkr(n){t(n,function(n){n.outEdges.sort(ndr);n.inEdges.sort(tdr)});t(n,function(n){var i=0,r=0;t(n.outEdges,function(n){n.setLayout({sy:i},!0);i+=n.getLayout().dy});t(n.inEdges,function(n){n.setLayout({ty:r},!0);r+=n.getLayout().dy})})}function ndr(n,t){return n.node2.getLayout().y-t.node2.getLayout().y}function tdr(n,t){return n.node1.getLayout().y-t.node1.getLayout().y}function uv(n,t){for(var u=0,f=n.length,i=-1,r;++i<f;)r=+t.call(n,n[i],i),isNaN(r)||(u+=r);return u}function sit(n){return n.getLayout().y+n.getLayout().dy/2}function idr(n,t){return n.getLayout().y-t.getLayout().y}function rdr(n,t){return n<t?-1:n>t?1:n===t?0:NaN}function hit(n){return n.getValue()}function cit(n,t,i,r){e.call(this);this.bodyIndex;this.whiskerIndex;this.styleUpdater=i;this._createContent(n,t,r);this.updateData(n,t,r);this._seriesModel}function yvi(n,t,r){return i(n,function(n){return n=n.slice(),n[t]=r.initBaseline,n})}function pvi(n){var i={};return t(n,function(n,t){i["ends"+t]=n}),i}function wvi(n){this.group=new e;this.styleUpdater=n}function fdr(n,t,i){var f=t.getItemModel(i),h=f.getModel(gvi),e=t.getItemVisual(i,"color"),o=h.getItemStyle(["borderColor"]),u=n.childAt(n.whiskerIndex),r,s;u.style.set(o);u.style.stroke=e;u.dirty();r=n.childAt(n.bodyIndex);r.style.set(o);r.style.stroke=e;r.dirty();s=f.getModel(nyi).getItemStyle();vt(n,s)}function sdr(n){var t=[],i=[];return n.eachSeriesByType("boxplot",function(n){var u=n.getBaseAxis(),r=w(i,u);r<0&&(r=i.length,i[r]=u,t[r]={axis:u,seriesModels:[]});t[r].seriesModels.push(n)}),t}function hdr(n){var e,o=n.axis,t=n.seriesModels,s=t.length,y=n.boxWidthList=[],p=n.boxOffsetList=[],h=[],i,f;o.type==="category"?i=o.getBandWidth():(f=0,hw(t,function(n){f=Math.max(f,n.getData().count())}),e=o.getExtent(),Math.abs(e[1]-e[0])/f);hw(t,function(n){var t=n.get("boxWidth");r(t)||(t=[t,t]);h.push([u(t[0],i)||0,u(t[1],i)||0])});var c=i*.8-2,a=c/s*.3,l=(c-a*(s-1))/s,v=l/2-c/2;hw(t,function(n,t){p.push(v);v+=a+l;y.push(Math.min(Math.max(l,h[t][0]),h[t][1]))})}function cdr(n,i,r){var a=n.coordinateSystem,f=n.getData(),e=r/2,c=n.get("layout"),u=c==="horizontal"?0:1,s=1-u,l=["x","y"],o=[],h;(t(f.dimensions,function(n){var i=f.getDimensionInfo(n),t=i.coordDim;t===l[s]?o.push(n):t===l[u]&&(h=n)}),h==null||o.length<5)||f.each([h].concat(o),function(){function t(n){var r=[],t;return r[u]=y,r[s]=n,isNaN(y)||isNaN(n)?t=[NaN,NaN]:(t=a.dataToPoint(r),t[u]+=i),t}function b(n,t){var i=n.slice(),r=n.slice();i[u]+=e;r[u]-=e;t?h.push(i,r):h.push(r,i)}function v(n){var t=[n.slice(),n.slice()];t[0][u]-=e;t[1][u]+=e;r.push(t)}var n=arguments,y=n[0],k=n[o.length+1],l=t(n[3]),p=t(n[1]),w=t(n[5]),r=[[p,t(n[2])],[w,t(n[4])]],h;v(p);v(w);v(l);h=[];b(r[0][1],0);b(r[1][1],1);f.setItemLayout(k,{chartLayout:c,initBaseline:l[s],median:l,bodyEnds:h,whiskerEnds:r})})}function ldr(n,t,i){var u=t.getItemModel(i),c=u.getModel(uyi),f=t.getItemVisual(i,"color"),e=t.getItemVisual(i,"borderColor")||f,o=c.getItemStyle(["color","color0","borderColor","borderColor0"]),s=n.childAt(n.whiskerIndex),r,h;s.useStyle(o);s.style.stroke=e;r=n.childAt(n.bodyIndex);r.useStyle(o);r.style.fill=f;r.style.stroke=e;h=u.getModel(fyi).getItemStyle();vt(n,h)}function ddr(n,t){var r=n.getBaseAxis(),f,i=r.type==="category"?r.getBandWidth():(f=r.getExtent(),Math.abs(f[1]-f[0])/t.count()),o=u(eyi(n.get("barMaxWidth"),i),i),s=u(eyi(n.get("barMinWidth"),1),i),e=n.get("barWidth");return e!=null?u(e,i):Math.max(Math.min(i/2,o),s)}function gdr(n){return r(n)||(n=[+n,+n]),n}function oyi(n,t){n.eachChild(function(n){n.attr({z:t.z,zlevel:t.zlevel,style:{stroke:t.brushType==="stroke"?t.color:null,fill:t.brushType==="fill"?t.color:null}})})}function ryt(n,t){e.call(this);var i=new la(n,t),r=new e;this.add(i);this.add(r);r.beforeUpdate=function(){this.attr(i.getScale())};this.updateData(n,t)}function syi(n){var t=n.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(f&&console.warn("Lines data configuration has been changed to { coords:[[1,2],[2,3]] }"),n.data=i(t,function(n){var i=[n[0].coord,n[1].coord],t={coords:i};return n[0].name&&(t.fromName=n[0].name),n[1].name&&(t.toName=n[1].name),bv([t,n[0],n[1]])}))}function cw(n,t,i){e.call(this);this.add(this.createLine(n,t,i));this._updateEffectSymbol(n,t)}function lit(n,t,i){e.call(this);this._createPolyline(n,t,i)}function fyt(n,t,i){cw.call(this,n,t,i);this._lastFrame=0;this._lastFramePercent=0}function cyi(){this.group=new e;this._lineEl=new hyi}function vit(n){return n instanceof Array||(n=[n,n]),n}function yyi(){var n=ds();this.canvas=n;this.blurSize=30;this.pointSize=20;this.maxOpacity=1;this.minOpacity=0;this._gradientPixels={}}function ngr(n,t,r){var e=n[1]-n[0],f,u;return t=i(t,function(t){return{interval:[(t.interval[0]-n[0])/e,(t.interval[1]-n[0])/e]}}),f=t.length,u=0,function(n){for(var e,i=u;i<f;i++)if(e=t[i].interval,e[0]<=n&&n<=e[1]){u=i;break}if(i===f)for(i=u-1;i>=0;i--)if(e=t[i].interval,e[0]<=n&&n<=e[1]){u=i;break}return i>=0&&i<f&&r[i]}}function tgr(n,t){var i=n[1]-n[0];return t=[(t[0]-n[0])/i,(t[1]-n[0])/i],function(n){return n>=t[0]&&n<=t[1]}}function igr(n){var t=n.dimensions;return t[0]==="lng"&&t[1]==="lat"}function wyi(n,t,i,f){var s=n.getItemLayout(t),h=i.get("symbolRepeat"),l=i.get("symbolClip"),p=i.get("symbolPosition")||"start",w=i.get("symbolRotate"),a=(w||0)*Math.PI/180||0,v=i.get("symbolPatternSize")||2,y=i.isAnimationEnabled(),e={dataIndex:t,layout:s,itemModel:i,symbolType:n.getItemVisual(t,"symbol")||"circle",color:n.getItemVisual(t,"color"),symbolClip:l,symbolRepeat:h,symbolRepeatDirection:i.get("symbolRepeatDirection"),symbolPatternSize:v,rotation:a,animationModel:y?i:null,hoverAnimation:y&&i.get("hoverAnimation"),z2:i.getShallow("z",!0)||0},c,o;return fgr(i,h,s,f,e),egr(n,t,s,h,l,e.boundingLength,e.pxSign,v,f,e),ogr(i,e.symbolScale,a,f,e),c=e.symbolSize,o=i.get("symbolOffset"),r(o)&&(o=[u(o[0],c[0]),u(o[1],c[1])]),sgr(i,c,s,h,l,o,p,e.valueLineWidth,e.boundingLength,e.repeatCutLength,f,e),e}function fgr(n,t,i,u,f){var c=u.valueDim,e=n.get("symbolBoundingData"),o=u.coordSys.getOtherAxis(u.coordSys.getBaseAxis()),l=o.toGlobalCoord(o.dataToCoord(0)),a=1-+(i[c.wh]<=0),s,h;r(e)?(h=[oyt(o,e[0])-l,oyt(o,e[1])-l],h[1]<h[0]&&h.reverse(),s=h[a]):s=e!=null?oyt(o,e)-l:t?u.coordSysExtent[c.index][a]-l:i[c.wh];f.boundingLength=s;t&&(f.repeatCutLength=i[c.wh]);f.pxSign=s>0?1:s<0?-1:0}function oyt(n,t){return n.toGlobalCoord(n.dataToCoord(n.scale.parse(t)))}function egr(n,t,i,f,e,o,s,h,c,l){var v=c.valueDim,y=c.categoryDim,p=Math.abs(i[y.wh]),a=n.getItemVisual(t,"symbolSize"),w;r(a)?a=a.slice():(a==null&&(a="100%"),a=[a,a]);a[y.index]=u(a[y.index],p);a[v.index]=u(a[v.index],f?p:Math.abs(o));l.symbolSize=a;w=l.symbolScale=[a[0]/h,a[1]/h];w[v.index]*=(c.isHorizontal?-1:1)*s}function ogr(n,t,i,r,u){var f=n.get(ugr)||0;f&&(eyt.attr({scale:t.slice(),rotation:i}),eyt.updateTransform(),f/=eyt.getLineScale(),f*=t[r.valueDim.index]);u.valueLineWidth=f}function sgr(n,t,i,r,f,e,o,h,c,l,a,v){var w=a.categoryDim,p=a.valueDim,et=v.pxSign,g=Math.max(t[p.index]+h,0),ot=g,rt,k,ut,ft,d;if(r){var st=Math.abs(c),y=kt(n.get("symbolMargin"),"15%")+"",nt=!1;y.lastIndexOf("!")===y.length-1&&(nt=!0,y=y.slice(0,y.length-1));y=u(y,t[p.index]);var tt=Math.max(g+y*2,0),it=nt?0:y*2,ht=cnt(r),b=ht?r:epi((st+it)/tt),ct=st-b*g;y=ct/2/(nt?b:b-1);tt=g+y*2;it=nt?0:y*2;ht||r==="fixed"||(b=l?epi((Math.abs(l)+it)/tt):0);ot=b*tt-it;v.repeatTimes=b;v.symbolMargin=y}rt=et*(ot/2);k=v.pathPosition=[];k[w.index]=i[w.wh]/2;k[p.index]=o==="start"?rt:o==="end"?c-rt:c/2;e&&(k[0]+=e[0],k[1]+=e[1]);ut=v.bundlePosition=[];ut[w.index]=i[w.xy];ut[p.index]=i[p.xy];ft=v.barRectShape=s({},i);ft[p.wh]=et*Math.max(Math.abs(i[p.wh]),Math.abs(k[p.index]+rt));ft[w.wh]=i[w.wh];d=v.clipShape={};d[w.xy]=-i[w.xy];d[w.wh]=a.ecSize[w.wh];d[p.xy]=0;d[p.wh]=i[p.wh]}function byi(n){var t=n.symbolPatternSize,i=ru(n.symbolType,-t/2,-t/2,t,t,n.color);return i.attr({culling:!0}),i.type!=="image"&&i.setStyle({strokeNoScale:!0}),i}function kyi(n,t,i,r){function l(n){var t=h.slice(),r=i.pxSign,u=n;return(i.symbolRepeatDirection==="start"?r>0:r<0)&&(u=e-1-n),t[c.index]=y*(u-e/2+.5)+h[c.index],{position:t,scale:i.symbolScale.slice(),rotation:i.rotation}}function p(){vw(n,function(n){n.trigger("emphasis")})}function w(){vw(n,function(n){n.trigger("normal")})}var s=n.__pictorialBundle,a=i.symbolSize,v=i.valueLineWidth,h=i.pathPosition,c=t.valueDim,e=i.repeatTimes||0,u=0,y=a[t.valueDim.index]+v+i.symbolMargin*2,f,o;for(vw(n,function(n){n.__pictorialAnimationIndex=u;n.__pictorialRepeatTimes=e;u<e?fv(n,null,l(u),i,r):fv(n,null,{scale:[0,0]},i,r,function(){s.remove(n)});syt(n,i);u++});u<e;u++){f=byi(i);f.__pictorialAnimationIndex=u;f.__pictorialRepeatTimes=e;s.add(f);o=l(u);fv(f,{position:o.position,scale:[0,0]},{scale:o.scale,rotation:o.rotation},i,r);f.on("mouseover",p).on("mouseout",w);syt(f,i)}}function dyi(n,t,i,r){function e(){this.trigger("emphasis")}function o(){this.trigger("normal")}var f=n.__pictorialBundle,u=n.__pictorialMainPath;if(u)fv(u,null,{position:i.pathPosition.slice(),scale:i.symbolScale.slice(),rotation:i.rotation},i,r);else{u=n.__pictorialMainPath=byi(i);f.add(u);fv(u,{position:i.pathPosition.slice(),scale:[0,0],rotation:i.rotation},{scale:i.symbolScale.slice()},i,r);u.on("mouseover",e).on("mouseout",o)}syt(u,i)}function gyi(n,t,i){var u=s({},t.barRectShape),r=n.__pictorialBarRect;r?fv(r,null,{shape:u},t,i):(r=n.__pictorialBarRect=new ot({z2:2,shape:u,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),n.add(r))}function npi(n,t,i,r){var o;if(i.symbolClip){var u=n.__pictorialClipPath,f=s({},i.clipShape),e=t.valueDim,h=i.animationModel,c=i.dataIndex;u?k(u,{shape:f},h,c):(f[e.wh]=0,u=new ot({shape:f}),n.__pictorialBundle.setClipPath(u),n.__pictorialClipPath=u,o={},o[e.wh]=i.clipShape[e.wh],nf[r?"updateProps":"initProps"](u,{shape:o},h,c))}}function tpi(n,t){var i=n.getItemModel(t);return i.getAnimationDelayParams=hgr,i.isAnimationEnabled=cgr,i}function hgr(n){return{index:n.__pictorialAnimationIndex,count:n.__pictorialRepeatTimes}}function cgr(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function syt(n,t){n.off("emphasis").off("normal");var i=t.symbolScale.slice();t.hoverAnimation&&n.on("emphasis",function(){this.animateTo({scale:[i[0]*1.1,i[1]*1.1]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:i.slice()},400,"elasticOut")})}function ipi(n,t,i,r){var u=new e,f=new e;return u.add(f),u.__pictorialBundle=f,f.attr("position",i.bundlePosition.slice()),i.symbolRepeat?kyi(u,t,i):dyi(u,t,i),gyi(u,i,r),npi(u,t,i,r),u.__pictorialShapeStr=upi(n,i),u.__pictorialSymbolMeta=i,u}function lgr(n,t,i){var r=i.animationModel,u=i.dataIndex,f=n.__pictorialBundle;k(f,{position:i.bundlePosition.slice()},r,u);i.symbolRepeat?kyi(n,t,i,!0):dyi(n,t,i,!0);gyi(n,i,!0);npi(n,t,i,!0)}function rpi(n,i,r,u){var e=u.__pictorialBarRect,f;e&&(e.style.text=null);f=[];vw(u,function(n){f.push(n)});u.__pictorialMainPath&&f.push(u.__pictorialMainPath);u.__pictorialClipPath&&(r=null);t(f,function(n){k(n,{scale:[0,0]},r,i,function(){u.parent&&u.parent.remove(u)})});n.setItemGraphicEl(i,null)}function upi(n,t){return[n.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function vw(n,i,r){t(n.__pictorialBundle.children(),function(t){t!==n.__pictorialBarRect&&i.call(r,t)})}function fv(n,t,i,r,u,f){t&&n.attr(t);r.symbolClip&&!u?i&&n.attr(i):i&&nf[u?"updateProps":"initProps"](n,i,r.animationModel,r.dataIndex,f)}function fpi(n,t,i){var u=i.color,s=i.dataIndex,r=i.itemModel,h=r.getModel("itemStyle.normal").getItemStyle(["color"]),c=r.getModel("itemStyle.emphasis").getItemStyle(),f=r.getShallow("cursor");vw(n,function(n){n.setColor(u);n.setStyle(l({fill:u,opacity:i.opacity},h));vt(n,c);f&&(n.cursor=f);n.z2=i.z2});var e={},a=t.valueDim.posDesc[+(i.boundingLength>0)],o=n.__pictorialBarRect;soi(o.style,e,r,u,t.seriesModel,s,a);vt(o,e)}function epi(n){var t=Math.round(n);return Math.abs(n-t)<.0001?t:Math.ceil(n)}function yit(n,t,i){this.dimension="single";this.dimensions=["single"];this._axis=null;this._rect;this._init(n,t,i);this.model=n}function agr(n,t){var i=[];return n.eachComponent("singleAxis",function(r,u){var f=new yit(r,n,t);f.name="single_"+u;f.resize(r,t);r.coordinateSystem=f;i.push(f)}),n.eachSeries(function(t){if(t.get("coordinateSystem")==="singleAxis"){var i=n.queryComponents({mainType:"singleAxis",index:t.get("singleAxisIndex"),id:t.get("singleAxisId")})[0];t.coordinateSystem=i&&i.coordinateSystem}}),i}function hyt(n,t){var c,l,f;t=t||{};var a=n.coordinateSystem,o=n.axis,i={},e=o.position,s=o.orient,r=a.getRect(),u=[r.x,r.x+r.width,r.y,r.y+r.height],h={horizontal:{top:u[2],bottom:u[3]},vertical:{left:u[0],right:u[1]}};return i.position=[s==="vertical"?h.vertical[e]:u[0],s==="horizontal"?h.horizontal[e]:u[3]],c={horizontal:0,vertical:1},i.rotation=Math.PI/2*c[s],l={top:-1,bottom:1,right:1,left:-1},i.labelDirection=i.tickDirection=i.nameDirection=l[e],n.get("axisTick.inside")&&(i.tickDirection=-i.tickDirection),kt(t.labelInside,n.get("axisLabel.inside"))&&(i.labelDirection=-i.labelDirection),f=t.rotate,f==null&&(f=n.get("axisLabel.rotate")),i.labelRotation=e==="top"?-f:f,i.labelInterval=o.getLabelInterval(),i.z2=1,i}function bgr(n,t){return t.type||(t.data?"category":"value")}function api(n,t,i,r,u){var e=n.axis;if(!e.scale.isBlank()&&e.containData(t)){if(!n.involveSeries){i.showPointer(n,t);return}var o=dgr(t,n),h=o.payloadBatch,f=o.snapToValue;h[0]&&u.seriesIndex==null&&s(u,h[0]);!r&&n.snap&&e.containData(f)&&f!=null&&(t=f);i.showPointer(n,t,h,u);i.showTooltip(n,o,f)}}function dgr(n,t){var i=t.axis,o=i.dim,f=n,r=[],u=Number.MAX_VALUE,e=-1;return ue(t.seriesModels,function(t){var a=t.coordDimToDataDim(o),s,h,v,c,l;if(t.getAxisTooltipData)v=t.getAxisTooltipData(a,n,i),h=v.dataIndices,s=v.nestestValue;else{if(h=t.getData().indicesOfNearest(a[0],n,!1,i.type==="category"?.5:null),!h.length)return;s=t.getData().get(a[0],h[0])}s!=null&&isFinite(s)&&(c=n-s,l=Math.abs(c),l<=u&&((l<u||c>=0&&e<0)&&(u=l,e=c,f=s,r.length=0),ue(h,function(n){r.push({seriesIndex:t.seriesIndex,dataIndexInside:n,dataIndex:t.getData().getRawIndex(n)})})))}),{payloadBatch:r,snapToValue:f}}function ggr(n,t,i,r){n[t.key]={value:i,payloadBatch:r}}function nnr(n,t,i,r){var o=i.payloadBatch,s=t.axis,e=s.model,h=t.axisPointerModel;if(t.triggerTooltip&&o.length){var u=t.coordSys.model,c=pp(u),f=n.map[c];f||(f=n.map[c]={coordSysId:u.id,coordSysIndex:u.componentIndex,coordSysType:u.type,coordSysMainType:u.mainType,dataByAxis:[]},n.list.push(f));f.dataByAxis.push({axisDim:s.dim,axisIndex:e.componentIndex,axisType:e.type,axisId:e.id,value:r,valueLabelOpt:{precision:h.get("label.precision"),formatter:h.get("label.formatter")},seriesDataIndices:o.slice()})}}function tnr(n,t,i){var r=i.axesInfo=[];ue(t,function(t,i){var u=t.axisPointerModel.option,f=n[i];f?(t.useHandle||(u.status="show"),u.value=f.value,u.seriesDataIndices=(f.payloadBatch||[]).slice()):t.useHandle||(u.status="hide");u.status==="show"&&r.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:u.value})})}function inr(n,t,i,r){if(pit(t)||!n.list.length){r({type:"hideTip"});return}var u=((n.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:i.tooltipOption,position:i.position,dataIndexInside:u.dataIndexInside,dataIndex:u.dataIndex,seriesIndex:u.seriesIndex,dataByCoordSys:n.list})}function rnr(n,i,r){var o=r.getZr(),s="axisPointerLastHighlights",h=lpi(o)[s]||{},e=lpi(o)[s]={},u,f;ue(n,function(n){var t=n.axisPointerModel.option;t.status==="show"&&ue(t.seriesDataIndices,function(n){var t=n.seriesIndex+" | "+n.dataIndex;e[t]=n})});u=[];f=[];t(h,function(n,t){e[t]||f.push(n)});t(e,function(n,t){h[t]||u.push(n)});f.length&&r.dispatchAction({type:"downplay",escapeConnect:!0,batch:f});u.length&&r.dispatchAction({type:"highlight",escapeConnect:!0,batch:u})}function unr(n,t){for(var r,i=0;i<(n||[]).length;i++)if(r=n[i],t.axis.dim===r.axisDim&&t.axis.model.componentIndex===r.axisIndex)return r}function vpi(n){var i=n.axis.model,t={},r=t.axisDim=n.axis.dim;return t.axisIndex=t[r+"AxisIndex"]=i.componentIndex,t.axisName=t[r+"AxisName"]=i.name,t.axisId=t[r+"AxisId"]=i.id,t}function pit(n){return!n||n[0]==null||isNaN(n[0])||n[1]==null||isNaN(n[1])}function ypi(n,t,i){var r,u;d.node||(r=t.getZr(),to(r).records||(to(r).records={}),enr(r,t),u=to(r).records[n]||(to(r).records[n]={}),u.handler=i)}function enr(n,t){function i(i,r){n.on(i,function(i){var u=hnr(t);fnr(to(n).records,function(n){n&&r(n,i,u.dispatchAction)});onr(u.pendings,t)})}to(n).initialized||(to(n).initialized=!0,i("click",o(ppi,"click")),i("mousemove",o(ppi,"mousemove")),i("globalout",snr))}function onr(n,t){var r=n.showTip.length,u=n.hideTip.length,i;r?i=n.showTip[r-1]:u&&(i=n.hideTip[u-1]);i&&(i.dispatchAction=null,t.dispatchAction(i))}function snr(n,t,i){n.handler("leave",null,i)}function ppi(n,t,i,r){t.handler(n,i,r)}function hnr(n){var t={showTip:[],hideTip:[]},i=function(r){var u=t[r.type];u?u.push(r):(r.dispatchAction=i,n.dispatchAction(r))};return{dispatchAction:i,pendings:t}}function cyt(n,t){if(!d.node){var i=t.getZr(),r=(to(i).records||{})[n];r&&(to(i).records[n]=null)}}function pc(){}function kpi(n,t,i,r){dpi(yc(i).lastProp,r)||(yc(i).lastProp=r,t?k(i,r,n):(i.stopAnimation(),i.attr(r)))}function dpi(n,i){if(y(n)&&y(i)){var r=!0;return t(i,function(t,i){r=r&&dpi(n[i],t)}),!!r}return n===i}function gpi(n,t){n[t.get("label.show")?"show":"hide"]()}function ayt(n){return{position:n.position.slice(),rotation:n.rotation||0}}function nwi(n,t,i){var r=t.get("z"),u=t.get("zlevel");n&&n.traverse(function(n){n.type!=="group"&&(r!=null&&(n.z=r),u!=null&&(n.zlevel=u),n.silent=i)})}function vyt(n){var i=n.get("type"),r=n.getModel(i+"Style"),t;return i==="line"?(t=r.getLineStyle(),t.fill=null):i==="shadow"&&(t=r.getAreaStyle(),t.stroke=null),t}function twi(n,t,i,r,u){var w=i.get("value"),a=iwi(w,t.axis,t.ecModel,i.get("seriesDataIndices"),{precision:i.get("label.precision"),formatter:i.get("label.formatter")}),f=i.getModel("label"),s=lo(f.get("padding")||0),v=f.getFont(),y=ve(a,v),e=u.position,h=y.width+s[1]+s[3],c=y.height+s[0]+s[2],p=u.align,l,o;p==="right"&&(e[0]-=h);p==="center"&&(e[0]-=h/2);l=u.verticalAlign;l==="bottom"&&(e[1]-=c);l==="middle"&&(e[1]-=c/2);cnr(e,h,c,r);o=f.get("backgroundColor");o&&o!=="auto"||(o=t.get("axisLine.lineStyle.color"));n.label={shape:{x:0,y:0,width:h,height:c,r:f.get("borderRadius")},position:e.slice(),style:{text:a,textFont:v,textFill:f.getTextColor(),textPosition:"inside",fill:o,stroke:f.get("borderColor")||"transparent",lineWidth:f.get("borderWidth")||0,shadowBlur:f.get("shadowBlur"),shadowColor:f.get("shadowColor"),shadowOffsetX:f.get("shadowOffsetX"),shadowOffsetY:f.get("shadowOffsetY")},z2:10}}function cnr(n,t,i,r){var u=r.getWidth(),f=r.getHeight();n[0]=Math.min(n[0]+t,u)-t;n[1]=Math.min(n[1]+i,f)-i;n[0]=Math.max(n[0],0);n[1]=Math.max(n[1],0)}function iwi(n,i,r,u,f){var o=i.scale.getLabel(n,{precision:f.precision}),e=f.formatter,s;return e&&(s={value:rct(i,n),seriesData:[]},t(u,function(n){var t=r.getSeriesByIndex(n.seriesIndex),u=n.dataIndexInside,i=t&&t.getDataParams(u);i&&s.seriesData.push(i)}),li(e)?o=e.replace("{value}",o):fo(e)&&(o=e(s))),o}function yyt(n,t,i){var r=ce();return rh(r,r,i.rotation),ff(r,r,i.position),bf([n.dataToCoord(t),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],r)}function rwi(n,t,i,r,u,f){var e=ki.innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=u.get("label.margin");twi(t,r,u,f,{position:yyt(r.axis,n,i),align:e.textAlign,verticalAlign:e.textVerticalAlign})}function pyt(n,t,i){return i=i||0,{x1:n[i],y1:n[1-i],x2:t[i],y2:t[1-i]}}function uwi(n,t,i){return i=i||0,{x:n[i],y:n[1-i],width:t[i],height:t[1-i]}}function fwi(n,t,i,r,u,f){return{cx:n,cy:t,r0:i,r:r,startAngle:u,endAngle:f,clockwise:!0}}function owi(n,t){var i={};return i[t.dim+"AxisIndex"]=t.index,n.getCartesian(i)}function hwi(n){return n.dim==="x"?0:1}function wit(n){return n.isHorizontal()?0:1}function wyt(n,t){var i=n.getRect();return[i[cwi[t]],i[cwi[t]]+i[lnr[t]]]}function ynr(n,t,i){var r=new ot({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return fr(r,{shape:{width:n.width+20,height:n.height+20}},t,i),r}function vwi(n,t,r){var u,f;if(n.count()){var l=t.coordinateSystem,o=t.getLayerSeries(),e=i(o,function(t){return i(t.indices,function(t){var i=l.dataToPoint(n.get("time",t));return i[1]=n.get("value",t),i})}),c=pnr(e),a=c.y0,s=r/c.max,v=o.length,y=o[0].indices.length,h;for(u=0;u<y;++u)for(h=a[u]*s,n.setItemLayout(o[0].indices[u],{layerIndex:0,x:e[0][u][0],y0:h,y:e[0][u][1]*s}),f=1;f<v;++f)h+=e[f-1][u][1]*s,n.setItemLayout(o[f].indices[u],{layerIndex:f,x:e[f][u][0],y0:h,y:e[f][u][1]*s})}}function pnr(n){for(var f,i,r,u,l,a=n.length,e=n[0].length,o=[],s=[],t=0,h={},c=0;c<e;++c){for(f=0,i=0;f<a;++f)i+=n[f][c][1];i>t&&(t=i);o.push(i)}for(r=0;r<e;++r)s[r]=(t-o[r])/2;for(t=0,u=0;u<e;++u)l=o[u]+s[u],l>t&&(t=l);return h.y0=s,h.max=t,h}function wnr(n,t){return t=t||[0,0],i(["x","y"],function(i,r){var u=this.getAxis(i),f=t[r],e=n[r]/2;return u.type==="category"?u.getBandWidth():Math.abs(u.dataToCoord(f-e)-u.dataToCoord(f+e))},this)}function bnr(n,t){return t=t||[0,0],i([0,1],function(i){var f=t[i],e=n[i]/2,r=[],u=[];return r[i]=f-e,u[i]=f+e,r[1-i]=u[1-i]=t[1-i],Math.abs(this.dataToPoint(r)[i]-this.dataToPoint(u)[i])},this)}function knr(n,t){var i=this.getAxis(),r=t instanceof Array?t[0]:t,u=(n instanceof Array?n[0]:n)/2;return i.type==="category"?i.getBandWidth():Math.abs(i.dataToCoord(r-u)-i.dataToCoord(r+u))}function dnr(n,t){return i(["Radius","Angle"],function(i,r){var u=this["get"+i+"Axis"](),e=t[r],o=n[r]/2,s="dataTo"+i,f=u.type==="category"?u.getBandWidth():Math.abs(u[s](e-o)-u[s](e+o));return i==="Angle"&&(f=f*Math.PI/180),f},this)}function etu(n){var i=n.type,t,r,u;return i==="path"?(r=n.shape,t=np(r.pathData,null,{x:r.x||0,y:r.y||0,width:r.width||0,height:r.height||0},"center"),t.__customPathData=n.pathData):i==="image"?(t=new gi({}),t.__customImagePath=n.style.image):i==="text"?(t=new b({}),t.__customText=n.style.text):(u=nf[i.charAt(0).toUpperCase()+i.slice(1)],f&&ct(u,'graphic type "'+i+'" can not be found.'),t=new u),t.__customGraphicType=i,t.name=n.name,t}function otu(n,i,r,u,f,e){var s={},o=r.style||{},h,l;r.shape&&(s.shape=c(r.shape));r.position&&(s.position=r.position.slice());r.scale&&(s.scale=r.scale.slice());r.origin&&(s.origin=r.origin.slice());r.rotation&&(s.rotation=r.rotation);n.type==="image"&&r.style&&(h=s.style={},t(["x","y","width","height"],function(t){dwi(t,h,o,n.style,e)}));n.type==="text"&&r.style&&(h=s.style={},t(["x","y"],function(t){dwi(t,h,o,n.style,e)}),!o.hasOwnProperty("textFill")&&o.fill&&(o.textFill=o.fill),!o.hasOwnProperty("textStroke")&&o.stroke&&(o.textStroke=o.stroke));n.type!=="group"&&(n.useStyle(o),e&&(n.style.opacity=0,l=o.opacity,l==null&&(l=1),fr(n,{style:{opacity:l}},u,i)));e?n.attr(s):k(n,s,u,i);n.attr({z2:r.z2||0,silent:r.silent});r.styleEmphasis!==!1&&vt(n,r.styleEmphasis)}function dwi(n,t,i,r,u){i[n]==null||u||(t[n]=i[n],i[n]=r[n])}function stu(n,t,i,r){function b(n){n==null&&(n=e);y&&(o=t.getItemModel(n),p=o.getModel(rtu),w=o.getModel(utu),h=bfi(t),c=t.getItemVisual(n,"color"),y=!1)}function g(n,i){return i==null&&(i=e),t.get(t.getDimension(n||0),i)}function nt(i,r){var u,f;return r==null&&(r=e),b(r),u=o.getModel(ttu).getItemStyle(),c!=null&&(u.fill=c),f=t.getItemVisual(r,"opacity"),f!=null&&(u.opacity=f),h!=null&&(gt(u,p,null,{autoColor:c,isRectText:!0}),u.text=p.getShallow("show")?si(n.getFormattedLabel(r,"normal"),t.get(h,r)):null),i&&s(u,i),u}function tt(i,r){r==null&&(r=e);b(r);var u=o.getModel(itu).getItemStyle();return h!=null&&(gt(u,w,null,{isRectText:!0},!0),u.text=w.getShallow("show")?nh(n.getFormattedLabel(r,"emphasis"),n.getFormattedLabel(r,"normal"),t.get(h,r)):null),i&&s(u,i),u}function it(n,i){return i==null&&(i=e),t.getItemVisual(i,n)}function rt(n){if(u.getBaseAxis){var t=u.getBaseAxis();return ntt.getLayoutOnAxis(l({axis:t},n),r)}}function ut(){return i.getCurrentSeriesIndices()}function ft(n){return sst(n,i)}var a=n.get("renderItem"),u=n.coordinateSystem,v={};u&&(f&&(ct(a,"series.render is required."),ct(u.prepareCustoms||kwi[u.type],"This coordSys does not support custom series.")),v=u.prepareCustoms?u.prepareCustoms():kwi[u.type](u));var k=l({getWidth:r.getWidth,getHeight:r.getHeight,getZr:r.getZr,getDevicePixelRatio:r.getDevicePixelRatio,value:g,style:nt,styleEmphasis:tt,visual:it,barLayout:rt,currentSeriesIndices:ut,font:ft},v.api||{}),d={context:{},seriesId:n.id,seriesName:n.name,seriesIndex:n.seriesIndex,coordSys:v.coordSys,dataInsideLength:t.count(),encode:htu(n.getData())},e,y=!0,o,p,w,h,c;return function(n){return e=n,y=!0,a&&a(l({dataIndexInside:n,dataIndex:t.getRawIndex(n)},d),k)||{}}}function htu(n){var i={};return t(n.dimensions,function(t,r){var u=n.getDimensionInfo(t),f,e;u.isExtraCoord||(f=u.coordDim,e=i[f]=i[f]||[],e[u.coordDimIndex]=r)}),i}function gwi(n,t,i,r,u,f){n=byt(n,t,i,r,u,f);n&&f.setItemGraphicEl(t,n)}function byt(n,t,i,r,u,f){var o=i.type,c,s,h,e;if(n&&o!==n.__customGraphicType&&(o!=="path"||i.pathData!==n.__customPathData)&&(o!=="image"||i.style.image!==n.__customImagePath)&&(o!=="text"||i.style.text!==n.__customText)&&(u.remove(n),n=null),o!=null){if(c=!n,n||(n=etu(i)),otu(n,t,i,r,f,c),o==="group")if(s=n.children()||[],h=i.children||[],i.diffChildrenByName)ctu({oldChildren:s,newChildren:h,dataIndex:t,animatableModel:r,group:n,data:f});else{for(e=0;e<h.length;e++)byt(n.childAt(e),t,h[e],r,n,f);for(;e<s.length;e++)s[e]&&n.remove(s[e])}return u.add(n),n}}function ctu(n){new es(n.oldChildren,n.newChildren,nbi,nbi,n).add(tbi).update(tbi).remove(ltu).execute()}function nbi(n,t){var i=n&&n.name;return i!=null?i:ftu+t}function tbi(n,t){var i=this.context,r=n!=null?i.newChildren[n]:null,u=t!=null?i.oldChildren[t]:null;byt(u,i.dataIndex,r,i.animatableModel,i.group,i.data)}function ltu(n){var t=this.context,i=t.oldChildren[n];i&&t.group.remove(i)}function rbi(n,t,i,r){var e=i.type,o,u;f&&ct(e,"graphic type MUST be set");o=nf[e.charAt(0).toUpperCase()+e.slice(1)];f&&ct(o,"graphic type can not be found");u=new o(i);t.add(u);r.set(n,u);u.__ecGraphicId=n}function kit(n,t){var i=n&&n.parent;i&&(n.type==="group"&&n.traverse(function(n){kit(n,t)}),t.removeKey(n.__ecGraphicId),i.remove(n))}function atu(n){return n=s({},n),t(["id","parentId","$action","hv","bounding"].concat(nri),function(t){delete n[t]}),n}function ubi(n,i){var r;return t(i,function(t){n[t]!=null&&n[t]!=="auto"&&(r=!0)}),r}function vtu(n,t){var i=n.exist,r;t.id=n.keyInfo.id;!t.type&&i&&(t.type=i.type);t.parentId==null&&(r=t.parentOption,r?t.parentId=r.id:i&&(t.parentId=i.parentId));t.parentOption=null}function ytu(n,t,i){var u=s({},i),r=n[t],e=i.$action||"merge",o;e==="merge"?r?(f&&(o=i.type,ct(!o||r.type===o,'Please set $action: "replace" to change `type`')),a(r,u,!0),is(r,u,{ignoreSize:!0}),tri(i,r)):n[t]=u:e==="replace"?n[t]=u:e==="remove"&&r&&(n[t]=null)}function ptu(n,t){n&&(n.hv=t.hv=[ubi(t,["left","right"]),ubi(t,["top","bottom"])],n.type==="group"&&(n.width==null&&(n.width=t.width=0),n.height==null&&(n.height=t.height=0)))}function dyt(n,i,r){var u={},e=n==="toggleSelected",f;return r.eachComponent("legend",function(r){e&&f!=null?r[f?"select":"unSelect"](i.name):(r[n](i.name),f=r.isSelected(i.name));var o=r.getData();t(o,function(n){var t=n.get("name"),i;t!=="\n"&&t!==""&&(i=r.isSelected(t),u[t]=u.hasOwnProperty(t)?u[t]&&i:i)})}),{name:i.name,selected:u}}function wtu(n,t,i){var r=t.getBoxLayoutParams(),u=t.get("padding"),f={width:i.getWidth(),height:i.getHeight()},e=ai(r,f,u);rp(t.get("orient"),n,t.get("itemGap"),e.width,e.height);eg(n,r,f,u)}function fbi(n,t){var i=lo(t.get("padding")),r=t.getItemStyle(["color","opacity"]),n;return r.fill=t.get("backgroundColor"),new ot({shape:{x:n.x-i[3],y:n.y-i[0],width:n.width+i[1]+i[3],height:n.height+i[0]+i[2],r:t.get("borderRadius")},style:r,silent:!0,z2:-1})}function ebi(n,t){t.dispatchAction({type:"legendToggleSelect",name:n})}function obi(n,t,i){var r=i.getZr().storage.getDisplayList()[0];r&&r.useHoverLayer||n.get("legendHoverLink")&&i.dispatchAction({type:"highlight",seriesName:n.name,name:t})}function sbi(n,t,i){var r=i.getZr().storage.getDisplayList()[0];r&&r.useHoverLayer||n.get("legendHoverLink")&&i.dispatchAction({type:"downplay",seriesName:n.name,name:t})}function cbi(n,t,i){var u=n.getOrient(),r=[1,1];r[u.index]=0;is(t,i,{type:"box",ignoreSize:r})}function tiu(n){var t="cubic-bezier(0.23, 1, 0.32, 1)",r="left "+n+"s "+t+",top "+n+"s "+t;return i(gtu,function(n){return n+"transition:"+r}).join(";")}function iiu(n){var t=[],i=n.get("fontSize"),r=n.getTextColor();return r&&t.push("color:"+r),t.push("font:"+n.getFont()),i&&t.push("line-height:"+Math.round(i*3/2)+"px"),vbi(["decoration","align"],function(i){var r=n.get(i);r&&t.push("text-"+i+":"+r)}),t.join(";")}function riu(n){var t=[],r=n.get("transitionDuration"),i=n.get("backgroundColor"),f=n.getModel("textStyle"),u=n.get("padding");return r&&t.push(tiu(r)),i&&(d.canvasSupported?t.push("background-Color:"+i):(t.push("background-Color:#"+odt(i)),t.push("filter:alpha(opacity=70)"))),vbi(["width","color","radius"],function(i){var r="border-"+i,f=dtu(r),u=n.get(f);u!=null&&t.push(r+":"+u+(i==="color"?"":"px"))}),t.push(iiu(f)),u!=null&&t.push("padding:"+lo(u).join("px ")+"px"),t.join(";")+";"}function ipt(n,t){var r=document.createElement("div"),u=this._zr=t.getZr(),i;this.el=r;this._x=t.getWidth()/2;this._y=t.getHeight()/2;n.appendChild(r);this._container=n;this._show=!1;this._hideTimeout;i=this;r.onmouseenter=function(){i._enterable&&(clearTimeout(i._hideTimeout),i._show=!0);i._inContent=!0};r.onmousemove=function(t){if(t=t||window.event,!i._enterable){var r=u.handler;eh(n,t,!0);r.dispatch("mousemove",t)}};r.onmouseleave=function(){i._enterable&&i._show&&i.hideLater(i._hideDelay);i._inContent=!1}}function rpt(n){for(var i=n.pop(),t;n.length;)t=n.pop(),t&&(t instanceof it&&(t=t.get("tooltip",!0)),typeof t=="string"&&(t={formatter:t}),i=new it(t,i,i.ecModel));return i}function wbi(n,t){return n.dispatchAction||h(t.dispatchAction,t)}function fiu(n,t,i,r,u,f,e){var o=bbi(i),s=o.width,h=o.height;return f!=null&&(n+s+f>r?n-=s+f:n+=f),e!=null&&(t+h+e>u?t-=h+e:t+=e),[n,t]}function eiu(n,t,i,r,u){var f=bbi(i),e=f.width,o=f.height;return n=Math.min(n+e,r)-e,t=Math.min(t+o,u)-o,n=Math.max(n,0),t=Math.max(t,0),[n,t]}function bbi(n){var i=n.clientWidth,r=n.clientHeight,t;return document.defaultView&&document.defaultView.getComputedStyle&&(t=document.defaultView.getComputedStyle(n),t&&(i+=parseInt(t.paddingLeft,10)+parseInt(t.paddingRight,10)+parseInt(t.borderLeftWidth,10)+parseInt(t.borderRightWidth,10),r+=parseInt(t.paddingTop,10)+parseInt(t.paddingBottom,10)+parseInt(t.borderTopWidth,10)+parseInt(t.borderBottomWidth,10))),{width:i,height:r}}function oiu(n,t,i){var f=i[0],e=i[1],o=5,r=0,u=0,s=t.width,h=t.height;switch(n){case"inside":r=t.x+s/2-f/2;u=t.y+h/2-e/2;break;case"top":r=t.x+s/2-f/2;u=t.y-e-o;break;case"bottom":r=t.x+s/2-f/2;u=t.y+h+o;break;case"left":r=t.x-f-o;u=t.y+h/2-e/2;break;case"right":r=t.x+s+o;u=t.y+h/2-e/2}return[r,u]}function kbi(n){return n==="center"||n==="middle"}function dbi(n){return n.get("stack")||"__ec_stack_"+n.seriesIndex}function upt(n){return n.dim}function siu(n,t,i){var e=i.getWidth(),o=i.getHeight(),f={},r={},s=hiu(hr(t.getSeriesByType(n),function(n){return!t.isSeriesFiltered(n)&&n.coordinateSystem&&n.coordinateSystem.type==="polar"}));t.eachSeriesByType(n,function(n){if(n.coordinateSystem.type==="polar"){var l=n.getData(),i=n.coordinateSystem,a=i.getAngleAxis(),v=i.getBaseAxis(),t=dbi(n),y=s[upt(v)][t],p=y.offset,w=y.width,h=i.getOtherAxis(v),b=n.get("center")||["50%","50%"],tt=u(b[0],e),it=u(b[1],o),k=n.get("barMinHeight")||0,d=n.get("barMinAngle")||0,c=h.getExtent()[0],g=h.model.get("max"),nt=h.model.get("min"),rt=[n.coordDimToDataDim("radius")[0],n.coordDimToDataDim("angle")[0]],ut=l.mapArray(rt,function(n,t){return i.dataToPoint([n,t])},!0);f[t]=f[t]||[];r[t]=r[t]||[];l.each(n.coordDimToDataDim(h.dim)[0],function(n,u){var v,y,o;if(!isNaN(n)){f[t][u]||(f[t][u]={p:c,n:c},r[t][u]={p:c,n:c});var ft=n>=0?"p":"n",et=i.pointToCoord(ut[u]),b=r[t][u][ft],s,e,rt,ot;h.dim==="radius"?(s=b,e=et[0],rt=(-et[1]+p)*Math.PI/180,ot=rt+w*Math.PI/180,Math.abs(e)<k&&(e=s+(e<0?-1:1)*k),r[t][u][ft]=e):(s=et[0]+p,e=s+w,g!=null&&(n=Math.min(n,g)),nt!=null&&(n=Math.max(n,nt)),v=a.dataToAngle(n),Math.abs(v-b)<d&&(v=b-(n<0?-1:1)*d),rt=-b*Math.PI/180,ot=-v*Math.PI/180,y=a.getExtent(),o=v,o===y[0]&&n>0?o=y[1]:o===y[1]&&n<0&&(o=y[0]),r[t][u][ft]=o);l.setItemLayout(u,{cx:tt,cy:it,r0:s,r:e,startAngle:rt,endAngle:ot})}},!0)}},this)}function hiu(n){var r={},i;return t(n,function(n){var v=n.getData(),y=n.coordinateSystem,e=y.getBaseAxis(),h=e.getExtent(),s=e.type==="category"?e.getBandWidth():Math.abs(h[1]-h[0])/v.count(),t=r[upt(e)]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},f=t.stacks,i;r[upt(e)]=t;i=dbi(n);f[i]||t.autoWidthCount++;f[i]=f[i]||{width:0,maxWidth:0};var o=u(n.get("barWidth"),s),c=u(n.get("barMaxWidth"),s),l=n.get("barGap"),a=n.get("barCategoryGap");o&&!f[i].width&&(o=Math.min(t.remainedWidth,o),f[i].width=o,t.remainedWidth-=o);c&&(f[i].maxWidth=c);l!=null&&(t.gap=l);a!=null&&(t.categoryGap=a)}),i={},t(r,function(n,r){var h,l,a;i[r]={};var c=n.stacks,y=n.bandWidth,v=u(n.categoryGap,y),e=u(n.gap,1),s=n.remainedWidth,o=n.autoWidthCount,f=(s-v)/(o+(o-1)*e);f=Math.max(f,0);t(c,function(n){var t=n.maxWidth;t&&t<f&&(t=Math.min(t,s),n.width&&(t=Math.min(t,n.width)),s-=t,n.width=t,o--)});f=(s-v)/(o+(o-1)*e);f=Math.max(f,0);h=0;t(c,function(n){n.width||(n.width=f);l=n;h+=n.width*(1+e)});l&&(h-=l.width*e);a=-h/2;t(c,function(n,t){i[r][t]=i[r][t]||{offset:a,width:n.width};a+=n.width*(1+e)})}),i}function git(n,t){ri.call(this,"radius",n,t);this.type="category"}function nrt(n,t){t=t||[0,360];ri.call(this,"angle",n,t);this.type="category"}function gbi(n,t){return t.type||(t.data?"category":"value")}function ciu(n,t,i){var f=t.get("center"),e=i.getWidth(),o=i.getHeight();n.cx=u(f[0],e);n.cy=u(f[1],o);var r=n.getRadiusAxis(),h=Math.min(e,o)/2,s=u(t.get("radius"),h);r.inverse?r.setExtent(s,0):r.setExtent(0,s)}function liu(n){var u=this,t=u.getAngleAxis(),r=u.getRadiusAxis(),i,f;t.scale.setExtent(Infinity,-Infinity);r.scale.setExtent(Infinity,-Infinity);n.eachSeries(function(n){if(n.coordinateSystem===u){var i=n.getData();r.scale.unionExtentFromData(i,"radius");t.scale.unionExtentFromData(i,"angle")}});ic(t.scale,t.model);ic(r.scale,r.model);t.type!=="category"||t.onBand||(i=t.getExtent(),f=360/t.scale.count(),t.inverse?i[1]+=f:i[1]-=f,t.setExtent(i[0],i[1]))}function nki(n,t){if(n.type=t.get("type"),n.scale=ca(t),n.onBand=t.get("boundaryGap")&&n.type==="category",n.inverse=t.get("inverse"),t.mainType==="angleAxis"){n.inverse^=t.get("clockwise");var i=t.get("startAngle");n.setExtent(i,i+(n.inverse?-360:360))}t.axis=n;n.model=t}function rki(n,t,i){t[1]>t[0]&&(t=t.slice().reverse());var r=n.coordToPoint([t[0],i]),u=n.coordToPoint([t[1],i]);return{x1:r[0],y1:r[1],x2:u[0],y2:u[1]}}function ept(n){var t=n.getRadiusAxis();return t.inverse?0:1}function aiu(n,t,i){return{position:[n.cx,n.cy],rotation:i/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}function viu(n,t,i,r,u){var y=t.axis,p=y.dataToCoord(n),o=r.getAngleAxis().getExtent()[0],w,f,h,c,e,b,l,s,a,v;return o=o/180*Math.PI,w=r.getRadiusAxis().getExtent(),y.dim==="radius"?(e=ce(),rh(e,e,o),ff(e,e,[r.cx,r.cy]),f=bf([p,-u],e),b=t.getModel("axisLabel").get("rotate")||0,l=ki.innerTextLayout(o,b*Math.PI/180,-1),h=l.textAlign,c=l.textVerticalAlign):(s=w[1],f=r.coordToPoint([s+u,p]),a=r.cx,v=r.cy,h=Math.abs(f[0]-a)/s<.3?"center":f[0]>a?"left":"right",c=Math.abs(f[1]-v)/s<.3?"middle":f[1]>v?"top":"bottom"),{position:f,align:h,verticalAlign:c}}function opt(n,i){i.update="updateView";ft(i,function(i,r){var u={};return r.eachComponent({mainType:"geo",query:i},function(r){r[n](i.name);var f=r.coordinateSystem;t(f.regions,function(n){u[n.name]=r.isSelected(n.name)||!1})}),{selected:u,name:i.name}})}function yiu(n){var i={};t(n,function(n){i[n]=1});n.length=0;t(i,function(t,i){n.push(i)})}function lki(n){if(n)for(var t in n)if(n.hasOwnProperty(t))return!0}function hpt(n,t,i){function u(){var n=function(){};return n.prototype.__hidden=n.prototype,new n}var r={};return spt(t,function(t){var f=r[t]=u();spt(n[t],function(n,r){if(et.isValidType(r)){var u={type:r,visual:n};i&&i(u,t);f[r]=new et(u);r==="opacity"&&(u=c(u),u.type="colorAlpha",f.__hidden.__alphaForOpacity=new et(u))}})}),r}function aki(n,i,r){var u;t(r,function(n){i.hasOwnProperty(n)&&lki(i[n])&&(u=!0)});u&&t(r,function(t){i.hasOwnProperty(t)&&lki(i[t])?n[t]=c(i[t]):delete n[t]})}function vki(n,i,r,u,f,e){function c(n){return r.getItemVisual(o,n)}function l(n,t){r.setItemVisual(o,n,t)}function h(n,t){var a,h,b,v;if(o=e==null?n:t,a=r.getRawDataItem(o),!a||a.visualMap!==!1){var y=u.call(f,n),p=i[y],w=s[y];for(h=0,b=w.length;h<b;h++)v=w[h],p[v]&&p[v].applyVisual(n,c,l)}}var s={},o;t(n,function(n){var t=et.prepareVisualTypes(i[n]);s[n]=t});e==null?r.each(h,!0):r.each([e],h,!0)}function yki(n){var t=["x","y"],i=["width","height"];return{point:function(t,i,r){if(t){var u=r.range,f=t[n];return bw(f,u)}},rect:function(r,u,f){if(r){var o=f.range,e=[r[t[n]],r[t[n]]+r[i[n]]];return e[1]<e[0]&&e.reverse(),bw(e[0],o)||bw(e[1],o)||bw(o[0],e)||bw(o[1],e)}}}}function bw(n,t){return t[0]<=n&&n<=t[1]}function rrt(n,t,i,r,u){for(var o,f=0,e=u[u.length-1];f<u.length;f++){if(o=u[f],piu(n,t,i,r,o[0],o[1],e[0],e[1]))return!0;e=o}}function piu(n,t,i,r,u,f,e,o){var s=cpt(i-n,u-e,r-t,f-o),h,c;return wiu(s)?!1:(h=cpt(u-n,u-e,f-t,f-o)/s,h<0||h>1)?!1:(c=cpt(i-n,u-n,r-t,f-t)/s,c<0||c>1)?!1:!0}function wiu(n){return n<=1e-6&&n>=-1e-6}function cpt(n,t,i,r){return n*r-t*i}function ert(n,t,i){var r=this._targetInfoList=[],u={},f=pki(t,n);ws(kiu,function(n,t){(!i||!i.include||urt(i.include,t)>=0)&&n(f,r,u)})}function apt(n){return n[0]>n[1]&&n.reverse(),n}function pki(n,t){return ug(n,t,{includeMainTypes:biu})}function kki(n,t,r,u){f&&ct(r.type==="cartesian2d","lineX/lineY brush is available only in cartesian2d.");var e=r.getAxis(["x","y"][n]),s=apt(i([0,1],function(n){return t?e.coordToData(e.toLocalCoord(u[n])):e.toGlobalCoord(e.dataToCoord(u[n]))})),o=[];return o[n]=s,o[1-n]=[NaN,NaN],{values:s,xyMinMax:o}}function dki(n,t,i,r){return[t[0]-r[n]*i[0],t[1]-r[n]*i[1]]}function diu(n,t){var r=gki(n),u=gki(t),i=[r[0]/u[0],r[1]/u[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function gki(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}function giu(n,t,i,r,u){var f,e;u&&((f=n.getZr(),f[wpt])||(f[ppt]||(f[ppt]=nru),e=up(f,ppt,i,t),e(n,r)))}function nru(n,t){if(!n.isDisposed()){var i=n.getZr();i[wpt]=!0;n.dispatchAction({type:"brushSelect",batch:t});i[wpt]=!1}}function idi(n,t,i,r){for(var f,u=0,e=t.length;u<e;u++)if(f=t[u],n[f.brushType](r,i,f.selectors,f))return!0}function rdi(n){var i=n.brushSelector,r,u;return li(i)?(r=[],t(irt,function(n,t){r[t]=function(t,r,u,f){var e=r.getItemLayout(t);return n[i](e,u,f)}}),r):fo(i)?(u={},t(irt,function(n,t){u[t]=i}),u):i}function tru(n,t){var i=n.option.seriesIndex;return i!=null&&i!=="all"&&(r(i)?w(i,t)<0:t!==i)}function iru(n){var i=n.selectors={};return t(irt[n.brushType],function(t,r){i[r]=function(r){return t(r,i,n)}}),n}function fdi(n){return new p(n[0][0],n[1][0],n[0][1]-n[0][0],n[1][1]-n[1][0])}function odi(n,t){return a({brushType:n.brushType,brushMode:n.brushMode,transformable:n.transformable,brushStyle:new it(n.brushStyle).getItemStyle(),removeOnClick:n.removeOnClick,z:n.z},t,!0)}function ort(n,t,i,r){r&&r.$from===n.id||this._brushController.setPanels(n.brushTargetManager.makePanelOpts(i)).enableBrush(n.brushOption).updateCovers(n.areas.slice())}function ov(n,t){bpt[n]=t}function sdi(n){return bpt[n]}function kpt(n,t,i){this.model=n;this.ecModel=t;this.api=i;this._brushType;this._brushMode}function io(n){this._model=n}function cdi(n,t,i,r){var u=i.calendarModel,f=i.seriesModel,e=u?u.coordinateSystem:f?f.coordinateSystem:null;return e===this?e[n](r):null}function ldi(n,t){var u=n.cellSize,f;r(u)?u.length===1&&(u[1]=u[0]):u=n.cellSize=[u,u];f=i([0,1],function(n){return vor(t,n)&&(u[n]="auto"),u[n]!=null&&u[n]!=="auto"});is(n,t,{type:"box",ignoreSize:f})}function uru(n){return w(pdi,n)>=0}function fru(n,r){var u,f;return n=n.slice(),u=i(n,ud),r=(r||[]).slice(),f=i(r,ud),function(i,e){t(n,function(n,t){for(var s={name:n,capital:u[t]},o=0;o<r.length;o++)s[r[o]]=n+f[o];i.call(e,s)})}}function eru(n,i,r){function f(n,t){return w(t.nodes,n)>=0}function e(n,u){var f=!1;return i(function(i){t(r(n,i)||[],function(n){u.records[i.name][n]&&(f=!0)})}),f}function u(n,u){u.nodes.push(n);i(function(i){t(r(n,i)||[],function(n){u.records[i.name][n]=!0})})}return function(t){function s(n){!f(n,r)&&e(n,r)&&(u(n,r),o=!0)}var r={nodes:[],records:{}},o;if(i(function(n){r.records[n.name]={}}),!t)return r;u(t,r);do o=!1,n(s);while(o);return r}}function oru(n,t,i){var r=[Infinity,-Infinity];return kc(i,function(n){var i=n.getData();i&&kc(n.coordDimToDataDim(t),function(n){var t=i.getDataExtent(n);t[0]<r[0]&&(r[0]=t[0]);t[1]>r[1]&&(r[1]=t[1])})}),r[1]<r[0]&&(r=[NaN,NaN]),sru(n,r),r}function sru(n,t){var i=n.getAxisModel(),u=i.getMin(!0),f=i.get("type")==="category",e=f&&(i.get("data")||[]).length,r;return u!=null&&u!=="dataMin"&&typeof u!="function"?t[0]=u:f&&(t[0]=e>0?0:NaN),r=i.getMax(!0),r!=null&&r!=="dataMax"&&typeof r!="function"?t[1]=r:f&&(t[1]=e>0?e-1:NaN),i.get("scale",!0)||(t[0]>0&&(t[0]=0),t[1]<0&&(t[1]=0)),t}function bdi(n,t){var e=n.getAxisModel(),r=n._percentWindow,u=n._valueWindow,i,f;r&&(i=fot(u,[0,500]),i=Math.min(i,20),f=t||r[0]===0&&r[1]===100,e.setRange(f?null:+u[0].toFixed(i),f?null:+u[1].toFixed(i)))}function hru(n){var t=n._minMaxSpan={},i=n._dataZoomModel;kc(["min","max"],function(r){var u,f;t[r+"Span"]=i.get(r+"Span");u=i.get(r+"ValueSpan");u!=null&&(t[r+"ValueSpan"]=u,u=n.getAxisModel().axis.scale.parse(u),u!=null&&(f=n._dataExtent,t[r+"Span"]=ti(f[0]+u,f,[0,100],!0)))})}function kdi(n){var t={};return hv(["start","end","startValue","endValue","throttle"],function(i){n.hasOwnProperty(i)&&(t[i]=n[i])}),t}function ddi(n,t){var i=n._rangePropMode,r=n.get("rangeMode");hv([["start","startValue"],["end","endValue"]],function(n,u){var f=t[n[0]]!=null,e=t[n[1]]!=null;f&&!e?i[u]="percent":!f&&e?i[u]="value":r?i[u]=r[u]:f&&(i[u]="percent")})}function vru(n){return{x:"y",y:"x",radius:"angle",angle:"radius"}[n]}function tgi(n){return n==="vertical"?"ns-resize":"ew-resize"}function yru(n,i){var u=rgi(n),f=i.dataZoomId,e=i.coordId,r,s;t(u,function(n){var t=n.dataZoomInfos;t[f]&&w(i.allCoordIds,e)<0&&(delete t[f],n.count--)});ugi(u);r=u[e];r||(r=u[e]={coordId:e,dataZoomInfos:{},count:0},r.controller=bru(n,r),r.dispatchAction=o(gru,n));r.dataZoomInfos[f]||r.count++;r.dataZoomInfos[f]=i;s=nuu(r.dataZoomInfos);r.controller.enable(s.controlType,s.opt);r.controller.setPointerChecker(i.containsPoint);up(r,"dispatchAction",i.throttleRate,"fixRate")}function pru(n,i){var r=rgi(n);t(r,function(n){n.controller.dispose();var t=n.dataZoomInfos;t[i]&&(delete t[i],n.count--)});ugi(r)}function wru(n,t){if(n&&n.type==="dataZoom"&&n.batch)for(var i=0,r=n.batch.length;i<r;i++)if(n.batch[i].dataZoomId===t)return!1;return!0}function igi(n){return n.type+'\0_'+n.id}function rgi(n){var t=n.getZr();return t[hwt]||(t[hwt]={})}function bru(n,t){var i=new bp(n.getZr());i.on("pan",swt(kru,t));i.on("zoom",swt(dru,t));return i}function ugi(n){t(n,function(t,i){t.count||(t.controller.dispose(),delete n[i])})}function kru(n,t,i,r,u,f,e){fgi(n,function(o){return o.panGetRange(n.controller,t,i,r,u,f,e)})}function dru(n,t,i,r){fgi(n,function(u){return u.zoomGetRange(n.controller,t,i,r)})}function fgi(n,i){var r=[];t(n.dataZoomInfos,function(n){var t=i(n);!n.disabled&&t&&r.push({dataZoomId:n.dataZoomId,start:t[0],end:t[1]})});n.dispatchAction(r)}function gru(n,t){n.dispatchAction({type:"dataZoom",batch:t})}function nuu(n){var i,r={},u={"true":2,move:1,"false":0,undefined:-1};return t(n,function(n){var t=n.disabled?!1:n.zoomLock?"move":!0;u[t]>u[i]&&(i=t);s(r,n.roamControllerOpt)}),{controlType:i,opt:r}}function tuu(n,t,i){i.getAxisProxy(n.name,t).reset(i)}function iuu(n,t,i){i.getAxisProxy(n.name,t).filterData(i)}function cv(n,t){return n&&n.hasOwnProperty&&n.hasOwnProperty(t)}function ruu(n){n.eachTargetSeries(function(t){var i=t.getData();vki(n.stateList,n.targetVisuals,i,n.getValueState,n,n.getDataDimension(i))})}function uuu(n){n.eachSeries(function(t){var r=t.getData(),i=[];n.eachComponent("visualMap",function(n){if(n.isTargetSeries(t)){var u=n.getVisualMeta(h(fuu,null,t,n))||{stops:[],outerColors:[]};u.dimension=n.getDataDimension(r);i.push(u)}});t.getData().setVisual("visualMeta",i)})}function fuu(n,t,i,r){function l(n){return u[n]}function a(n,t){u[n]=t}for(var e,o,s=t.targetVisuals[r],h=et.prepareVisualTypes(s),u={color:n.getData().getVisual("color")},f=0,c=h.length;f<c;f++)e=h[f],o=s[e==="opacity"?"__alphaForOpacity":e],o&&o.applyVisual(i,l,a);return u.color}function agi(n,t,i){var f;if(i[0]===i[1])return i.slice();var e=200,o=(i[1]-i[0])/e,r=i[0],u=[];for(f=0;f<=e&&r<i[1];f++)u.push(r),r+=o;return u.push(i[1]),u}function vgi(n,t,i){var f=n.option,o=f.align,r,u,e;if(o!=null&&o!=="auto")return o;var l={width:t.getWidth(),height:t.getHeight()},s=f.orient==="horizontal"?1:0,a=[["left","right","width"],["top","bottom","height"]],h=a[s],v=[0,null,10],c={};for(r=0;r<3;r++)c[a[1-s][r]]=v[r],c[h[r]]=r===2?i[0]:f[h[r]];return u=[["x","width",3],["y","height",0]][s],e=ai(c,l,f.padding),h[(e.margin[u[2]]||0)+e[u[0]]+e[u[1]]*.5<l[u[1]]*.5?0:1]}function crt(n){return t(n||[],function(){n.dataIndex!=null&&(n.dataIndexInside=n.dataIndex,n.dataIndex=null)}),n}function art(n,t,i,r){return new hu({shape:{points:n},draggable:!!i,cursor:t,drift:i,onmousemove:function(n){ye(n.event)},ondragend:r})}function puu(n,t){return n===0?[[0,0],[t,0],[t,-t]]:[[0,0],[t,0],[t,t]]}function wuu(n,t,i,r){return n?[[0,-lrt(t,dw(i,0))],[ygi,0],[0,lrt(t,dw(r-i,0))]]:[[0,0],[5,-5],[5,5]]}function buu(n,t,i){var r=vuu/2,u=n.get("hoverLinkDataSize");return u&&(r=uo(u,t,i,!0)/2),r}function pgi(n){var t=n.get("hoverLinkOnHandle");return!!(t==null?n.get("realtime"):t)}function wgi(n){return n==="vertical"?"ns-resize":"ew-resize"}function ggi(n,t){var i=n.inverse;(n.orient==="vertical"?!i:i)&&t.reverse()}function yrt(n){wh(n.label,["show"])}function duu(n){return!(isNaN(parseFloat(n.x))&&isNaN(parseFloat(n.y)))}function guu(n){return!isNaN(parseFloat(n.x))&&!isNaN(parseFloat(n.y))}function nfu(n,t,i){var r=-1;do r=Math.max(fnt(n.get(t,i)),r),n=n.stackedOn;while(n);return r}function kwt(n,t,i,r,u,f){var e=[],h=dwt(t,r,n),s=t.indicesOfNearest(r,h,!0)[0],o;return e[u]=t.get(i,s,!0),e[f]=t.get(r,s,!0),o=nfu(t,r,s),o=Math.min(o,20),o>=0&&(e[f]=+e[f].toFixed(o)),e}function nb(n,t){var o=n.getData(),s=n.coordinateSystem,e,i,l,h,f,u,a;if(t&&!guu(t)&&!r(t.coord)&&s)if(e=s.dimensions,i=nni(t,o,s,n),t=c(t),t.type&&wrt[t.type]&&i.baseAxis&&i.valueAxis)l=bwt(e,i.baseAxis.dim),h=bwt(e,i.valueAxis.dim),t.coord=wrt[t.type](o,i.baseDataDim,i.valueDataDim,l,h),t.value=t.coord[h];else{for(f=[t.xAxis!=null?t.xAxis:t.radiusAxis,t.yAxis!=null?t.yAxis:t.angleAxis],u=0;u<2;u++)wrt[f[u]]&&(a=n.coordDimToDataDim(e[u])[0],f[u]=dwt(o,a,f[u]));t.coord=f}return t}function nni(n,t,i,r){var u={};return n.valueIndex!=null||n.valueDim!=null?(u.valueDataDim=n.valueIndex!=null?t.getDimension(n.valueIndex):n.valueDim,u.valueAxis=i.getAxis(r.dataDimToCoordDim(u.valueDataDim)),u.baseAxis=i.getOtherAxis(u.valueAxis),u.baseDataDim=r.coordDimToDataDim(u.baseAxis.dim)[0]):(u.baseAxis=r.getBaseAxis(),u.valueAxis=i.getOtherAxis(u.baseAxis),u.baseDataDim=r.coordDimToDataDim(u.baseAxis.dim)[0],u.valueDataDim=r.coordDimToDataDim(u.valueAxis.dim)[0]),u}function tb(n,t){return n&&n.containData&&t.coord&&!duu(t)?n.containData(t.coord):!0}function tni(n,t,i,r){return r<2?n.coord&&n.coord[r]:n.value}function dwt(n,t,i){if(i==="average"){var r=0,u=0;return n.each(t,function(n){isNaN(n)||(r+=n,u++)},!0),r/u}return n.getDataExtent(t,!0)[i==="max"?1:0]}function ini(n,t,i){var r=t.coordinateSystem;n.each(function(f){var h=n.getItemModel(f),e,o=u(h.get("x"),i.getWidth()),s=u(h.get("y"),i.getHeight()),c,l;isNaN(o)||isNaN(s)?t.getMarkerPosition?e=t.getMarkerPosition(n.getValues(n.dimensions,f)):r&&(c=n.get(r.dimensions[0],f),l=n.get(r.dimensions[1],f),e=r.dataToPoint([c,l])):e=[o,s];isNaN(o)||(e[0]=o);isNaN(s)||(e[1]=s);n.setItemLayout(f,e)})}function tfu(n,t,r){var e,f,u;return e=n?i(n&&n.dimensions,function(n){var i=t.getData().getDimensionInfo(t.coordDimToDataDim(n)[0])||{};return i.name=n,i}):[{name:"value",type:"float"}],f=new yt(e,r),u=i(r.get("data"),o(nb,t)),n&&(u=hr(u,o(tb,n))),f.initData(u,null,n?tni:function(n){return n.value}),f}function krt(n){return!isNaN(n)&&!isFinite(n)}function uni(n,t,i,r){var u=1-n,f=r.dimensions[n];return krt(t[u])&&krt(i[u])&&t[n]===i[n]&&r.getAxis(f).containData(t[n])}function ifu(n,t){if(n.type==="cartesian2d"){var i=t[0].coord,r=t[1].coord;if(i&&r&&(uni(1,i,r,n)||uni(0,i,r,n)))return!0}return tb(n,t[0])&&tb(n,t[1])}function gwt(n,t,i,r,f){var o=r.coordinateSystem,l=n.getItemModel(t),e,s=u(l.get("x"),f.getWidth()),h=u(l.get("y"),f.getHeight());if(isNaN(s)||isNaN(h)){if(r.getMarkerPosition)e=r.getMarkerPosition(n.getValues(n.dimensions,t));else{var c=o.dimensions,y=n.get(c[0],t),p=n.get(c[1],t);e=o.dataToPoint([y,p])}if(o.type==="cartesian2d"){var a=o.getAxis("x"),v=o.getAxis("y"),c=o.dimensions;krt(n.get(c[0],t))?e[0]=a.toGlobalCoord(a.getExtent()[i?0:1]):krt(n.get(c[1],t))&&(e[1]=v.toGlobalCoord(v.getExtent()[i?0:1]))}isNaN(s)||(e[0]=s);isNaN(h)||(e[1]=h)}else e=[s,h];n.setItemLayout(t,e)}function rfu(n,t,r){var f,s;f=n?i(n&&n.dimensions,function(n){var i=t.getData().getDimensionInfo(t.coordDimToDataDim(n)[0])||{};return i.name=n,i}):[{name:"value",type:"float"}];var h=new yt(f,r),c=new yt(f,r),e=new yt([],r),u=i(r.get("data"),o(rni,t,n,r));return n&&(u=hr(u,o(ifu,n))),s=n?tni:function(n){return n.value},h.initData(i(u,function(n){return n[0]}),null,s),c.initData(i(u,function(n){return n[1]}),null,s),e.initData(i(u,function(n){return n[2]})),e.hasItemOption=!0,{from:h,to:c,line:e}}function drt(n){return!isNaN(n)&&!isFinite(n)}function eni(n,t,i){var r=1-n;return drt(t[r])&&drt(i[r])}function ufu(n,t){var i=t.coord[0],r=t.coord[1];return n.type==="cartesian2d"&&i&&r&&(eni(1,i,r,n)||eni(0,i,r,n))?!0:tb(n,{coord:i,x:t.x0,y:t.y0})||tb(n,{coord:r,x:t.x1,y:t.y1})}function oni(n,t,i,r,f){var o=r.coordinateSystem,a=n.getItemModel(t),e,s=u(a.get(i[0]),f.getWidth()),h=u(a.get(i[1]),f.getHeight()),c,l;if(isNaN(s)||isNaN(h)){if(r.getMarkerPosition?e=r.getMarkerPosition(n.getValues(i,t)):(c=n.get(i[0],t),l=n.get(i[1],t),e=o.dataToPoint([c,l],!0)),o.type==="cartesian2d"){var v=o.getAxis("x"),y=o.getAxis("y"),c=n.get(i[0],t),l=n.get(i[1],t);drt(c)?e[0]=v.toGlobalCoord(v.getExtent()[i[0]==="x0"?0:1]):drt(l)&&(e[1]=y.toGlobalCoord(y.getExtent()[i[1]==="y0"?0:1]))}isNaN(s)||(e[0]=s);isNaN(h)||(e[1]=h)}else e=[s,h];return e}function ffu(n,t,r){var f,u,e,s;return n?(f=i(n&&n.dimensions,function(n){var i=t.getData().getDimensionInfo(t.coordDimToDataDim(n)[0])||{};return i.name=n,i}),u=new yt(i(["x0","y0","x1","y1"],function(n,t){return{name:n,type:f[t%2].type}}),r)):(f=[{name:"value",type:"float"}],u=new yt(f,r)),e=i(r.get("data"),o(fni,t,n,r)),n&&(e=hr(e,o(ufu,n))),s=n?function(n,t,i,r){return n.coord[Math.floor(r/2)][r%2]}:function(n){return n.value},u.initData(e,null,s),u.hasItemOption=!0,u}function efu(n){var u=n.type,f={number:"value",time:"time"},i;f[u]&&(n.axisType=f[u],delete n.type);hni(n);nl(n,"controlPosition")&&(i=n.controlStyle||(n.controlStyle={}),nl(i,"position")||(i.position=n.controlPosition),i.position!=="none"||nl(i,"show")||(i.show=!1,delete i.position),delete n.controlPosition);t(n.data||[],function(n){y(n)&&!r(n)&&(!nl(n,"value")&&nl(n,"name")&&(n.value=n.name),hni(n))})}function hni(n){var u=n.itemStyle||(n.itemStyle={}),r=u.emphasis||(u.emphasis={}),i=n.label||n.label||{},f=i.normal||(i.normal={}),e={normal:1,emphasis:1};t(i,function(n,t){e[t]||nl(f,t)||(f[t]=n)});r.label&&!nl(i,"emphasis")&&(i.emphasis=r.label,delete r.label)}function nl(n,t){return n.hasOwnProperty(t)}function ofu(n,t){return ai(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},n.get("padding"))}function sfu(n,t,i,r){return np(n.get(t).replace(/^path:\/\//,""),c(r||{}),new p(i[0],i[1],i[2],i[3]),"center")}function ani(n,t,i,r,f,e){var c=t.get("color"),l,v,o,s,h,y;return f?(f.setColor(c),i.add(f),e&&e.onUpdate(f)):(l=n.get("symbol"),f=ru(l,-1,-1,2,2,c),f.setStyle("strokeNoScale",!0),i.add(f),e&&e.onCreate(f)),v=t.getItemStyle(["color","symbol","symbolSize"]),f.setStyle(v),r=a({rectHover:!0,z2:100},r,!0),o=n.get("symbolSize"),o=o instanceof Array?o.slice():[+o,+o],o[0]/=2,o[1]/=2,r.scale=o,s=n.get("symbolOffset"),s&&(h=r.position=r.position||[0,0],h[0]+=u(s[0],o[0]),h[1]+=u(s[1],o[1])),y=n.get("symbolRotate"),r.rotation=(y||0)*Math.PI/180||0,f.attr(r),f.updateTransform(),f}function vni(n,t,i,r,u){if(!n.dragging){var f=r.getModel("checkpointStyle"),e=i.dataToCoord(r.getData().get(["value"],t));u||!f.get("animation",!0)?n.attr({position:[e,0]}):(n.stopAnimation(!0),n.animateTo({position:[e,0]},f.get("animationDuration",!0),f.get("animationEasing",!0)))}}function hfu(n){return n.indexOf("my")===0}function grt(n){this.model=n}function fbt(n){this.model=n}function cfu(n){var t={},i=[],r=[];return n.eachRawSeries(function(n){var f=n.coordinateSystem,u,e;f&&(f.type==="cartesian2d"||f.type==="polar")?(u=f.getBaseAxis(),u.type==="category"?(e=u.dim+"_"+u.index,t[e]||(t[e]={categoryAxis:u,valueAxis:f.getOtherAxis(u),series:[]},r.push({axisDim:u.dim,axisIndex:u.index})),t[e].series.push(n)):i.push(n)):i.push(n)}),{seriesGroupByCategoryAxis:t,other:i,meta:r}}function lfu(n){var r=[];return t(n,function(n){var h=n.categoryAxis,c=n.valueAxis,l=c.dim,a=[" "].concat(i(n.series,function(n){return n.name})),u=[h.model.getCategories()],o,f,s,e;for(t(n.series,function(n){u.push(n.getRawData().mapArray(l,function(n){return n}))}),o=[a.join(tl)],f=0;f<u[0].length;f++){for(s=[],e=0;e<u.length;e++)s.push(u[e][f]);o.push(s.join(tl))}r.push(o.join("\n"))}),r.join("\n\n"+nut+"\n\n")}function afu(n){return i(n,function(n){var t=n.getRawData(),i=[n.name],r=[];return t.each(t.dimensions,function(){for(var u=arguments.length,e=arguments[u-1],f=t.getName(e),n=0;n<u-1;n++)r[n]=arguments[n];i.push((f?f+tl:"")+r.join(tl))}),i.join("\n")}).join("\n\n"+nut+"\n\n")}function vfu(n){var t=cfu(n);return{value:hr([lfu(t.seriesGroupByCategoryAxis),afu(t.other)],function(n){return n.replace(/[\n\t\s]/g,"")}).join("\n\n"+nut+"\n\n"),meta:t.meta}}function tut(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function yfu(n){var t=n.slice(0,n.indexOf("\n"));if(t.indexOf(tl)>=0)return!0}function pfu(n){for(var u,t,f=n.split(/\n+/g),s=tut(f.shift()).split(iut),o=[],e=i(s,function(n){return{name:n,data:[]}}),r=0;r<f.length;r++)for(u=tut(f[r]).split(iut),o.push(u.shift()),t=0;t<u.length;t++)e[t]&&(e[t].data[r]=u[t]);return{series:e,categories:o}}function wfu(n){for(var f,e=n.split(/\n+/g),h=tut(e.shift()),i=[],t=0;t<e.length;t++){var r=tut(e[t]).split(iut),o="",u,s=!1;for(isNaN(r[0])?(s=!0,o=r[0],r=r.slice(1),i[t]={name:o,value:[]},u=i[t].value):u=i[t]=[],f=0;f<r.length;f++)u.push(+r[f]);u.length===1&&(s?i[t].value=u[0]:i[t]=u[0])}return{name:h,data:i}}function bfu(n,i){var u=n.split(new RegExp("\n*"+nut+"\n*","g")),r={series:[]};return t(u,function(n,t){var u;if(yfu(n)){var u=pfu(n),f=i[t],e=f.axisDim+"Axis";f&&(r[e]=r[e]||[],r[e][f.axisIndex]={data:u.categories},r.series=r.series.concat(u.series))}else u=wfu(n),r.series.push(u)}),r}function rb(n){this._dom=null;this.model=n}function kfu(n,t){return i(n,function(n,i){var u=t&&t[i];return y(u)&&!r(u)?(y(n)&&!r(n)&&(n=n.value),l({value:n},u)):n})}function dfu(n,t){var i=hbt(n);sbt(t,function(t,r){for(var u=i.length-1,o,f,e;u>=0;u--)if(o=i[u],o[r])break;u<0&&(f=n.queryComponents({mainType:"dataZoom",subType:"select",id:r})[0],f&&(e=f.getPercentRange(),i[0][r]={dataZoomId:r,start:e[0],end:e[1]}))});i.push(t)}function gfu(n){var t=hbt(n),r=t[t.length-1],i;return t.length>1&&t.pop(),i={},sbt(r,function(n,r){for(var n,u=t.length-1;u>=0;u--)if(n=t[u][r],n){i[r]=n;break}}),i}function neu(n){n[rut]=null}function teu(n){return hbt(n).length}function hbt(n){var t=n[rut];return t||(t=n[rut]=[{}]),t}function cbt(n,t,i){(this._brushController=new rv(i.getZr())).on("brush",h(this._onBrush,this)).mount();this._isZoomActive}function ntr(n){var i={};return t(["xAxisIndex","yAxisIndex"],function(t){i[t]=n[t];i[t]==null&&(i[t]="all");(i[t]===!1||i[t]==="none")&&(i[t]=[])}),i}function ueu(n,t){n.setIconStatus("back",teu(t)>1?"emphasis":"normal")}function feu(n,t,i,r,u){var f=i._isZoomActive,e;r&&r.type==="takeGlobalCursor"&&(f=r.key==="dataZoomSelect"?r.dataZoomSelectActive:!1);i._isZoomActive=f;n.setIconStatus("zoom",f?"emphasis":"normal");e=new ert(ntr(n.option),t,{include:["grid"]});i._brushController.setPanels(e.makePanelOpts(u,function(n){return n.xAxisDeclared&&!n.yAxisDeclared?"lineX":!n.xAxisDeclared&&n.yAxisDeclared?"lineY":"rect"})).enableBrush(f?{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}}:!1)}function lbt(n){this.model=n}function abt(n){return vbt(n)}function eeu(){if(!ftr&&uu){ftr=!0;var n=uu.styleSheets;n.length<31?uu.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):n[0].addRule(".zrvml","behavior:url(#default#VML)")}}function lv(n){return parseInt(n,10)}function out(n,t){var r,i,u,f;eeu();this.root=n;this.storage=t;r=document.createElement("div");i=document.createElement("div");r.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;";i.style.cssText="position:absolute;left:0;top:0;";n.appendChild(r);this._vmlRoot=i;this._vmlViewport=r;this.resize();u=t.delFromStorage;f=t.addToStorage;t.delFromStorage=function(n){u.call(t,n);n&&n.onRemove&&n.onRemove(i)};t.addToStorage=function(n){n.onAdd&&n.onAdd(i);f.call(t,n)};this._firstPaint=!0}function nou(n){return function(){ae('In IE8.0 VML mode painter not support method "'+n+'"')}}function ul(n){return document.createElementNS(vtr,n)}function uf(n){return tkt(n*1e4)/1e4}function rkt(n){return n<wtr&&n>-wtr}function rou(n,t){var i=t?n.textFill:n.fill;return i!=null&&i!==el}function uou(n,t){var i=t?n.textStroke:n.stroke;return i!=null&&i!==el}function ukt(n,t){t&&ht(n,"transform","matrix("+tou.call(t,",")+")")}function ht(n,t,i){i&&(i.type==="linear"||i.type==="radial")||n.setAttribute(t,i)}function fou(n,t,i){n.setAttributeNS("http://www.w3.org/1999/xlink",t,i)}function btr(n,t,i){var r,u,f,e,o;rou(t,i)?(r=i?t.textFill:t.fill,r=r==="transparent"?el:r,n.getAttribute("clip-path")!=="none"&&r===el&&(r="rgba(0, 0, 0, 0.002)"),ht(n,"fill",r),ht(n,"fill-opacity",t.opacity)):ht(n,"fill",el);uou(t,i)?(u=i?t.textStroke:t.stroke,u=u==="transparent"?el:u,ht(n,"stroke",u),f=i?t.textStrokeWidth:t.lineWidth,e=t.strokeNoScale?t.host.getLineScale():1,ht(n,"stroke-width",f/e),ht(n,"paint-order","stroke"),ht(n,"stroke-opacity",t.opacity),o=t.lineDash,o?(ht(n,"stroke-dasharray",t.lineDash.join(",")),ht(n,"stroke-dashoffset",tkt(t.lineDashOffset||0))):ht(n,"stroke-dasharray",""),t.lineCap&&ht(n,"stroke-linecap",t.lineCap),t.lineJoin&&ht(n,"stroke-linejoin",t.lineJoin),t.miterLimit&&ht(n,"stroke-miterlimit",t.miterLimit)):ht(n,"stroke",el)}function eou(n){for(var k,d,f,e,p,o=[],i=n.data,tt=n.len(),t=0;t<tt;){var it=i[t++],r="",s=0;switch(it){case fl.M:r="M";s=2;break;case fl.L:r="L";s=2;break;case fl.Q:r="Q";s=4;break;case fl.C:r="C";s=6;break;case fl.A:var w=i[t++],b=i[t++],l=i[t++],a=i[t++],h=i[t++],u=i[t++],rt=i[t++],v=i[t++],c=Math.abs(u),ut=rkt(c%sut)&&!rkt(c),y=!1;y=c>=sut?!0:rkt(c)?!1:(u>-ikt&&u<0||u>ikt)==!!v;k=uf(w+l*ptr(h));d=uf(b+a*ytr(h));ut&&(u=v?sut-.0001:-sut+.0001,y=!0,t===9&&o.push("M",k,d));f=uf(w+l*ptr(h+u));e=uf(b+a*ytr(h+u));o.push("A",uf(l),uf(a),tkt(rt*iou),+y,+v,f,e);break;case fl.Z:r="Z";break;case fl.R:var f=uf(i[t++]),e=uf(i[t++]),g=uf(i[t++]),nt=uf(i[t++]);o.push("M",f,e,"L",f+g,e,"L",f+g,e+nt,"L",f,e+nt,"L",f,e)}for(r&&o.push(r),p=0;p<s;p++)o.push(uf(i[t++]))}return o.join(" ")}function ktr(n){return n==="middle"?"middle":n==="bottom"?"baseline":"hanging"}function dtr(){}function oou(n,t){for(var e=0,s=t.length,o=0,f=0,i,u,r;e<s;e++)if(i=t[e],i.removed){for(u=[],r=f;r<f+i.count;r++)u.push(r);i.indices=u;f+=i.count}else{for(u=[],r=o;r<o+i.count;r++)u.push(r);i.indices=u;o+=i.count;i.added||(f+=i.count)}return t}function sou(n){return{newPos:n.newPos,components:n.components.slice(0)}}function oi(n,t,i){this._svgRoot=n;this._tagNames=typeof t=="string"?[t]:t;this._markLabel=i;this.nextId=0}function ol(n){oi.call(this,n,["linearGradient","radialGradient"],"__gradient_in_use__")}function eb(n){oi.call(this,n,"clipPath","__clippath_in_use__")}function vv(n){return parseInt(n,10)}function aou(n){return n instanceof tt?av:n instanceof gi?hut:n instanceof b?cut:av}function nir(n,t){return t&&n&&t.parentNode!==n}function aut(n,t,i){if(nir(n,t)&&i){var r=i.nextSibling;r?n.insertBefore(t,r):n.appendChild(t)}}function tir(n,t){if(nir(n,t)){var i=n.firstChild;i?n.insertBefore(t,i):n.appendChild(t)}}function iir(n,t){t&&n&&t.parentNode===n&&n.removeChild(t)}function ekt(n){return n.__textSvgEl}function okt(n){return n.__svgEl}function vou(n){return function(){ae('In SVG mode painter not support method "'+n+'"')}}var yv,d,ds,yut,kut,cb,ykt,pkt,gut,bkt,kkt,oo,oe,ndt,ift,hi,rft,idt,th,rdt,pu,wu,eft,iy,sft,al,lft,pft,uy,sdt,cdt,ldt,wb,bb,dft,ae,ey,ef,e,net,wl,ik,oy,ho,rk,uk,fk,ek,fh,sy,ok,hgt,cgt,ck,vy,lk,vk,yk,pk,wk,dgt,ye,yy,kk,cr,not,nd,unt,uot,id,ont,lnt,lo,hot,rd,bl,kot,dot,nst,na,tr,nu,b,pti,wti,ah,gy,pf,we,ph,ast,ng,rg,dii,gii,dst,fri,sg,sri,kf,lg,ag,rt,nc,eui,vui,pui,yt,v,gui,tfi,rfi,on,sn,hn,cn,rf,ln,lfi,afi,fct,ect,ri,yfi,oct,sct,au,bn,uei,vct,ap,yp,pct,be,wct,bi,yei,ke,ki,kct,dct,gct,noi,ec,kn,br,dn,gn,flt,elt,olt,ttt,wp,hlt,boi,utt,wa,gar,goi,nsi,tsi,isi,llt,ett,as,vs,sc,ott,stt,htt,vlt,asi,wsi,bsi,ksi,dsi,att,whi,rat,ytt,da,ghi,nv,kr,vat,cci,nit,de,iit,kci,dci,gci,nli,rli,fli,lc,eli,oli,cwr,sli,ivt,lli,vwr,ali,vli,ew,ac,evt,kli,dli,yai,sw,gai,nvi,ivi,rvi,fvi,ikr,ovi,svi,hvi,cvi,lvi,avi,vvi,nyt,tyt,dvi,gvi,nyi,iyi,ryi,uyi,fyi,iyt,ps,uyt,no,lw,aw,hyi,ait,lyi,ayi,vyi,yw,ewi,swi,bit,lwi,awi,ywi,pwi,wwi,bwi,ibi,kyt,hbi,npt,ww,trt,fpt,tki,iki,uki,fki,eki,oki,ski,hki,cki,spt,irt,wc,ypt,udi,edi,rru,bpt,bc,hdi,sv,dpt,gpt,adi,vdi,ydi,pdi,nwt,swt,hwt,cwt,lwt,pwt,bgi,kgi,dgi,kuu,wwt,vrt,gw,bwt,prt,wrt,brt,rni,fni,nbt,sni,tbt,cni,lni,ib,yni,ubt,pni,wni,ebt,obt,bni,iut,sbt,rut,il,gni,ttr,itr,vbt,ltr,fut,eut,vtr,av,hut,ob;typeof window!="undefined"?yv=window.__DEV__:typeof global!="undefined"&&(yv=global.__DEV__);typeof yv=="undefined"&&(yv=!0);var f=yv,rir=2311,skt=function(){return rir++},hkt={};hkt=typeof navigator=="undefined"?{browser:{},os:{},node:!0,canvasSupported:!0,svgSupported:!0}:uir(navigator.userAgent);d=hkt;var ckt={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},fir={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},sb=Object.prototype.toString,pv=Array.prototype,eir=pv.forEach,oir=pv.filter,wv=pv.slice,sir=pv.map,hir=pv.reduce,vut={};ds=function(){return vut.createCanvas()};vut.createCanvas=function(){return document.createElement("canvas")};kut="__ec_primitive__";cb="_ec_";ykt=4;dut.prototype={constructor:dut,get:function(n){return this[cb+n]},set:function(n,t){return this[cb+n]=t,t},each:function(n,t){t!==void 0&&(n=h(n,t));for(var i in this)this.hasOwnProperty(i)&&n(this[i],i.slice(ykt))},removeKey:function(n){delete this[cb+n]}};pkt=(Object.freeze||Object)({$override:lkt,clone:c,merge:a,mergeAll:bv,extend:s,defaults:l,createCanvas:ds,getContext:akt,indexOf:w,inherits:st,mixin:nt,isArrayLike:gs,each:t,map:i,reduce:sl,filter:hr,find:cir,bind:h,curry:o,isArray:r,isFunction:fo,isString:li,isObject:y,isBuiltInObject:put,isDom:hl,eqNaN:kv,retrieve:kt,retrieve2:si,retrieve3:nh,slice:wut,normalizeCssArray:but,assert:ct,setAsPrimitive:vkt,isPrimitive:hb,createHashMap:ui,noop:pi});gut=typeof Float32Array=="undefined"?Array:Float32Array;bkt=gv;kkt=tft;oo=ny;oe=dkt;ndt=(Object.freeze||Object)({create:eo,copy:di,clone:yu,set:wkt,add:nft,scaleAndAdd:dv,sub:ee,len:gv,length:bkt,lenSquare:tft,lengthSquare:kkt,mul:lir,div:air,dot:vir,scale:lb,normalize:cl,distance:ny,dist:oo,distanceSquare:dkt,distSquare:oe,negate:yir,lerp:gkt,applyTransform:lt,min:se,max:he});ab.prototype={constructor:ab,_dragStart:function(n){var t=n.target;t&&t.draggable&&(this._draggingTarget=t,t.dragging=!0,this._x=n.offsetX,this._y=n.offsetY,this.dispatchToElement(ll(t,n),"dragstart",n.event))},_drag:function(n){var i=this._draggingTarget,t,r;if(i){var u=n.offsetX,f=n.offsetY,e=u-this._x,o=f-this._y;this._x=u;this._y=f;i.drift(e,o,n);this.dispatchToElement(ll(i,n),"drag",n.event);t=this.findHover(u,f,i).target;r=this._dropTarget;this._dropTarget=t;i!==t&&(r&&t!==r&&this.dispatchToElement(ll(r,n),"dragleave",n.event),t&&t!==r&&this.dispatchToElement(ll(t,n),"dragenter",n.event))}},_dragEnd:function(n){var t=this._draggingTarget;t&&(t.dragging=!1);this.dispatchToElement(ll(t,n),"dragend",n.event);this._dropTarget&&this.dispatchToElement(ll(this._dropTarget,n),"drop",n.event);this._draggingTarget=null;this._dropTarget=null}};ift=Array.prototype.slice;hi=function(){this._$handlers={}};hi.prototype={constructor:hi,one:function(n,t,i){var r=this._$handlers,u;if(!t||!n)return this;for(r[n]||(r[n]=[]),u=0;u<r[n].length;u++)if(r[n][u].h===t)return this;return r[n].push({h:t,one:!0,ctx:i||this}),this},on:function(n,t,i){var r=this._$handlers,u;if(!t||!n)return this;for(r[n]||(r[n]=[]),u=0;u<r[n].length;u++)if(r[n][u].h===t)return this;return r[n].push({h:t,one:!1,ctx:i||this}),this},isSilent:function(n){var t=this._$handlers;return t[n]&&t[n].length},off:function(n,t){var i=this._$handlers,u,r,f;if(!n)return this._$handlers={},this;if(t){if(i[n]){for(u=[],r=0,f=i[n].length;r<f;r++)i[n][r].h!=t&&u.push(i[n][r]);i[n]=u}i[n]&&i[n].length===0&&delete i[n]}else delete i[n];return this},trigger:function(n){var r,u,i,f,t;if(this._$handlers[n])for(r=arguments,u=r.length,u>3&&(r=ift.call(r,1)),i=this._$handlers[n],f=i.length,t=0;t<f;){switch(u){case 1:i[t].h.call(i[t].ctx);break;case 2:i[t].h.call(i[t].ctx,r[1]);break;case 3:i[t].h.call(i[t].ctx,r[1],r[2]);break;default:i[t].h.apply(i[t].ctx,r)}i[t].one?(i.splice(t,1),f--):t++}return this},triggerWithContext:function(n){var t,f,i;if(this._$handlers[n]){t=arguments;f=t.length;f>4&&(t=ift.call(t,1,t.length-1));var u=t[t.length-1],r=this._$handlers[n],e=r.length;for(i=0;i<e;){switch(f){case 1:r[i].h.call(u);break;case 2:r[i].h.call(u,t[1]);break;case 3:r[i].h.call(u,t[1],t[2]);break;default:r[i].h.apply(u,t)}r[i].one?(r.splice(i,1),e--):i++}}return this}};rft="silent";tdt.prototype.dispose=function(){};idt=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];th=function(n,i,r,u){hi.call(this);this.storage=n;this.painter=i;this.painterRoot=u;r=r||new tdt;this.proxy=r;r.handler=this;this._hovered={};this._lastTouchMoment;this._lastX;this._lastY;ab.call(this);t(idt,function(n){r.on&&r.on(n,this[n],this)},this)};th.prototype={constructor:th,mousemove:function(n){var e=n.zrX,o=n.zrY,t=this._hovered,i=t.target;i&&!i.__zr&&(t=this.findHover(t.x,t.y),i=t.target);var u=this._hovered=this.findHover(e,o),r=u.target,f=this.proxy;f.setCursor&&f.setCursor(r?r.cursor:"default");i&&r!==i&&this.dispatchToElement(t,"mouseout",n);this.dispatchToElement(u,"mousemove",n);r&&r!==i&&this.dispatchToElement(u,"mouseover",n)},mouseout:function(n){this.dispatchToElement(this._hovered,"mouseout",n);var t=n.toElement||n.relatedTarget,i;do t=t&&t.parentNode;while(t&&t.nodeType!=9&&!(i=t===this.painterRoot));i||this.trigger("globalout",{event:n})},resize:function(){this._hovered={}},dispatch:function(n,t){var i=this[n];i&&i.call(this,t)},dispose:function(){this.proxy.dispose();this.storage=this.proxy=this.painter=null},setCursorStyle:function(n){var t=this.proxy;t.setCursor&&t.setCursor(n)},dispatchToElement:function(n,t,i){var r,f,u;if(n=n||{},r=n.target,!r||!r.silent){for(f="on"+t,u=pir(t,n,i);r;)if(r[f]&&(u.cancelBubble=r[f].call(r,u)),r.trigger(t,u),r=r.parent,u.cancelBubble)break;u.cancelBubble||(this.trigger(t,u),this.painter&&this.painter.eachOtherLayer(function(n){typeof n[f]=="function"&&n[f].call(n,u);n.trigger&&n.trigger(t,u)}))}},findHover:function(n,t,i){for(var e,u=this.storage.getDisplayList(),f={x:n,y:t},r=u.length-1;r>=0;r--)if(u[r]!==i&&!u[r].ignore&&(e=wir(u[r],n,t))&&(f.topTarget||(f.topTarget=u[r]),e!==rft)){f.target=u[r];break}return f}};t(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){th.prototype[n]=function(t){var r=this.findHover(t.zrX,t.zrY),i=r.target;if(n==="mousedown")this._downEl=i,this._downPoint=[t.zrX,t.zrY],this._upEl=i;else if(n==="mosueup")this._upEl=i;else if(n==="click"){if(this._downEl!==this._upEl||!this._downPoint||oo(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(r,n,t)}});nt(th,hi);nt(th,ab);rdt=typeof Float32Array=="undefined"?Array:Float32Array;var bir=(Object.freeze||Object)({create:ce,identity:ty,copy:uft,mul:ih,translate:ff,rotate:rh,scale:vb,invert:yb}),fft=ty,udt=5e-5;pu=function(n){n=n||{};n.position||(this.position=[0,0]);n.rotation==null&&(this.rotation=0);n.scale||(this.scale=[1,1]);this.origin=this.origin||null};wu=pu.prototype;wu.transform=null;wu.needLocalTransform=function(){return uh(this.rotation)||uh(this.position[0])||uh(this.position[1])||uh(this.scale[0]-1)||uh(this.scale[1]-1)};wu.updateTransform=function(){var t=this.parent,r=t&&t.transform,i=this.needLocalTransform(),n=this.transform;if(!(i||r)){n&&fft(n);return}n=n||ce();i?this.getLocalTransform(n):fft(n);r&&(i?ih(n,t.transform,n):uft(n,t.transform));this.transform=n;this.invTransform=this.invTransform||ce();yb(this.invTransform,n)};wu.getLocalTransform=function(n){return pu.getLocalTransform(this,n)};wu.setTransform=function(n){var i=this.transform,t=n.dpr||1;i?n.setTransform(t*i[0],t*i[1],t*i[2],t*i[3],t*i[4],t*i[5]):n.setTransform(t,0,0,t,0,0)};wu.restoreTransform=function(n){var t=n.dpr||1;n.setTransform(t,0,0,t,0,0)};eft=[];wu.decomposeTransform=function(){var r,n;if(this.transform){r=this.parent;n=this.transform;r&&r.transform&&(ih(eft,r.invTransform,n),n=eft);var t=n[0]*n[0]+n[1]*n[1],i=n[2]*n[2]+n[3]*n[3],u=this.position,f=this.scale;uh(t-1)&&(t=Math.sqrt(t));uh(i-1)&&(i=Math.sqrt(i));n[0]<0&&(t=-t);n[3]<0&&(i=-i);u[0]=n[4];u[1]=n[5];f[0]=t;f[1]=i;this.rotation=Math.atan2(-n[1]/i,n[0]/t)}};wu.getGlobalScale=function(){var n=this.transform,t,i;return n?(t=Math.sqrt(n[0]*n[0]+n[1]*n[1]),i=Math.sqrt(n[2]*n[2]+n[3]*n[3]),n[0]<0&&(t=-t),n[3]<0&&(i=-i),[t,i]):[1,1]};wu.transformCoordToLocal=function(n,t){var i=[n,t],r=this.invTransform;return r&&lt(i,i,r),i};wu.transformCoordToGlobal=function(n,t){var i=[n,t],r=this.transform;return r&&lt(i,i,r),i};pu.getLocalTransform=function(n,t){t=t||[];fft(t);var i=n.origin,f=n.scale||[1,1],r=n.rotation||0,u=n.position||[0,0];return i&&(t[4]-=i[0],t[5]-=i[1]),vb(t,t,f),r&&rh(t,t,r),i&&(t[4]+=i[0],t[5]+=i[1]),t[4]+=u[0],t[5]+=u[1],t};iy={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return.5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return n===0?0:Math.pow(1024,n-1)},exponentialOut:function(n){return n===1?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var i,t=.1,r=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,i=r/4):i=r*Math.asin(1/t)/(2*Math.PI),-(t*Math.pow(2,10*(n-=1))*Math.sin((n-i)*2*Math.PI/r)))},elasticOut:function(n){var i,t=.1,r=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,i=r/4):i=r*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*n)*Math.sin((n-i)*2*Math.PI/r)+1)},elasticInOut:function(n){var i,t=.1,r=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,i=r/4):i=r*Math.asin(1/t)/(2*Math.PI),(n*=2)<1)?-.5*t*Math.pow(2,10*(n-=1))*Math.sin((n-i)*2*Math.PI/r):t*Math.pow(2,-10*(n-=1))*Math.sin((n-i)*2*Math.PI/r)*.5+1},backIn:function(n){var t=1.70158;return n*n*((t+1)*n-t)},backOut:function(n){var t=1.70158;return--n*n*((t+1)*n+t)+1},backInOut:function(n){var t=1.70158*1.525;return(n*=2)<1?.5*n*n*((t+1)*n-t):.5*((n-=2)*n*((t+1)*n+t)+2)},bounceIn:function(n){return 1-iy.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?iy.bounceIn(n*2)*.5:iy.bounceOut(n*2-1)*.5+.5}};oft.prototype={constructor:oft,step:function(n,t){var i;if(this._initialized||(this._startTime=n+this._delay,this._initialized=!0),this._paused){this._pausedTime+=t;return}if(i=(n-this._startTime-this._pausedTime)/this._life,!(i<0)){i=Math.min(i,1);var r=this.easing,u=typeof r=="string"?iy[r]:r,f=typeof u=="function"?u(i):i;return(this.fire("frame",f),i==1)?this.loop?(this.restart(n),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(n){var t=(n-this._startTime-this._pausedTime)%this._life;this._startTime=n-t+this.gap;this._pausedTime=0;this._needsRemove=!1},fire:function(n,t){n="on"+n;this[n]&&this[n](this._target,t)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};sft=function(){this.head=null;this.tail=null;this._len=0};al=sft.prototype;al.insert=function(n){var t=new fdt(n);return this.insertEntry(t),t};al.insertEntry=function(n){this.head?(this.tail.next=n,n.prev=this.tail,n.next=null,this.tail=n):this.head=this.tail=n;this._len++};al.remove=function(n){var t=n.prev,i=n.next;t?t.next=i:this.head=i;i?i.prev=t:this.tail=t;n.next=n.prev=null;this._len--};al.len=function(){return this._len};al.clear=function(){this.head=this.tail=null;this._len=0};var fdt=function(n){this.value=n;this.next;this.prev},hft=function(n){this._list=new sft;this._map={};this._maxSize=n||10;this._lastRemovedEntry=null},cft=hft.prototype;cft.put=function(n,t){var u=this._list,f=this._map,o=null,e,i,r;return f[n]==null&&(e=u.len(),i=this._lastRemovedEntry,e>=this._maxSize&&e>0&&(r=u.head,u.remove(r),delete f[r.key],o=r.value,this._lastRemovedEntry=r),i?i.value=t:i=new fdt(t),i.key=n,u.insertEntry(i),f[n]=i),o};cft.get=function(n){var t=this._map[n],i=this._list;if(t!=null)return t!==i.tail&&(i.remove(t),i.insertEntry(t)),t.value};cft.clear=function(){this._list.clear();this._map={}};lft={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};pft=new hft(20);uy=null;sdt=fy;cdt=hdt;ldt=(Object.freeze||Object)({parse:eu,lift:edt,toHex:odt,fastLerp:fy,fastMapToColor:sdt,lerp:hdt,mapToColor:cdt,modifyHSL:pl,modifyAlpha:pb,stringify:le});wb=Array.prototype.slice;bb=function(n,t,i,r){this._tracks={};this._target=n;this._loop=t||!1;this._getter=i||gir;this._setter=r||nrr;this._clipCount=0;this._delay=0;this._doneList=[];this._onframeList=[];this._clipList=[]};bb.prototype={when:function(n,t){var r=this._tracks,i,u;for(i in t)if(t.hasOwnProperty(i)){if(!r[i]){if(r[i]=[],u=this._getter(this._target,i),u==null)continue;n!==0&&r[i].push({time:0,value:irr(u)})}r[i].push({time:n,value:t[i]})}return this},during:function(n){return this._onframeList.push(n),this},pause:function(){for(var n=0;n<this._clipList.length;n++)this._clipList[n].pause();this._paused=!0},resume:function(){for(var n=0;n<this._clipList.length;n++)this._clipList[n].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){var t,i,n;for(this._tracks={},this._clipList.length=0,t=this._doneList,i=t.length,n=0;n<i;n++)t[n].call(this)},start:function(n,t){var e=this,r=0,s=function(){r--;r||e._doneCallback()},u,f,i,o;for(f in this._tracks)this._tracks.hasOwnProperty(f)&&(i=urr(this,n,s,this._tracks[f],f,t),i&&(this._clipList.push(i),r++,this.animation&&this.animation.addClip(i),u=i));return u&&(o=u.onframe,u.onframe=function(n,t){o(n,t);for(var i=0;i<e._onframeList.length;i++)e._onframeList[i](n,t)}),r||this._doneCallback(),this},stop:function(n){for(var r,t=this._clipList,u=this.animation,i=0;i<t.length;i++){if(r=t[i],n)r.onframe(this._target,1);u&&u.removeClip(r)}t.length=0},delay:function(n){return this._delay=n,this},done:function(n){return n&&this._doneList.push(n),this},getClips:function(){return this._clipList}};dft=1;typeof window!="undefined"&&(dft=Math.max(window.devicePixelRatio||1,1));var bdt=0,kb=dft,gft=function(){};bdt===1?gft=function(){for(var n in arguments)throw new Error(arguments[n]);}:bdt>1&&(gft=function(){for(var n in arguments)console.log(arguments[n])});ae=gft;ey=function(){this.animators=[]};ey.prototype={constructor:ey,animate:function(n,t){var f,h=!1,u=this,c=this.__zr,e,i,o,l,s,r;if(n){for(e=n.split("."),i=u,h=e[0]==="shape",o=0,l=e.length;o<l;o++)i&&(i=i[e[o]]);i&&(f=i)}else f=u;if(!f){ae('Property "'+n+'" is not existed in element '+u.id);return}return s=u.animators,r=new bb(f,t),r.during(function(){u.dirty(h)}).done(function(){s.splice(w(s,r),1)}),s.push(r),c&&c.animation.addAnimator(r),r},stopAnimation:function(n){for(var t=this.animators,r=t.length,i=0;i<r;i++)t[i].stop(n);return t.length=0,this},animateTo:function(n,t,i,r,u,f){function h(){o--;o||u&&u()}var e,o,s;for(li(i)?(u=r,r=i,i=0):fo(r)?(u=r,r="linear",i=0):fo(i)?(u=i,i=0):fo(t)?(u=t,t=500):t||(t=500),this.stopAnimation(),this._animateToShallow("",this,n,t,i),e=this.animators.slice(),o=e.length,o||u&&u(),s=0;s<e.length;s++)e[s].done(h).start(r,f)},_animateToShallow:function(n,t,i,r,u){var o={},s=0,f,e;for(f in i)i.hasOwnProperty(f)&&(t[f]!=null?y(i[f])&&!gs(i[f])?this._animateToShallow(n?n+"."+f:f,t[f],i[f],r,u):(o[f]=i[f],s++):i[f]!=null&&(n?(e={},e[n]={},e[n][f]=i[f],this.attr(e)):this.attr(f,i[f])));return s>0&&this.animate(n,!1).when(r==null?500:r,o).delay(u||0),this}};ef=function(n){pu.call(this,n);hi.call(this,n);ey.call(this,n);this.id=n.id||skt()};ef.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function(n,t){switch(this.draggable){case"horizontal":t=0;break;case"vertical":n=0}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]);i[4]+=n;i[5]+=t;this.decomposeTransform();this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(){},attrKV:function(n,t){if(n==="position"||n==="scale"||n==="origin"){if(t){var i=this[n];i||(i=this[n]=[]);i[0]=t[0];i[1]=t[1]}}else this[n]=t},hide:function(){this.ignore=!0;this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1;this.__zr&&this.__zr.refresh()},attr:function(n,t){if(typeof n=="string")this.attrKV(n,t);else if(y(n))for(var i in n)n.hasOwnProperty(i)&&this.attrKV(i,n[i]);return this.dirty(!1),this},setClipPath:function(n){var t=this.__zr;t&&n.addSelfToZr(t);this.clipPath&&this.clipPath!==n&&this.removeClipPath();this.clipPath=n;n.__zr=t;n.__clipTarget=this;this.dirty(!1)},removeClipPath:function(){var n=this.clipPath;n&&(n.__zr&&n.removeSelfFromZr(n.__zr),n.__zr=null,n.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(n){var t,i;if(this.__zr=n,t=this.animators,t)for(i=0;i<t.length;i++)n.animation.addAnimator(t[i]);this.clipPath&&this.clipPath.addSelfToZr(n)},removeSelfFromZr:function(n){var t,i;if(this.__zr=null,t=this.animators,t)for(i=0;i<t.length;i++)n.animation.removeAnimator(t[i]);this.clipPath&&this.clipPath.removeSelfFromZr(n)}};nt(ef,ey);nt(ef,pu);nt(ef,hi);var db=lt,gb=Math.min,nk=Math.max;for(p.prototype={constructor:p,union:function(n){var t=gb(n.x,this.x),i=gb(n.y,this.y);this.width=nk(n.x+n.width,this.x+this.width)-t;this.height=nk(n.y+n.height,this.y+this.height)-i;this.x=t;this.y=i},applyTransform:function(){var n=[],t=[],i=[],r=[];return function(u){if(u){n[0]=i[0]=this.x;n[1]=r[1]=this.y;t[0]=r[0]=this.x+this.width;t[1]=i[1]=this.y+this.height;db(n,n,u);db(t,t,u);db(i,i,u);db(r,r,u);this.x=gb(n[0],t[0],i[0],r[0]);this.y=gb(n[1],t[1],i[1],r[1]);var f=nk(n[0],t[0],i[0],r[0]),e=nk(n[1],t[1],i[1],r[1]);this.width=f-this.x;this.height=e-this.y}}}(),calculateTransform:function(n){var i=this,r=n.width/i.width,u=n.height/i.height,t=ce();return ff(t,t,[-i.x,-i.y]),vb(t,t,[r,u]),ff(t,t,[n.x,n.y]),t},intersect:function(n){if(!n)return!1;n instanceof p||(n=p.create(n));var t=this,i=t.x,r=t.x+t.width,u=t.y,f=t.y+t.height,e=n.x,o=n.x+n.width,s=n.y,h=n.y+n.height;return!(r<e||o<i||f<s||h<u)},contain:function(n,t){var i=this;return n>=i.x&&n<=i.x+i.width&&t>=i.y&&t<=i.y+i.height},clone:function(){return new p(this.x,this.y,this.width,this.height)},copy:function(n){this.x=n.x;this.y=n.y;this.width=n.width;this.height=n.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},p.create=function(n){return new p(n.x,n.y,n.width,n.height)},e=function(n){n=n||{};ef.call(this,n);for(var t in n)n.hasOwnProperty(t)&&(this[t]=n[t]);this._children=[];this.__storage=null;this.__dirty=!0},e.prototype={constructor:e,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(n){return this._children[n]},childOfName:function(n){for(var i=this._children,t=0;t<i.length;t++)if(i[t].name===n)return i[t]},childCount:function(){return this._children.length},add:function(n){return n&&n!==this&&n.parent!==this&&(this._children.push(n),this._doAdd(n)),this},addBefore:function(n,t){if(n&&n!==this&&n.parent!==this&&t&&t.parent===this){var i=this._children,r=i.indexOf(t);r>=0&&(i.splice(r,0,n),this._doAdd(n))}return this},_doAdd:function(n){n.parent&&n.parent.remove(n);n.parent=this;var t=this.__storage,i=this.__zr;t&&t!==n.__storage&&(t.addToStorage(n),n instanceof e&&n.addChildrenToStorage(t));i&&i.refresh()},remove:function(n){var i=this.__zr,t=this.__storage,r=this._children,u=w(r,n);return u<0?this:(r.splice(u,1),n.parent=null,t&&(t.delFromStorage(n),n instanceof e&&n.delChildrenFromStorage(t)),i&&i.refresh(),this)},removeAll:function(){for(var i=this._children,r=this.__storage,n,t=0;t<i.length;t++)n=i[t],r&&(r.delFromStorage(n),n instanceof e&&n.delChildrenFromStorage(r)),n.parent=null;return i.length=0,this},eachChild:function(n,t){for(var u,r=this._children,i=0;i<r.length;i++)u=r[i],n.call(t,u,i);return this},traverse:function(n,t){for(var r,i=0;i<this._children.length;i++)r=this._children[i],n.call(t,r),r.type==="group"&&r.traverse(n,t);return this},addChildrenToStorage:function(n){for(var i,t=0;t<this._children.length;t++)i=this._children[t],n.addToStorage(i),i instanceof e&&i.addChildrenToStorage(n)},delChildrenFromStorage:function(n){for(var i,t=0;t<this._children.length;t++)i=this._children[t],n.delFromStorage(i),i instanceof e&&i.delChildrenFromStorage(n)},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(n){for(var r,u,e,t=null,i=new p(0,0,0,0),o=n||this._children,s=[],f=0;f<o.length;f++)(r=o[f],r.ignore||r.invisible)||(u=r.getBoundingRect(),e=r.getLocalTransform(s),e?(i.copy(u),i.applyTransform(e),t=t||i.clone(),t.union(i)):(t=t||u.clone(),t.union(u)));return t||i}},st(e,ef),net=32,wl=7,ik=function(){this._roots=[];this._displayList=[];this._displayListLen=0},ik.prototype={constructor:ik,traverse:function(n,t){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(n,t)},getDisplayList:function(n,t){return t=t||!1,n&&this.updateDisplayList(t),this._displayList},updateDisplayList:function(n){var i,r,t,u;for(this._displayListLen=0,i=this._roots,r=this._displayList,t=0,u=i.length;t<u;t++)this._updateAndAddDisplayable(i[t],null,n);r.length=this._displayListLen;d.canvasSupported&&tk(r,gdt)},_updateAndAddDisplayable:function(n,t,i){var f,r,e,o,u,s;if(!n.ignore||i){if(n.beforeUpdate(),n.__dirty&&n.update(),n.afterUpdate(),f=n.clipPath,f)for(t=t?t.slice():[],r=f,e=n;r;)r.parent=e,r.updateTransform(),t.push(r),e=r,r=r.clipPath;if(n.isGroup){for(o=n._children,u=0;u<o.length;u++)s=o[u],n.__dirty&&(s.__dirty=!0),this._updateAndAddDisplayable(s,t,i);n.__dirty=!1}else n.__clipPaths=t,this._displayList[this._displayListLen++]=n}},addRoot:function(n){n.__storage!==this&&(n instanceof e&&n.addChildrenToStorage(this),this.addToStorage(n),this._roots.push(n))},delRoot:function(n){var i,t,u,r;if(n==null){for(t=0;t<this._roots.length;t++)i=this._roots[t],i instanceof e&&i.delChildrenFromStorage(this);this._roots=[];this._displayList=[];this._displayListLen=0;return}if(n instanceof Array){for(t=0,u=n.length;t<u;t++)this.delRoot(n[t]);return}r=w(this._roots,n);r>=0&&(this.delFromStorage(n),this._roots.splice(r,1),n instanceof e&&n.delChildrenFromStorage(this))},addToStorage:function(n){return n.__storage=this,n.dirty(!1),this},delFromStorage:function(n){return n&&(n.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:gdt},oy=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],ho=function(n,t){this.extendFrom(n,!1);this.host=t},ho.prototype={constructor:ho,host:null,fill:"#000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(n,t,i){for(var s,e,h,r=this,u=i&&i.style,f=!u,o=0;o<oy.length;o++)s=oy[o],e=s[0],(f||r[e]!==u[e])&&(n[e]=r[e]||s[1]);(f||r.fill!==u.fill)&&(n.fillStyle=r.fill);(f||r.stroke!==u.stroke)&&(n.strokeStyle=r.stroke);(f||r.opacity!==u.opacity)&&(n.globalAlpha=r.opacity==null?1:r.opacity);(f||r.blend!==u.blend)&&(n.globalCompositeOperation=r.blend||"source-over");this.hasStroke()&&(h=r.lineWidth,n.lineWidth=h/(this.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1))},hasFill:function(){var n=this.fill;return n!=null&&n!=="none"},hasStroke:function(){var n=this.stroke;return n!=null&&n!=="none"&&this.lineWidth>0},extendFrom:function(n,t){if(n)for(var i in n)n.hasOwnProperty(i)&&(t===!0||(t===!1?!this.hasOwnProperty(i):n[i]!=null))&&(this[i]=n[i])},set:function(n,t){typeof n=="string"?this[n]=t:this.extendFrom(n,!0)},clone:function(){var n=new this.constructor;return n.extendFrom(this,!0),n},getGradient:function(n,t,i){for(var e=t.type==="radial"?hrr:srr,f=e(n,t,i),u=t.colorStops,r=0;r<u.length;r++)f.addColorStop(u[r].offset,u[r].color);return f}},rk=ho.prototype,uk=0;uk<oy.length;uk++)fk=oy[uk],fk[0]in rk||(rk[fk[0]]=fk[1]);ho.getGradient=rk.getGradient;ek=function(n,t){this.image=n;this.repeat=t;this.type="pattern"};ek.prototype.getCanvasPattern=function(n){return n.createPattern(this.image,this.repeat||"repeat")};fh=function(n,t,i){var u,r;i=i||kb;typeof n=="string"?u=ngt(n,t,i):y(n)&&(u=n,n=u.id);this.id=n;this.dom=u;r=u.style;r&&(u.onselectstart=crr,r["-webkit-user-select"]="none",r["user-select"]="none",r["-webkit-touch-callout"]="none",r["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",r.padding=0,r.margin=0,r["border-width"]=0);this.domBack=null;this.ctxBack=null;this.painter=t;this.config=null;this.clearColor=0;this.motionBlur=!1;this.lastFrameAlpha=.7;this.dpr=i};fh.prototype={constructor:fh,elCount:0,__dirty:!0,initContext:function(){this.ctx=this.dom.getContext("2d");this.ctx.__currentValues={};this.ctx.dpr=this.dpr},createBackBuffer:function(){var n=this.dpr;this.domBack=ngt("back-"+this.id,this.painter,n);this.ctxBack=this.domBack.getContext("2d");this.ctxBack.__currentValues={};n!=1&&this.ctxBack.scale(n,n)},resize:function(n,t){var i=this.dpr,r=this.dom,f=r.style,u=this.domBack;f.width=n+"px";f.height=t+"px";r.width=n*i;r.height=t*i;u&&(u.width=n*i,u.height=t*i,i!=1&&this.ctxBack.scale(i,i))},clear:function(n){var e=this.dom,t=this.ctx,r=e.width,u=e.height,i=this.clearColor,o=this.motionBlur&&!n,c=this.lastFrameAlpha,s=this.dpr,f,h;o&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(e,0,0,r/s,u/s));t.clearRect(0,0,r,u);i&&(i.colorStops?(f=i.__canvasGradient||ho.getGradient(t,i,{x:0,y:0,width:r,height:u}),i.__canvasGradient=f):i.image&&(f=ek.prototype.getCanvasPattern.call(i,t)),t.save(),t.fillStyle=f||i,t.fillRect(0,0,r,u),t.restore());o&&(h=this.domBack,t.save(),t.globalAlpha=c,t.drawImage(h,0,0,r,u),t.restore())}};sy=typeof window!="undefined"&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){setTimeout(n,16)};ok=new hft(50);var hk={},ret=0,vrr=5e3,uet=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,hy="12px sans-serif",fet={};fet.measureText=function(n,t){var i=akt();return i.font=t||hy,i.measureText(n)};hgt={left:1,right:1,center:1};cgt={top:1,bottom:1,middle:1};ck=new p;vy=function(){};vy.prototype={constructor:vy,drawRectText:function(n,t){var i=this.style,r,u;(t=i.textRect||t,this.__dirty&&ay(i,!0),r=i.text,r!=null&&(r+=""),kgt(r,i))&&(n.save(),u=this.transform,i.transformText?this.setTransform(n):u&&(ck.copy(t),ck.applyTransform(u),t=ck),agt(this,n,r,i,t),n.restore())}};ou.prototype={constructor:ou,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:-1,beforeBrush:function(){},afterBrush:function(){},brush:function(){},getBoundingRect:function(){},contain:function(n,t){return this.rectContain(n,t)},traverse:function(n,t){n.call(t,this)},rectContain:function(n,t){var i=this.transformCoordToLocal(n,t),r=this.getBoundingRect();return r.contain(i[0],i[1])},dirty:function(){this.__dirty=!0;this._rect=null;this.__zr&&this.__zr.refresh()},animateStyle:function(n){return this.animate("style",n)},attrKV:function(n,t){n!=="style"?ef.prototype.attrKV.call(this,n,t):this.style.set(t)},setStyle:function(n,t){return this.style.set(n,t),this.dirty(!1),this},useStyle:function(n){return this.style=new ho(n,this),this.dirty(!1),this}};st(ou,ef);nt(ou,vy);gi.prototype={constructor:gi,type:"image",brush:function(n,t){var i=this.style,l=i.image,r,e,o;if(i.bind(n,this,t),r=this._image=tgt(l,this._image,this,this.onload),r&&sk(r)){var s=i.x||0,h=i.y||0,u=i.width,f=i.height,c=r.width/r.height;if(u==null&&f!=null?u=f*c:f==null&&u!=null?f=u/c:u==null&&f==null&&(u=r.width,f=r.height),this.setTransform(n),i.sWidth&&i.sHeight)e=i.sx||0,o=i.sy||0,n.drawImage(r,e,o,i.sWidth,i.sHeight,s,h,u,f);else if(i.sx&&i.sy){var e=i.sx,o=i.sy,a=u-e,v=f-o;n.drawImage(r,e,o,a,v,s,h,u,f)}else n.drawImage(r,s,h,u,f);this.restoreTransform(n);i.text!=null&&this.drawRectText(n,this.getBoundingRect())}},getBoundingRect:function(){var n=this.style;return this._rect||(this._rect=new p(n.x||0,n.y||0,n.width||0,n.height||0)),this._rect}};st(gi,ou);lk=5;vk=new p(0,0,0,0);yk=new p(0,0,0,0);pk=function(n,t,i){var u,r,e,o,h,c,l,f;this.type="canvas";u=!n.nodeName||n.nodeName.toUpperCase()==="CANVAS";this._opts=i=s({},i||{});this.dpr=i.devicePixelRatio||kb;this._singleCanvas=u;this.root=n;r=n.style;r&&(r["-webkit-tap-highlight-color"]="transparent",r["-webkit-user-select"]=r["user-select"]=r["-webkit-touch-callout"]="none",n.innerHTML="");this.storage=t;e=this._zlevelList=[];o=this._layers={};this._layerConfig={};u?(i.width!=null&&(n.width=i.width),i.height!=null&&(n.height=i.height),c=n.width,l=n.height,this._width=c,this._height=l,f=new fh(n,this,1),f.initContext(),o[0]=f,e.push(0),this._domRoot=n):(this._width=this._getSize(0),this._height=this._getSize(1),h=this._domRoot=sur(this._width,this._height),n.appendChild(h));this._progressiveLayers=[];this._hoverlayer;this._hoverElements=[]};pk.prototype={constructor:pk,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var n=this.getViewportRoot();if(n)return{offsetLeft:n.offsetLeft||0,offsetTop:n.offsetTop||0}},refresh:function(n){var f=this.storage.getDisplayList(!0),r=this._zlevelList,t,u,i;for(this._paintList(f,n),t=0;t<r.length;t++)u=r[t],i=this._layers[u],!i.__builtin__&&i.refresh&&i.refresh();return this.refreshHover(),this._progressiveLayers.length&&this._startProgessive(),this},addHover:function(n,t){if(!n.__hoverMir){var i=new n.constructor({style:n.style,shape:n.shape});i.__from=n;n.__hoverMir=i;i.setStyle(t);this._hoverElements.push(i)}},removeHover:function(n){var r=n.__hoverMir,t=this._hoverElements,i=w(t,r);i>=0&&t.splice(i,1);n.__hoverMir=null},clearHover:function(){for(var i,n=this._hoverElements,t=0;t<n.length;t++)i=n[t].__from,i&&(i.__hoverMir=null);n.length=0},refreshHover:function(){var u=this._hoverElements,f=u.length,t=this._hoverlayer,e,r,i,n;if(t&&t.clear(),f){for(tk(u,this.storage.displayableSortFunc),t||(t=this._hoverlayer=this.getLayer(1e5)),e={},t.ctx.save(),r=0;r<f;){if(i=u[r],n=i.__from,!(n&&n.__zr)){u.splice(r,1);n.__hoverMir=null;f--;continue}r++;n.invisible||(i.transform=n.transform,i.invTransform=n.invTransform,i.__clipPaths=n.__clipPaths,this._doPaintEl(i,t,!0,e))}t.ctx.restore()}},_startProgessive:function(){function i(){t===n._progressiveToken&&n.storage&&(n._doPaintList(n.storage.getDisplayList()),n._furtherProgressive?(n._progress++,sy(i)):n._progressiveToken=-1)}var n=this,t;n._furtherProgressive&&(t=n._progressiveToken=+new Date,n._progress++,sy(i))},_clearProgressive:function(){this._progressiveToken=-1;this._progress=0;t(this._progressiveLayers,function(n){n.__dirty&&n.clear()})},_paintList:function(n,t){t==null&&(t=!1);this._updateLayerStatus(n);this._clearProgressive();this.eachBuiltinLayer(rur);this._doPaintList(n,t);this.eachBuiltinLayer(uur)},_doPaintList:function(n,i){function v(n){var t=u.dpr||1;u.save();u.globalAlpha=1;u.shadowBlur=0;f.__dirty=!0;u.setTransform(1,0,0,1,0,0);u.drawImage(n.dom,0,0,w*t,b*t);u.restore()}for(var f,o,u,l,p=0,r,w=this._width,b=this._height,a,h=this._progress,s=0,k=n.length;s<k;s++){var e=n[s],y=this._singleCanvas?0:e.zlevel,c=e.__frame;if(c<0&&r&&(v(r),r=null),o!==y&&(u&&u.restore(),l={},o=y,f=this.getLayer(o),f.__builtin__||ae("ZLevel "+o+" has been used by unkown layer "+f.id),u=f.ctx,u.save(),f.__unusedCount=0,(f.__dirty||i)&&f.clear()),f.__dirty||i){if(c>=0){if(!r){if(r=this._progressiveLayers[Math.min(p++,lk-1)],r.ctx.save(),r.renderScope={},r&&r.__progress>r.__maxProgress){s=r.__nextIdxNotProg-1;continue}a=r.__progress;r.__dirty||(h=a);r.__progress=h+1}c===h&&this._doPaintEl(e,r,!0,r.renderScope)}else this._doPaintEl(e,f,i,l);e.__dirty=!1}}r&&v(r);u&&u.restore();this._furtherProgressive=!1;t(this._progressiveLayers,function(n){n.__maxProgress>=n.__progress&&(this._furtherProgressive=!0)},this)},_doPaintEl:function(n,t,i,r){var u=t.ctx,e=n.transform,f;!(t.__dirty||i)||n.invisible||n.style.opacity===0||e&&!e[0]&&!e[3]||n.culling&&fur(n,this._width,this._height)||(f=n.__clipPaths,(r.prevClipLayer!==t||eur(f,r.prevElClipPaths))&&(r.prevElClipPaths&&(r.prevClipLayer.ctx.restore(),r.prevClipLayer=r.prevElClipPaths=null,r.prevEl=null),f&&(u.save(),our(f,u),r.prevClipLayer=t,r.prevElClipPaths=f)),n.beforeBrush&&n.beforeBrush(u),n.brush(u,r.prevEl||null),r.prevEl=n,n.afterBrush&&n.afterBrush(u))},getLayer:function(n){if(this._singleCanvas)return this._layers[0];var t=this._layers[n];return t||(t=new fh("zr_"+n,this,this.dpr),t.__builtin__=!0,this._layerConfig[n]&&a(t,this._layerConfig[n],!0),this.insertLayer(n,t),t.initContext()),t},insertLayer:function(n,t){var f=this._layers,r=this._zlevelList,s=r.length,e=null,i=-1,u=this._domRoot,o;if(f[n]){ae("ZLevel "+n+" has been used already");return}if(!iur(t)){ae("Layer of zlevel "+n+" is not valid");return}if(s>0&&n>r[0]){for(i=0;i<s-1;i++)if(r[i]<n&&r[i+1]>n)break;e=f[r[i]]}r.splice(i+1,0,n);f[n]=t;t.virtual||(e?(o=e.dom,o.nextSibling?u.insertBefore(t.dom,o.nextSibling):u.appendChild(t.dom)):u.firstChild?u.insertBefore(t.dom,u.firstChild):u.appendChild(t.dom))},eachLayer:function(n,t){for(var u=this._zlevelList,r,i=0;i<u.length;i++)r=u[i],n.call(t,this._layers[r],r)},eachBuiltinLayer:function(n,t){for(var f=this._zlevelList,r,u,i=0;i<f.length;i++)u=f[i],r=this._layers[u],r.__builtin__&&n.call(t,r,u)},eachOtherLayer:function(n,t){for(var f=this._zlevelList,r,u,i=0;i<f.length;i++)u=f[i],r=this._layers[u],r.__builtin__||n.call(t,r,u)},getLayers:function(){return this._layers},_updateLayerStatus:function(n){var w=this._layers,f=this._progressiveLayers,l={},a={},e,i,v,s,u,y,p,c;for(this.eachBuiltinLayer(function(n,t){l[t]=n.elCount;n.elCount=0;n.__dirty=!1}),t(f,function(n,t){a[t]=n.elCount;n.elCount=0;n.__dirty=!1}),e=0,s=0,u=0,y=n.length;u<y;u++){var r=n[u],b=this._singleCanvas?0:r.zlevel,o=w[b],h=r.progressive;o&&(o.elCount++,o.__dirty=o.__dirty||r.__dirty);h>=0?(v!==h&&(v=h,s++),p=r.__frame=s-1,i||(c=Math.min(e,lk-1),i=f[c],i||(i=f[c]=new fh("progressive",this,this.dpr),i.initContext()),i.__maxProgress=0),i.__dirty=i.__dirty||r.__dirty,i.elCount++,i.__maxProgress=Math.max(i.__maxProgress,p),i.__maxProgress>=i.__progress&&(o.__dirty=!0)):(r.__frame=-1,i&&(i.__nextIdxNotProg=u,e++,i=null))}i&&(e++,i.__nextIdxNotProg=u);this.eachBuiltinLayer(function(n,t){l[t]!==n.elCount&&(n.__dirty=!0)});f.length=Math.min(e,lk);t(f,function(n,t){a[t]!==n.elCount&&(r.__dirty=!0);n.__dirty&&(n.__progress=0)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(n){n.clear()},configLayer:function(n,t){var i,r;t&&(i=this._layerConfig,i[n]?a(i[n],t,!0):i[n]=t,r=this._layers[n],r&&a(r,i[n],!0))},delLayer:function(n){var i=this._layers,r=this._zlevelList,t=i[n];t&&(t.dom.parentNode.removeChild(t.dom),delete i[n],r.splice(w(r,n),1))},resize:function(n,i){var r=this._domRoot,u,f;if(r.style.display="none",u=this._opts,n!=null&&(u.width=n),i!=null&&(u.height=i),n=this._getSize(0),i=this._getSize(1),r.style.display="",this._width!=n||i!=this._height){r.style.width=n+"px";r.style.height=i+"px";for(f in this._layers)this._layers.hasOwnProperty(f)&&this._layers[f].resize(n,i);t(this._progressiveLayers,function(t){t.resize(n,i)});this.refresh(!0)}return this._width=n,this._height=i,this},clearLayer:function(n){var t=this._layers[n];t&&t.clear()},dispose:function(){this.root.innerHTML="";this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(n){function o(n,i){var s=e._zlevelList,r,u,f,o;for(n==null&&(n=-Infinity),u=0;u<s.length;u++)if(f=s[u],o=e._layers[f],!o.__builtin__&&f>n&&f<i){r=o;break}r&&r.renderToCanvas&&(t.ctx.save(),r.renderToCanvas(t.ctx),t.ctx.restore())}var t,u,i;if(n=n||{},this._singleCanvas)return this._layers[0].dom;t=new fh("image",this,n.pixelRatio||this.dpr);t.initContext();t.clearColor=n.backgroundColor;t.clear();var f=this.storage.getDisplayList(!0),s={},r,e=this;for(u=0;u<f.length;u++)i=f[u],i.zlevel!==r&&(o(r,i.zlevel),r=i.zlevel),this._doPaintEl(i,t,!0,s);return o(r,Infinity),t.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(n){var u=this._opts,t=["width","height"][n],f=["clientWidth","clientHeight"][n],e=["paddingLeft","paddingTop"][n],o=["paddingRight","paddingBottom"][n],i,r;return u[t]!=null&&u[t]!=="auto"?parseFloat(u[t]):(i=this.root,r=document.defaultView.getComputedStyle(i),(i[f]||ak(r[t])||ak(i.style[t]))-(ak(r[e])||0)-(ak(r[o])||0)|0)},pathToImage:function(n,t){var i,w,u;t=t||this.dpr;var f=document.createElement("canvas"),e=f.getContext("2d"),o=n.getBoundingRect(),r=n.style,s=r.shadowBlur,c=r.shadowOffsetX,l=r.shadowOffsetY,h=r.hasStroke()?r.lineWidth:0,a=Math.max(h/2,-c+s),b=Math.max(h/2,c+s),v=Math.max(h/2,-l+s),k=Math.max(h/2,l+s),y=o.width+a+b,p=o.height+v+k;return f.width=y*t,f.height=p*t,e.scale(t,t),e.clearRect(0,0,y,p),e.dpr=t,i={position:n.position,rotation:n.rotation,scale:n.scale},n.position=[a-o.x,v-o.y],n.rotation=0,n.scale=[1,1],n.updateTransform(),n&&n.brush(e),w=gi,u=new w({style:{x:0,y:0,image:f}}),i.position!=null&&(u.position=n.position=i.position),i.rotation!=null&&(u.rotation=n.rotation=i.rotation),i.scale!=null&&(u.scale=n.scale=i.scale),u}};wk=typeof window!="undefined"&&!!window.addEventListener;dgt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/;ye=wk?function(n){n.preventDefault();n.stopPropagation();n.cancelBubble=!0}:function(n){n.returnValue=!1;n.cancelBubble=!0};yy=function(n){n=n||{};this.stage=n.stage||{};this.onframe=n.onframe||function(){};this._clips=[];this._running=!1;this._time;this._pausedTime;this._pauseStart;this._paused=!1;hi.call(this)};yy.prototype={constructor:yy,addClip:function(n){this._clips.push(n)},addAnimator:function(n){var i,t;for(n.animation=this,i=n.getClips(),t=0;t<i.length;t++)this.addClip(i[t])},removeClip:function(n){var t=w(this._clips,n);t>=0&&this._clips.splice(t,1)},removeAnimator:function(n){for(var i=n.getClips(),t=0;t<i.length;t++)this.removeClip(i[t]);n.animation=null},_update:function(){for(var e,o,r=(new Date).getTime()-this._pausedTime,u=r-this._time,t=this._clips,i=t.length,f=[],s=[],n=0;n<i;n++)e=t[n],o=e.step(r,u),o&&(f.push(o),s.push(e));for(n=0;n<i;)t[n]._needsRemove?(t[n]=t[i-1],t.pop(),i--):n++;for(i=f.length,n=0;n<i;n++)s[n].fire(f[n]);this._time=r;this.onframe(u);this.trigger("frame",u);this.stage.update&&this.stage.update()},_startLoop:function(){function t(){n._running&&(sy(t),n._paused||n._update())}var n=this;this._running=!0;sy(t)},start:function(){this._time=(new Date).getTime();this._pausedTime=0;this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},animate:function(n,t){t=t||{};var i=new bb(n,t.loop,t.getter,t.setter);return this.addAnimator(i),i}};nt(yy,hi);kk=function(){this._track=[]};kk.prototype={constructor:kk,recognize:function(n,t,i){return this._doTrack(n,t,i),this._recognize(n)},clear:function(){return this._track.length=0,this},_doTrack:function(n,t,i){var f=n.touches,r,u,s,e,o;if(f){for(r={points:[],touches:[],target:t,event:n},u=0,s=f.length;u<s;u++)e=f[u],o=yet(i,e,{}),r.points.push([o.zrX,o.zrY]),r.touches.push(e);this._track.push(r)}},_recognize:function(n){var t,i;for(t in wet)if(wet.hasOwnProperty(t)&&(i=wet[t](this._track,n),i))return i}};var wet={pinch:function(n,t){var f=n.length,i,r,u,e;if(f)return i=(n[f-1]||{}).points,r=(n[f-2]||{}).points||i,r&&r.length>1&&i&&i.length>1?(u=nnt(i)/nnt(r),isFinite(u)||(u=1),t.pinchScale=u,e=lur(i),t.pinchX=e[0],t.pinchY=e[1],{type:"pinch",target:n[0].target,event:t}):void 0}},aur=300,dk=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],bet=["touchstart","touchend","touchmove"],vur={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},tnt=i(dk,function(n){var t=n.replace("mouse","pointer");return vur[t]?t:n});cr={mousemove:function(n){n=eh(this.dom,n);this.trigger("mousemove",n)},mouseout:function(n){n=eh(this.dom,n);var t=n.toElement||n.relatedTarget;if(t!=this.dom)while(t&&t.nodeType!=9){if(t===this.dom)return;t=t.parentNode}this.trigger("mouseout",n)},touchstart:function(n){n=eh(this.dom,n);n.zrByTouch=!0;this._lastTouchMoment=new Date;ket(this,n,"start");cr.mousemove.call(this,n);cr.mousedown.call(this,n);det(this)},touchmove:function(n){n=eh(this.dom,n);n.zrByTouch=!0;ket(this,n,"change");cr.mousemove.call(this,n);det(this)},touchend:function(n){n=eh(this.dom,n);n.zrByTouch=!0;ket(this,n,"end");cr.mouseup.call(this,n);+new Date-this._lastTouchMoment<aur&&cr.click.call(this,n);det(this)},pointerdown:function(n){cr.mousedown.call(this,n)},pointermove:function(n){rnt(n)||cr.mousemove.call(this,n)},pointerup:function(n){cr.mouseup.call(this,n)},pointerout:function(n){rnt(n)||cr.mouseout.call(this,n)}};t(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){cr[n]=function(t){t=eh(this.dom,t);this.trigger(n,t)}});not=get.prototype;not.dispose=function(){for(var t,i=dk.concat(bet),n=0;n<i.length;n++)t=i[n],cur(this.dom,int(t),this._handlers[t])};not.setCursor=function(n){this.dom.style.cursor=n||"default"};nt(get,hi);var pur=!d.canvasSupported,gk={canvas:pk},oh={},tot="3.7.3";nd=function(n,t,i){var f,o,s,c;i=i||{};this.dom=t;this.id=n;var e=this,r=new ik,u=i.renderer;if(pur){if(!gk.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");u="vml"}else u&&gk[u]||(u="canvas");f=new gk[u](t,r,i);this.storage=r;this.painter=f;o=d.node?null:new get(f.getViewportRoot());this.handler=new th(r,f,o,f.root);this.animation=new yy({stage:{update:h(this.flush,this)}});this.animation.start();this._needsRefresh;s=r.delFromStorage;c=r.addToStorage;r.delFromStorage=function(n){s.call(r,n);n&&n.removeSelfFromZr(e)};r.addToStorage=function(n){c.call(r,n);n.addSelfToZr(e)}};nd.prototype={constructor:nd,getId:function(){return this.id},add:function(n){this.storage.addRoot(n);this._needsRefresh=!0},remove:function(n){this.storage.delRoot(n);this._needsRefresh=!0},configLayer:function(n,t){this.painter.configLayer(n,t);this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1;this.painter.refresh();this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){this._needsRefresh&&this.refreshImmediately();this._needsRefreshHover&&this.refreshHoverImmediately()},addHover:function(n,t){this.painter.addHover&&(this.painter.addHover(n,t),this.refreshHover())},removeHover:function(n){this.painter.removeHover&&(this.painter.removeHover(n),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1;this.painter.refreshHover&&this.painter.refreshHover()},resize:function(n){n=n||{};this.painter.resize(n.width,n.height);this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(n,t){return this.painter.pathToImage(n,t)},setCursorStyle:function(n){this.handler.setCursorStyle(n)},findHover:function(n,t){return this.handler.findHover(n,t)},on:function(n,t,i){this.handler.on(n,t,i)},off:function(n,t){this.handler.off(n,t)},trigger:function(n,t){this.handler.trigger(n,t)},clear:function(){this.storage.delRoot();this.painter.clear()},dispose:function(){this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler.dispose();this.animation=this.storage=this.painter=this.handler=null;kur(this.id)}};unt=(Object.freeze||Object)({version:tot,init:iot,dispose:wur,getInstance:bur,registerPainter:rot});uot=.0001;id=9007199254740991;ont=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;lnt=(Object.freeze||Object)({linearMap:ti,parsePercent:u,round:lr,asc:sh,getPrecision:fnt,getPrecisionSafe:td,getPixelPrecision:fot,getPercentWithPrecision:ent,MAX_SAFE_INTEGER:id,remRadian:eot,isRadianAroundZero:py,parseDate:wy,quantity:snt,nice:oot,reformIntervals:sot,isNumeric:cnt});lo=but;hot=["a","b","c","d","e","f","g"];rd=function(n,t){return"{"+n+(t==null?"":t)+"}"};bl=function(n){return n<10?"0"+n:n};var ynt=igt,gur=ve,nfr=(Object.freeze||Object)({addCommas:co,toCamelCase:ant,normalizeCssArray:lo,encodeHTML:dt,formatTpl:cot,formatTplSimple:vnt,getTooltipMarker:lot,formatTime:aot,capitalFirst:ud,truncateText:ynt,getTextRect:gur}),tfr=".",hh="___EC__COMPONENT__CONTAINER___",vot='\0ec_\0';var kl=function(n){for(var t=0;t<n.length;t++)n[t][1]||(n[t][1]=n[t][0]);return function(t,i,r){for(var f,e,o={},u=0;u<n.length;u++)(f=n[u][1],i&&w(i,f)>=0||r&&w(r,f)<0)||(e=t.getShallow(f),e!=null&&(o[n[u][0]]=e));return o}},efr=kl([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),ofr={getLineStyle:function(n){var t=efr(this,n),i=this.getLineDash(t.lineWidth);return i&&(t.lineDash=i),t},getLineDash:function(n){n==null&&(n=1);var t=this.get("type"),i=Math.max(n,2),r=n*4;return t==="solid"||t==null?null:t==="dashed"?[r,r]:[i,i]}},sfr=kl([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),hfr={getAreaStyle:function(n,t){return sfr(this,n,t)}},ed=Math.pow,yo=Math.sqrt,od=1e-8,pnt=.0001,wnt=yo(3),sd=1/3,sf=eo(),su=eo(),dl=eo();var ar=Math.min,vr=Math.max,wot=Math.sin,bot=Math.cos,ch=Math.PI*2,hd=eo(),cd=eo(),ld=eo();kot=[];dot=[];var ii={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},hf=[],wo=[],cf=[],lf=[],rti=Math.min,uti=Math.max,ky=Math.cos,dy=Math.sin,ad=Math.sqrt,gl=Math.abs,got=typeof Float32Array!="undefined",gr=function(n){this._saveData=!(n||!1);this._saveData&&(this.data=[]);this._ctx=null};gr.prototype={constructor:gr,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(n,t){this._ux=gl(1/kb/n)||0;this._uy=gl(1/kb/t)||0},getContext:function(){return this._ctx},beginPath:function(n){return this._ctx=n,n&&n.beginPath(),n&&(this.dpr=n.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(n,t){return this.addData(ii.M,n,t),this._ctx&&this._ctx.moveTo(n,t),this._x0=n,this._y0=t,this._xi=n,this._yi=t,this},lineTo:function(n,t){var i=gl(n-this._xi)>this._ux||gl(t-this._yi)>this._uy||this._len<5;return this.addData(ii.L,n,t),this._ctx&&i&&(this._needsDash()?this._dashedLineTo(n,t):this._ctx.lineTo(n,t)),i&&(this._xi=n,this._yi=t),this},bezierCurveTo:function(n,t,i,r,u,f){return this.addData(ii.C,n,t,i,r,u,f),this._ctx&&(this._needsDash()?this._dashedBezierTo(n,t,i,r,u,f):this._ctx.bezierCurveTo(n,t,i,r,u,f)),this._xi=u,this._yi=f,this},quadraticCurveTo:function(n,t,i,r){return this.addData(ii.Q,n,t,i,r),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(n,t,i,r):this._ctx.quadraticCurveTo(n,t,i,r)),this._xi=i,this._yi=r,this},arc:function(n,t,i,r,u,f){return this.addData(ii.A,n,t,i,i,r,u-r,0,f?0:1),this._ctx&&this._ctx.arc(n,t,i,r,u,f),this._xi=ky(u)*i+n,this._yi=dy(u)*i+n,this},arcTo:function(n,t,i,r,u){return this._ctx&&this._ctx.arcTo(n,t,i,r,u),this},rect:function(n,t,i,r){return this._ctx&&this._ctx.rect(n,t,i,r),this.addData(ii.R,n,t,i,r),this},closePath:function(){this.addData(ii.Z);var n=this._ctx,t=this._x0,i=this._y0;return n&&(this._needsDash()&&this._dashedLineTo(t,i),n.closePath()),this._xi=t,this._yi=i,this},fill:function(n){n&&n.fill();this.toStatic()},stroke:function(n){n&&n.stroke();this.toStatic()},setLineDash:function(n){var i,t;if(n instanceof Array){for(this._lineDash=n,this._dashIdx=0,i=0,t=0;t<n.length;t++)i+=n[t];this._dashSum=i}return this},setLineDashOffset:function(n){return this._dashOffset=n,this},len:function(){return this._len},setData:function(n){var i=n.length,t;for(this.data&&this.data.length==i||!got||(this.data=new Float32Array(i)),t=0;t<i;t++)this.data[t]=n[t];this._len=i},appendPath:function(n){var t,u,i;n instanceof Array||(n=[n]);var f=n.length,e=0,r=this._len;for(t=0;t<f;t++)e+=n[t].len();for(got&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+e)),t=0;t<f;t++)for(u=n[t].data,i=0;i<u.length;i++)this.data[r++]=u[i];this._len=r},addData:function(n){var t,i;if(this._saveData){for(t=this.data,this._len+arguments.length>t.length&&(this._expandData(),t=this.data),i=0;i<arguments.length;i++)t[this._len++]=arguments[i];this._prevCmd=n}},_expandData:function(){var t,n;if(!(this.data instanceof Array)){for(t=[],n=0;n<this._len;n++)t[n]=this.data[n];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(n,t){var l=this._dashSum,e=this._dashOffset,a=this._lineDash,y=this._ctx,o=this._xi,s=this._yi,i=n-o,r=t-s,v=ad(i*i+r*r),u=o,f=s,c,p=a.length,h;for(i/=v,r/=v,e<0&&(e=l+e),e%=l,u-=e*i,f-=e*r;i>0&&u<=n||i<0&&u>=n||i==0&&(r>0&&f<=t||r<0&&f>=t);)(h=this._dashIdx,c=a[h],u+=i*c,f+=r*c,this._dashIdx=(h+1)%p,i>0&&u<o||i<0&&u>o||r>0&&f<s||r<0&&f>s)||y[h%2?"moveTo":"lineTo"](i>=0?rti(u,n):uti(u,n),r>=0?rti(f,t):uti(f,t));i=u-n;r=f-t;this._dashOffset=-ad(i*i+r*r)},_dashedBezierTo:function(n,t,i,r,u,f){var g=this._dashSum,s=this._dashOffset,y=this._lineDash,p=this._ctx,w=this._xi,b=this._yi,e,h,c,l=ur,k=0,o=this._dashIdx,nt=y.length,a,v,d=0;for(s<0&&(s=g+s),s%=g,e=0;e<1;e+=.1)h=l(w,n,i,u,e+.1)-l(w,n,i,u,e),c=l(b,t,r,f,e+.1)-l(b,t,r,f,e),k+=ad(h*h+c*c);for(;o<nt;o++)if(d+=y[o],d>s)break;for(e=(d-s)/k;e<=1;)a=l(w,n,i,u,e),v=l(b,t,r,f,e),o%2?p.moveTo(a,v):p.lineTo(a,v),e+=y[o]/k,o=(o+1)%nt;o%2!=0&&p.lineTo(u,f);h=u-a;c=f-v;this._dashOffset=-ad(h*h+c*c)},_dashedQuadraticTo:function(n,t,i,r){var u=i,f=r;i=(i+2*n)/3;r=(r+2*t)/3;n=(this._xi+2*n)/3;t=(this._yi+2*t)/3;this._dashedBezierTo(n,t,i,r,u,f)},toStatic:function(){var n=this.data;n instanceof Array&&(n.length=this._len,got&&(this.data=new Float32Array(n)))},getBoundingRect:function(){var n,a,v,y;hf[0]=hf[1]=cf[0]=cf[1]=Number.MAX_VALUE;wo[0]=wo[1]=lf[0]=lf[1]=-Number.MAX_VALUE;var t=this.data,i=0,r=0,u=0,f=0;for(n=0;n<t.length;){a=t[n++];n==1&&(i=t[n],r=t[n+1],u=i,f=r);switch(a){case ii.M:u=t[n++];f=t[n++];i=u;r=f;cf[0]=u;cf[1]=f;lf[0]=u;lf[1]=f;break;case ii.L:iti(i,r,t[n],t[n+1],cf,lf);i=t[n++];r=t[n++];break;case ii.C:yfr(i,r,t[n++],t[n++],t[n++],t[n++],t[n],t[n+1],cf,lf);i=t[n++];r=t[n++];break;case ii.Q:pfr(i,r,t[n++],t[n++],t[n],t[n+1],cf,lf);i=t[n++];r=t[n++];break;case ii.A:var o=t[n++],s=t[n++],h=t[n++],c=t[n++],e=t[n++],l=t[n++]+e,b=t[n++],w=1-t[n++];n==1&&(u=ky(e)*h+o,f=dy(e)*c+s);wfr(o,s,h,c,e,l,w,cf,lf);i=ky(l)*h+o;r=dy(l)*c+s;break;case ii.R:u=i=t[n++];f=r=t[n++];v=t[n++];y=t[n++];iti(u,f,u+v,f+y,cf,lf);break;case ii.Z:i=u;r=f}se(hf,hf,cf);he(wo,wo,lf)}return n===0&&(hf[0]=hf[1]=wo[0]=wo[1]=0),new p(hf[0],hf[1],wo[0]-hf[0],wo[1]-hf[1])},rebuildPath:function(n){for(var w,i=this.data,o,s,r,u,a,v,tt=this._ux,it=this._uy,p=this._len,t=0;t<p;){w=i[t++];t==1&&(r=i[t],u=i[t+1],o=r,s=u);switch(w){case ii.M:o=r=i[t++];s=u=i[t++];n.moveTo(r,u);break;case ii.L:a=i[t++];v=i[t++];(gl(a-r)>tt||gl(v-u)>it||t===p-1)&&(n.lineTo(a,v),r=a,u=v);break;case ii.C:n.bezierCurveTo(i[t++],i[t++],i[t++],i[t++],i[t++],i[t++]);r=i[t-2];u=i[t-1];break;case ii.Q:n.quadraticCurveTo(i[t++],i[t++],i[t++],i[t++]);r=i[t-2];u=i[t-1];break;case ii.A:var h=i[t++],c=i[t++],f=i[t++],e=i[t++],l=i[t++],rt=i[t++],b=i[t++],k=i[t++],d=f>e?f:e,g=f>e?1:f/e,nt=f>e?e/f:1,ut=Math.abs(f-e)>.001,y=l+rt;ut?(n.translate(h,c),n.rotate(b),n.scale(g,nt),n.arc(0,0,d,l,y,1-k),n.scale(1/g,1/nt),n.rotate(-b),n.translate(-h,-c)):n.arc(h,c,d,l,y,1-k);t==1&&(o=ky(l)*f+h,s=dy(l)*e+c);r=ky(y)*f+h;u=dy(y)*e+c;break;case ii.R:o=r=i[t];s=u=i[t+1];n.rect(i[t++],i[t++],i[t++],i[t++]);break;case ii.Z:n.closePath();r=o;u=s}}}};gr.CMD=ii;nst=Math.PI*2;na=Math.PI*2;var go=gr.CMD,ta=Math.PI*2,dfr=.0001;tr=[-1,-1,-1];nu=[-1,-1];var oti=ek.prototype.getCanvasPattern,tst=Math.abs,eer=new gr(!0);tt.prototype={constructor:tt,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(n,t){var i=this.style,r=this.path||eer,e=i.hasStroke(),c=i.hasFill(),o=i.fill,s=i.stroke,l=c&&!!o.colorStops,a=e&&!!s.colorStops,p=c&&!!o.image,w=e&&!!s.image,u;i.bind(n,this,t);this.setTransform(n);this.__dirty&&(l&&(u=u||this.getBoundingRect(),this._fillGradient=i.getGradient(n,o,u)),a&&(u=u||this.getBoundingRect(),this._strokeGradient=i.getGradient(n,s,u)));l?n.fillStyle=this._fillGradient:p&&(n.fillStyle=oti.call(o,n));a?n.strokeStyle=this._strokeGradient:w&&(n.strokeStyle=oti.call(s,n));var f=i.lineDash,v=i.lineDashOffset,h=!!n.setLineDash,y=this.getGlobalScale();r.setScale(y[0],y[1]);this.__dirtyPath||f&&!h&&e?(r.beginPath(n),f&&!h&&(r.setLineDash(f),r.setLineDashOffset(v)),this.buildPath(r,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(n.beginPath(),this.path.rebuildPath(n));c&&r.fill(n);f&&h&&(n.setLineDash(f),n.lineDashOffset=v);e&&r.stroke(n);f&&h&&n.setLineDash([]);this.restoreTransform(n);i.text!=null&&this.drawRectText(n,this.getBoundingRect())},buildPath:function(){},createPathProxy:function(){this.path=new gr},getBoundingRect:function(){var i=this._rect,f=this.style,e=!i,r,n,t,u;return(e&&(r=this.path,r||(r=this.path=new gr),this.__dirtyPath&&(r.beginPath(),this.buildPath(r,this.shape,!1)),i=r.getBoundingRect()),this._rect=i,f.hasStroke())?(n=this._rectWithStroke||(this._rectWithStroke=i.clone()),(this.__dirty||e)&&(n.copy(i),t=f.lineWidth,u=f.strokeNoScale?this.getLineScale():1,f.hasFill()||(t=Math.max(t,this.strokeContainThreshold||4)),u>1e-10&&(n.width+=t/u,n.height+=t/u,n.x-=t/u/2,n.y-=t/u/2)),n):i},contain:function(n,t){var e=this.transformCoordToLocal(n,t),o=this.getBoundingRect(),i=this.style,u,r,f;if(n=e[0],t=e[1],o.contain(n,t)){if(u=this.path.data,i.hasStroke()&&(r=i.lineWidth,f=i.strokeNoScale?this.getLineScale():1,f>1e-10&&(i.hasFill()||(r=Math.max(r,this.strokeContainThreshold)),fer(u,r/f,n,t))))return!0;if(i.hasFill())return uer(u,n,t)}return!1},dirty:function(n){n==null&&(n=!0);n&&(this.__dirtyPath=n,this._rect=null);this.__dirty=!0;this.__zr&&this.__zr.refresh();this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(n){return this.animate("shape",n)},attrKV:function(n,t){n==="shape"?(this.setShape(t),this.__dirtyPath=!0,this._rect=null):ou.prototype.attrKV.call(this,n,t)},setShape:function(n,t){var r=this.shape,i;if(r){if(y(n))for(i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);else r[n]=t;this.dirty(!0)}return this},getLineScale:function(){var n=this.transform;return n&&tst(n[0]-1)>1e-10&&tst(n[3]-1)>1e-10?Math.sqrt(tst(n[0]*n[3]-n[2]*n[1])):1}};tt.extend=function(n){var i=function(t){var i,u,r;if(tt.call(this,t),n.style&&this.style.extendFrom(n.style,!1),i=n.shape,i){this.shape=this.shape||{};u=this.shape;for(r in i)!u.hasOwnProperty(r)&&i.hasOwnProperty(r)&&(u[r]=i[r])}n.init&&n.init.call(this,t)},t;st(i,tt);for(t in n)t!=="style"&&t!=="shape"&&(i.prototype[t]=n[t]);return i};st(tt,ou);var ia=gr.CMD,oer=[[],[],[]],sti=Math.sqrt,ser=Math.atan2,her=function(n,t){for(var i=n.data,c,e,o,a=ia.M,v=ia.C,y=ia.L,p=ia.R,w=ia.A,b=ia.Q,u,r=0,f=0;r<i.length;){c=i[r++];f=r;e=0;switch(c){case a:e=1;break;case y:e=1;break;case v:e=3;break;case b:e=2;break;case w:var k=t[4],d=t[5],s=sti(t[0]*t[0]+t[1]*t[1]),h=sti(t[2]*t[2]+t[3]*t[3]),l=ser(-t[1]/h,t[0]/s);i[r]*=s;i[r++]+=k;i[r]*=h;i[r++]+=d;i[r++]*=s;i[r++]*=h;i[r++]+=l;i[r++]+=l;r+=2;f=r;break;case p:u[0]=i[r++];u[1]=i[r++];lt(u,u,t);i[f++]=u[0];i[f++]=u[1];u[0]+=i[r++];u[1]+=i[r++];lt(u,u,t);i[f++]=u[0];i[f++]=u[1]}for(o=0;o<e;o++)u=oer[o],u[0]=i[r++],u[1]=i[r++],lt(u,u,t),i[f++]=u[0],i[f++]=u[1]}},ist=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],rst=Math.sqrt,vd=Math.sin,yd=Math.cos,pd=Math.PI,hti=function(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])},ust=function(n,t){return(n[0]*t[0]+n[1]*t[1])/(hti(n)*hti(t))},cti=function(n,t){return(n[0]*t[1]<n[1]*t[0]?-1:1)*Math.acos(ust(n,t))};b=function(n){ou.call(this,n)};b.prototype={constructor:b,type:"text",brush:function(n,t){var i=this.style,r;(this.__dirty&&ay(i,!0),i.fill=i.stroke=i.shadowBlur=i.shadowColor=i.shadowOffsetX=i.shadowOffsetY=null,r=i.text,r!=null&&(r+=""),i.bind(n,this,t),kgt(r,i))&&(this.setTransform(n),agt(this,n,r,i),this.restoreTransform(n))},getBoundingRect:function(){var n=this.style,r,t,i;return this.__dirty&&ay(n,!0),this._rect||(r=n.text,r!=null?r+="":r="",t=ve(n.text+"",n.font,n.textAlign,n.textVerticalAlign,n.textPadding,n.rich),t.x+=n.x||0,t.y+=n.y||0,vet(n.textStroke,n.textStrokeWidth)&&(i=n.textStrokeWidth,t.x-=i/2,t.y-=i/2,t.width+=i,t.height+=i),this._rect=t),this._rect}};st(b,ou);var lh=tt.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(n,t,i){i&&n.moveTo(t.cx+t.r,t.cy);n.arc(t.cx,t.cy,t.r,0,Math.PI*2,!0)}}),ns=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],fst=function(n){return d.browser.ie&&d.browser.version>=11?function(){var f=this.__clipPaths,e=this.style,o,r,t;if(f)for(r=0;r<f.length;r++){var u=f[r],i=u&&u.shape,s=u&&u.type;if(i&&(s==="sector"&&i.startAngle===i.endAngle||s==="rect"&&(!i.width||!i.height))){for(t=0;t<ns.length;t++)ns[t][2]=e[ns[t][0]],e[ns[t][0]]=ns[t][1];o=!0;break}}if(n.apply(this,arguments),o)for(t=0;t<ns.length;t++)e[ns[t][0]]=ns[t][2]}:n},ts=tt.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:!0},brush:fst(tt.prototype.brush),buildPath:function(n,t){var r=t.cx,u=t.cy,i=Math.max(t.r0||0,0),o=Math.max(t.r,0),f=t.startAngle,e=t.endAngle,s=t.clockwise,h=Math.cos(f),c=Math.sin(f);n.moveTo(h*i+r,c*i+u);n.lineTo(h*o+r,c*o+u);n.arc(r,u,o,f,e,!s);n.lineTo(Math.cos(e)*i+r,Math.sin(e)*i+u);i!==0&&n.arc(r,u,i,e,f,s);n.closePath()}}),vti=tt.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(n,t){var i=t.cx,r=t.cy,u=Math.PI*2;n.moveTo(i+t.r,r);n.arc(i,r,t.r,0,u,!1);n.moveTo(i+t.r0,r);n.arc(i,r,t.r0,0,u,!0)}});pti=function(n,t){for(var f,c,l,i=n.length,a=[],v=0,u=1;u<i;u++)v+=ny(n[u-1],n[u]);for(f=v/2,f=f<i?i:f,u=0;u<f;u++){var y=u/(f-1)*(t?i:i-1),r=Math.floor(y),e=y-r,o,p=n[r%i],s,h;t?(o=n[(r-1+i)%i],s=n[(r+1)%i],h=n[(r+2)%i]):(o=n[r===0?r:r-1],s=n[r>i-2?i-1:r+1],h=n[r>i-3?i-1:r+2]);c=e*e;l=e*c;a.push([yti(o[0],p[0],s[0],h[0],e,c,l),yti(o[1],p[1],s[1],h[1],e,c,l)])}return a};wti=function(n,t,i,r){var s=[],l=[],k=[],d=[],v,y,f,e,u,o,a,h,c;if(r){for(f=[Infinity,Infinity],e=[-Infinity,-Infinity],u=0,o=n.length;u<o;u++)se(f,f,n[u]),he(e,e,n[u]);se(f,f,r[0]);he(e,e,r[1])}for(u=0,o=n.length;u<o;u++){if(a=n[u],i)v=n[u?u-1:o-1],y=n[(u+1)%o];else if(u===0||u===o-1){s.push(yu(n[u]));continue}else v=n[u-1],y=n[u+1];ee(l,y,v);lb(l,l,t);var p=ny(a,v),w=ny(a,y),b=p+w;b!==0&&(p/=b,w/=b);lb(k,l,-p);lb(d,l,w);h=nft([],a,k);c=nft([],a,d);r&&(he(h,h,f),se(h,h,e),he(c,c,f),se(c,c,e));s.push(h);s.push(c)}return i&&s.push(s.shift()),s};var hu=tt.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(n,t){bti(n,t,!0)}}),af=tt.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(n,t){bti(n,t,!1)}}),ot=tt.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(n,t){var i=t.x,r=t.y,u=t.width,f=t.height;t.r?sgt(n,t):n.rect(i,r,u,f);n.closePath();return}}),cu=tt.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(n,t){var f=t.x1,e=t.y1,r=t.x2,u=t.y2,i=t.percent;i!==0&&(n.moveTo(f,e),i<1&&(r=f*(1-i)+r*i,u=e*(1-i)+u*i),n.lineTo(r,u))},pointAt:function(n){var t=this.shape;return[t.x1*(1-n)+t.x2*n,t.y1*(1-n)+t.y2*n]}}),yr=[];var est=tt.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(n,t){var h=t.x1,c=t.y1,r=t.x2,u=t.y2,f=t.cpx1,e=t.cpy1,o=t.cpx2,s=t.cpy2,i=t.percent;i!==0&&(n.moveTo(h,c),o==null||s==null?(i<1&&(pot(h,f,r,i,yr),f=yr[1],r=yr[2],pot(c,e,u,i,yr),e=yr[1],u=yr[2]),n.quadraticCurveTo(f,e,r,u)):(i<1&&(gnt(h,f,o,r,i,yr),f=yr[1],o=yr[2],r=yr[3],gnt(c,e,s,u,i,yr),e=yr[1],s=yr[2],u=yr[3]),n.bezierCurveTo(f,e,o,s,r,u)))},pointAt:function(n){return kti(this.shape,n,!1)},tangentAt:function(n){var t=kti(this.shape,n,!0);return cl(t,t)}}),dti=tt.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(n,t){var u=t.cx,f=t.cy,i=Math.max(t.r,0),r=t.startAngle,e=t.endAngle,o=t.clockwise,s=Math.cos(r),h=Math.sin(r);n.moveTo(s*i+u,h*i+f);n.arc(u,f,i,r,e,!o)}}),gti=tt.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var n=this.__dirtyPath,i=this.shape.paths,t=0;t<i.length;t++)n=n||i[t].__dirtyPath;this.__dirtyPath=n;this.__dirty=this.__dirty||n},beforeBrush:function(){var t,i,n;for(this._updatePathDirty(),t=this.shape.paths||[],i=this.getGlobalScale(),n=0;n<t.length;n++)t[n].path||t[n].createPathProxy(),t[n].path.setScale(i[0],i[1])},buildPath:function(n,t){for(var r=t.paths||[],i=0;i<r.length;i++)r[i].buildPath(n,r[i].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],n=0;n<t.length;n++)t[n].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),tt.prototype.getBoundingRect.call(this)}}),vf=function(n){this.colorStops=n||[]};vf.prototype={constructor:vf,addColorStop:function(n,t){this.colorStops.push({offset:n,color:t})}};ah=function(n,t,i,r,u,f){this.x=n==null?0:n;this.y=t==null?0:t;this.x2=i==null?1:i;this.y2=r==null?0:r;this.type="linear";this.global=f||!1;vf.call(this,u)};ah.prototype={constructor:ah};st(ah,vf);gy=function(n,t,i,r,u){this.x=n==null?.5:n;this.y=t==null?.5:t;this.r=i==null?.5:i;this.type="radial";this.global=u||!1;vf.call(this,r)};gy.prototype={constructor:gy};st(gy,vf);var ra=Math.round,wd=Math.max,bd=Math.min,kd={};pf=ver;var nf=(Object.freeze||Object)({extendShape:yf,extendPath:yer,makePath:np,makeImage:nii,mergePath:pf,resizePath:iii,subPixelOptimizeLine:vh,subPixelOptimizeRect:ost,subPixelOptimize:wf,setHoverStyle:vt,setLabelStyle:gu,setTextStyle:gt,setText:der,getFont:sst,updateProps:k,initProps:fr,getTransform:yh,applyTransform:bf,transformDirection:hst,groupTransition:cst,clipPointsByRect:pii,clipRectByRect:tor,createIcon:tp,Group:e,Image:gi,Text:b,Circle:lh,Sector:ts,Ring:vti,Polygon:hu,Polyline:af,Rect:ot,Line:cu,BezierCurve:est,Arc:dti,CompoundPath:gti,LinearGradient:ah,RadialGradient:gy,BoundingRect:p}),ior=["textStyle","color"],ror={getTextColor:function(n){var t=this.ecModel;return this.getShallow("color")||(!n&&t?t.get(ior):null)},getFont:function(){return sst({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(n){return ve(n,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("rich"),this.getShallow("truncateText"))}},uor=kl([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),eor={getItemStyle:function(n,t){var i=uor(this,n,t),r=this.getBorderLineDash();return r&&(i.lineDash=r),i},getBorderLineDash:function(){var n=this.get("borderType");return n==="solid"||n==null?null:n==="dashed"?[5,5]:[1,1]}},gd=nt;it.prototype={constructor:it,init:null,mergeOption:function(n){a(this.option,n,!0)},get:function(n,t){return n==null?this.option:wii(this.option,this.parsePath(n),!t&&lst(this,n))},getShallow:function(n,t){var i=this.option,r=i==null?i:i[n],u=!t&&lst(this,n);return r==null&&u&&(r=u.getShallow(n)),r},getModel:function(n,t){var r=n==null?this.option:wii(this.option,n=this.parsePath(n)),i;return t=t||(i=lst(this,n))&&i.getModel(n),new it(r,t,this.ecModel)},isEmpty:function(){return this.option==null},restoreData:function(){},clone:function(){var n=this.constructor;return new n(c(this.option))},setReadOnly:function(){},parsePath:function(n){return typeof n=="string"&&(n=n.split(".")),n},customizeGetParent:function(n){du(this,"getParent",n)},isAnimationEnabled:function(){if(!d.node){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}};by(it);gd(it,ofr);gd(it,hfr);gd(it,ror);gd(it,eor);we=t;ph=y;ast=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];ng={getDataParams:function(n,t){var i=this.getData(t),u=this.getRawValue(n,t),f=i.getRawIndex(n),e=i.getName(n,!0),o=i.getRawDataItem(n),r=i.getItemVisual(n,"color");return{componentType:this.mainType,componentSubType:this.subType,seriesType:this.mainType==="series"?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:e,dataIndex:f,data:o,dataType:t,value:u,color:r,marker:lot(r),$vars:["seriesName","name","value"]}},getFormattedLabel:function(n,t,i,r,u){var e;t=t||"normal";var o=this.getData(i),s=o.getItemModel(n),f=this.getDataParams(n,i);return(r!=null&&f.value instanceof Array&&(f.value=f.value[r]),e=s.get([u||"label",t,"formatter"]),typeof e=="function")?(f.status=t,e(f)):typeof e=="string"?cot(e,f):void 0},getRawValue:function(n,t){var r=this.getData(t),i=r.getRawDataItem(n);if(i!=null)return ph(i)&&!(i instanceof Array)?i.value:i},formatTooltip:pi};rg=function(){var n=0;return function(){var t='\0__ec_prop_getter_'+n++;return function(n){return n[t]||(n[t]={})}}}();dii=0;gii="_";var fg=t,nri=["left","right","top","bottom","width","height"],bh=[["width","left","right"],["height","top","bottom"]];var rp=kst,you=o(kst,"vertical"),pou=o(kst,"horizontal");var yor={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}},por=Array.prototype.push,g=it.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(n,t,i,r){it.call(this,n,t,i,r);this.uid=bst("componentModel")},init:function(n,t,i){this.mergeDefaultAndTheme(n,i)},mergeDefaultAndTheme:function(n,t){var i=this.layoutMode,r=i?ua(n):{},u=t.getTheme();a(n,u.get(this.mainType));a(n,this.getDefaultOption());i&&is(n,r,i)},mergeOption:function(n){a(this.option,n,!0);var t=this.layoutMode;t&&is(this.option,n,t)},optionUpdated:function(){},getDefaultOption:function(){var t,n,u,i,r;if(!ifr(this,"__defaultOption")){for(t=[],n=this.constructor;n;)u=n.prototype.defaultOption,u&&t.push(u),n=n.superClass;for(i={},r=t.length-1;r>=0;r--)i=a(i,t[r],!0);du(this,"__defaultOption",i)}return ao(this,"__defaultOption")},getReferringComponents:function(n){return this.ecModel.queryComponents({mainType:n,index:this.get(n+"Index",!0),id:this.get(n+"Id",!0)})}});fd(g,{registerWhenExtend:!0});cor(g);lor(g,wor);nt(g,yor);dst="";typeof navigator!="undefined"&&(dst=navigator.platform||"");var bor={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],textStyle:{fontFamily:dst.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},gst={clearColorPalette:function(){du(this,"colorIdx",0);du(this,"colorNameMap",{})},getColorFromPalette:function(n,t){var u,i,r,f;return(t=t||this,u=ao(t,"colorIdx")||0,i=ao(t,"colorNameMap")||du(t,"colorNameMap",{}),i.hasOwnProperty(n))?i[n]:(r=this.get("color",!0)||[],!r.length)?void 0:(f=r[u],n&&(i[n]=f),du(t,"colorIdx",(u+1)%r.length),f)}},pr=t,rs=hr,iri=i,nht=r,rri=w,tht=y,iht='\0_ec_inner',rht=it.extend({constructor:rht,init:function(n,t,i,r){i=i||{};this.option=null;this._theme=new it(i);this._optionManager=r},setOption:function(n,t){ct(!(iht in n),"please use chart.getOption()");this._optionManager.setOption(n,t);this.resetOption(null)},resetOption:function(n){var t=!1,i=this._optionManager,r,u,f;return n&&n!=="recreate"||(r=i.mountOption(n==="recreate"),this.option&&n!=="recreate"?(this.restoreData(),this.mergeOption(r)):dor.call(this,r),t=!0),(n==="timeline"||n==="media")&&this.restoreData(),n&&n!=="recreate"&&n!=="timeline"||(u=i.getTimelineOption(this),u&&(this.mergeOption(u),t=!0)),n&&n!=="recreate"&&n!=="media"||(f=i.getMediaOption(this,this._api),f.length&&pr(f,function(n){this.mergeOption(n,t=!0)},this)),t},mergeOption:function(n){function u(r,u){var o=tu(n[r]),f=pst(i.get(r),o),e;bii(f);pr(f,function(n){var t=n.option;tht(t)&&(n.keyInfo.mainType=r,n.keyInfo.subType=nsr(r,t,n.exist))});e=gor(i,u);t[r]=[];i.set(r,[]);pr(f,function(n,u){var f=n.exist,o=n.option,c,h;ct(tht(o)||f,"Empty component definition");o?(c=g.getClass(r,n.keyInfo.subType,!0),f&&f instanceof c?(f.name=n.keyInfo.name,f.mergeOption(o,this),f.optionUpdated(o,!1)):(h=s({dependentModels:e,componentIndex:u},n.keyInfo),f=new c(o,this,this,h),s(f,h),f.init(o,this,this,h),f.optionUpdated(null,!0))):(f.mergeOption({},this),f.optionUpdated({},!1));i.get(r)[u]=f;t[r][u]=f.option},this);r==="series"&&(this._seriesIndices=uht(i.get("series")))}var t=this.option,i=this._componentsMap,r=[];pr(n,function(n,i){n!=null&&(g.hasClass(i)?r.push(i):t[i]=t[i]==null?c(n):a(t[i],n,!0))});g.topologicalTravel(r,g.getAllClassMainTypes(),u,this);this._seriesIndices=this._seriesIndices||[]},getOption:function(){var n=c(this.option);return pr(n,function(t,i){var t,r;if(g.hasClass(i)){for(t=tu(t),r=t.length-1;r>=0;r--)tg(t[r])&&t.splice(r,1);n[i]=t}}),delete n[iht],n},getTheme:function(){return this._theme},getComponent:function(n,t){var i=this._componentsMap.get(n);if(i)return i[t||0]},queryComponents:function(n){var s=n.mainType,r,e,o;if(!s)return[];var i=n.index,u=n.id,f=n.name,t=this._componentsMap.get(s);return!t||!t.length?[]:(i!=null?(nht(i)||(i=[i]),r=rs(iri(i,function(n){return t[n]}),function(n){return!!n})):u!=null?(e=nht(u),r=rs(t,function(n){return e&&rri(u,n.id)>=0||!e&&n.id===u})):f!=null?(o=nht(f),r=rs(t,function(n){return o&&rri(f,n.name)>=0||!o&&n.name===f})):r=t.slice(),uri(r,n))},findComponents:function(n){function f(n){var i=t+"Index",r=t+"Id",u=t+"Name";return n&&(n[i]!=null||n[r]!=null||n[u]!=null)?{mainType:t,index:n[i],id:n[r],name:n[u]}:null}function e(t){return n.filter?rs(t,n.filter):t}var r=n.query,t=n.mainType,i=f(r),u=i?this.queryComponents(i):this._componentsMap.get(t);return e(uri(u,n))},eachComponent:function(n,t,i){var r=this._componentsMap,u;typeof n=="function"?(i=t,t=n,r.each(function(n,r){pr(n,function(n,u){t.call(i,r,n,u)})})):li(n)?pr(r.get(n),t,i):tht(n)&&(u=this.findComponents(n),pr(u,t,i))},getSeriesByName:function(n){var t=this._componentsMap.get("series");return rs(t,function(t){return t.name===n})},getSeriesByIndex:function(n){return this._componentsMap.get("series")[n]},getSeriesByType:function(n){var t=this._componentsMap.get("series");return rs(t,function(t){return t.subType===n})},getSeries:function(){return this._componentsMap.get("series").slice()},eachSeries:function(n,t){og(this);pr(this._seriesIndices,function(i){var r=this._componentsMap.get("series")[i];n.call(t,r,i)},this)},eachRawSeries:function(n,t){pr(this._componentsMap.get("series"),n,t)},eachSeriesByType:function(n,t,i){og(this);pr(this._seriesIndices,function(r){var u=this._componentsMap.get("series")[r];u.subType===n&&t.call(i,u,r)},this)},eachRawSeriesByType:function(n,t,i){return pr(this.getSeriesByType(n),t,i)},isSeriesFiltered:function(n){return og(this),w(this._seriesIndices,n.componentIndex)<0},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(n,t){og(this);var i=rs(this._componentsMap.get("series"),n,t);this._seriesIndices=uht(i)},restoreData:function(){var n=this._componentsMap,t;this._seriesIndices=uht(n.get("series"));t=[];n.each(function(n,i){t.push(i)});g.topologicalTravel(t,g.getAllClassMainTypes(),function(t){pr(n.get(t),function(n){n.restoreData()})})}});nt(rht,gst);fri=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];sg={};ir.prototype={constructor:ir,create:function(n,i){var r=[];t(sg,function(t){var u=t.create(n,i);r=r.concat(u||[])});this._coordinateSystems=r},update:function(n,i){t(this._coordinateSystems,function(t){t.update&&t.update(n,i)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}};ir.register=function(n,t){sg[n]=t};ir.get=function(n){return sg[n]};var hg=t,kh=c,cg=i,eri=a,isr=/^(min|max)?(.+)$/;fht.prototype={constructor:fht,setOption:function(n,t){n=kh(n,!0);var r=this._optionBackup,i=rsr.call(this,n,t,!r);this._newBaseOption=i.baseOption;r?(osr(r.baseOption,i.baseOption),i.timelineOptions.length&&(r.timelineOptions=i.timelineOptions),i.mediaList.length&&(r.mediaList=i.mediaList),i.mediaDefault&&(r.mediaDefault=i.mediaDefault)):this._optionBackup=i},mountOption:function(n){var t=this._optionBackup;return this._timelineOptions=cg(t.timelineOptions,kh),this._mediaList=cg(t.mediaList,kh),this._mediaDefault=kh(t.mediaDefault),this._currentMediaIndices=[],kh(n?t.baseOption:this._newBaseOption)},getTimelineOption:function(n){var i,r=this._timelineOptions,t;return r.length&&(t=n.getComponent("timeline"),t&&(i=kh(r[t.getCurrentIndex()],!0))),i},getMediaOption:function(){var e=this._api.getWidth(),o=this._api.getHeight(),i=this._mediaList,r=this._mediaDefault,n=[],u=[],t,f;if(!i.length&&!r)return u;for(t=0,f=i.length;t<f;t++)usr(i[t].query,e,o)&&n.push(t);return!n.length&&r&&(n=[-1]),n.length&&!esr(n,this._currentMediaIndices)&&(u=cg(n,function(n){return kh(n===-1?r.option:i[n].option)})),this._currentMediaIndices=n,u}};var us=t,fa=y,ori=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];sri=function(n,t){us(dh(n.series),function(n){fa(n)&&ssr(n)});var i=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&i.push("valueAxis","categoryAxis","logAxis","timeAxis");us(i,function(t){us(dh(n[t]),function(n){n&&(er(n,"axisLabel"),er(n.axisPointer,"label"))})});us(dh(n.parallel),function(n){var t=n&&n.parallelAxisDefault;er(t,"axisLabel");er(t&&t.axisPointer,"label")});us(dh(n.calendar),function(n){er(n,"dayLabel");er(n,"monthLabel");er(n,"yearLabel")});us(dh(n.radar),function(n){er(n,"name")});us(dh(n.geo),function(n){fa(n)&&(wr(n.label),us(dh(n.regions),function(n){wr(n.label)}))});wr(eht(n.timeline).label);er(eht(n.axisPointer),"label");er(eht(n.tooltip).axisPointer,"label")};var lsr=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],asr=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],cri=["bar","boxplot","candlestick","chord","effectScatter","funnel","gauge","lines","graph","heatmap","line","map","parallel","pie","radar","sankey","scatter","treemap"],lri=function(n,i){sri(n,i);n.series=tu(n.series);t(n.series,function(n){var t,r,i;if(y(n))for(t=n.type,(t==="pie"||t==="gauge")&&n.clockWise!=null&&(n.clockwise=n.clockWise),t==="gauge"&&(r=hsr(n,"pointer.color"),r!=null&&csr(n,"itemStyle.normal.color",r)),i=0;i<cri.length;i++)if(cri[i]===n.type){hri(n);break}});n.dataRange&&(n.visualMap=n.dataRange);t(asr,function(i){var u=n[i];u&&(r(u)||(u=[u]),t(u,function(n){hri(n)}))})},ci=g.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.normal.color",layoutMode:null,init:function(n,t,i){this.seriesIndex=this.componentIndex;this.mergeDefaultAndTheme(n,i);var r=this.getInitialData(n,i);f&&ct(r,"getInitialData returned invalid data.");du(this,"dataBeforeProcessed",r);this.restoreData()},mergeDefaultAndTheme:function(n,t){var i=this.layoutMode,u=i?ua(n):{},r=this.subType;g.hasClass(r)&&(r+="Series");a(n,t.getTheme().get(this.subType));a(n,this.getDefaultOption());wh(n.label,["show"]);this.fillDataTextStyle(n.data);i&&is(n,u,i)},mergeOption:function(n,t){var r,i;n=a(this.option,n,!0);this.fillDataTextStyle(n.data);r=this.layoutMode;r&&is(this.option,n,r);i=this.getInitialData(n,t);i&&(du(this,"data",i),du(this,"dataBeforeProcessed",i.cloneShallow()))},fillDataTextStyle:function(n){var i,t;if(n)for(i=["show"],t=0;t<n.length;t++)n[t]&&n[t].label&&wh(n[t].label,i)},getInitialData:function(){},getData:function(n){var t=ao(this,"data");return n==null?t:t.getLinkedData(n)},setData:function(n){du(this,"data",n)},getRawData:function(){return ao(this,"dataBeforeProcessed")},coordDimToDataDim:function(n){return hor(this.getData(),n)},dataDimToCoordDim:function(n){return sor(this.getData(),n)},getBaseAxis:function(){var n=this.coordinateSystem;return n&&n.getBaseAxis&&n.getBaseAxis()},formatTooltip:function(n,i){function l(r){function s(n,t){var r=e.getDimensionInfo(t),o,s;r&&r.otherDims.tooltip!==!1&&(o=r.type,s=(u?"- "+(r.tooltipName||r.name)+": ":"")+(o==="ordinal"?n+"":o==="time"?i?"":aot("yyyy/MM/dd hh:mm:ss",n):co(n)),s&&f.push(dt(s)))}var u=sl(r,function(n,t,i){var r=e.getDimensionInfo(i);return n|(r&&r.tooltip!==!1&&r.tooltipName!=null)},0),f=[],o=kii(e,"tooltip");return o.length?t(o,function(t){s(e.get(t,n),t)}):t(r,s),(u?"<br/>":"")+f.join(u?"<br/>":", ")}var e=ao(this,"data"),o=this.getRawValue(n),s=r(o)?l(o):dt(co(o)),c=e.getName(n),f=e.getItemVisual(n,"color"),h,u;return y(f)&&f.colorStops&&(f=(f.colorStops[0]||{}).color),f=f||"transparent",h=lot(f),u=this.name,u==='\0-'&&(u=""),u=u?dt(u)+(i?": ":"<br/>"):"",i?h+u+s:u+h+(c?dt(c)+": "+s:s)},isAnimationEnabled:function(){if(d.node)return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),n},restoreData:function(){du(this,"data",ao(this,"dataBeforeProcessed").cloneShallow())},getColorFromPalette:function(n,t){var r=this.ecModel,i=gst.getColorFromPalette.call(this,n,t);return i||(i=r.getColorFromPalette(n,t)),i},getAxisTooltipData:null,getTooltipPosition:null});nt(ci,ng);nt(ci,gst);kf=function(){this.group=new e;this.uid=bst("viewComponent")};kf.prototype={constructor:kf,init:function(){},render:function(){},dispose:function(){}};lg=kf.prototype;lg.updateView=lg.updateLayout=lg.updateVisual=function(){};by(kf);fd(kf,{registerWhenExtend:!0});or.prototype={type:"chart",init:function(){},render:function(){},highlight:function(n,t,i,r){ari(n.getData(),r,"emphasis")},downplay:function(n,t,i,r){ari(n.getData(),r,"normal")},remove:function(){this.group.removeAll()},dispose:function(){}};ag=or.prototype;ag.updateView=ag.updateLayout=ag.updateVisual=function(n,t,i,r){this.render(n,t,i,r)};by(or,["dispose"]);fd(or,{registerWhenExtend:!0});var vg='\0__throttleOriginMethod',vri='\0__throttleRate',yri='\0__throttleType';var vsr=function(n){function t(t){var u=(t.visualColorAccessPath||"itemStyle.normal.color").split("."),i=t.getData(),r=t.get(u)||t.getColorFromPalette(t.get("name"));i.setVisual("color",r);n.isSeriesFiltered(t)||(typeof r!="function"||r instanceof vf||i.each(function(n){i.setItemVisual(n,"color",r(t.getDataParams(n)))}),i.each(function(n){var r=i.getItemModel(n),t=r.get(u,!0);t!=null&&i.setItemVisual(n,"color",t)}))}n.eachRawSeries(t)},yg=Math.PI,ysr=function(n,t){var i;t=t||{};l(t,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var u=new ot({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4}),r=new dti({shape:{startAngle:-yg/2,endAngle:-yg/2+.1,r:10},style:{stroke:t.color,lineCap:"round",lineWidth:5},zlevel:t.zlevel,z:10001}),f=new ot({style:{fill:"none",text:t.text,textPosition:"right",textDistance:10,textFill:t.textColor},zlevel:t.zlevel,z:10001});return r.animateShape(!0).when(1e3,{endAngle:yg*3/2}).start("circularInOut"),r.animateShape(!0).when(1e3,{startAngle:yg*3/2}).delay(300).start("circularInOut"),i=new e,i.add(r),i.add(f),i.add(u),i.resize=function(){var i=n.getWidth()/2,e=n.getHeight()/2,t;r.setShape({cx:i,cy:e});t=r.shape.r;f.setShape({x:i-t,y:e-t,width:t*2,height:t*2});u.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},i.resize(),i},vi=t,wri=g.parseClassType,bri="3.8.4",hht={zrender:"3.7.3"},kri=1e3,dri=1e3,gri=2e3,nui=3e3,ea={PROCESSOR:{FILTER:kri,STATISTIC:5e3},VISUAL:{LAYOUT:dri,GLOBAL:gri,CHART:nui,COMPONENT:4e3,BRUSH:5e3}},lu="__flagInMainProcess",cht="__hasGradientOrPatternBg",gh="__optionUpdated",tui=/^[a-zA-Z0-9_]+$/;fp.prototype.on=oa("on");fp.prototype.off=oa("off");fp.prototype.one=oa("one");nt(fp,hi);rt=ep.prototype;rt._onframe=function(){if(this[gh]){var n=this[gh].silent;this[lu]=!0;nc.prepareAndUpdate.call(this);this[lu]=!1;this[gh]=!1;pg.call(this,n);wg.call(this,n)}};rt.getDom=function(){return this._dom};rt.getZr=function(){return this._zr};rt.setOption=function(n,t,i){var r;if(f&&ct(!this[lu],"`setOption` should not be called during main process."),y(t)&&(i=t.lazyUpdate,r=t.silent,t=t.notMerge),this[lu]=!0,!this._model||t){var u=new fht(this._api),e=this._theme,o=this._model=new rht(null,null,e,u);o.init(null,null,e,u)}this._model.setOption(n,hui);i?(this[gh]={silent:r},this[lu]=!1):(nc.prepareAndUpdate.call(this),this._zr.flush(),this[gh]=!1,this[lu]=!1,pg.call(this,r),wg.call(this,r))};rt.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")};rt.getModel=function(){return this._model};rt.getOption=function(){return this._model&&this._model.getOption()};rt.getWidth=function(){return this._zr.getWidth()};rt.getHeight=function(){return this._zr.getHeight()};rt.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1};rt.getRenderedCanvas=function(n){if(d.canvasSupported){n=n||{};n.pixelRatio=n.pixelRatio||1;n.backgroundColor=n.backgroundColor||this._model.get("backgroundColor");var i=this._zr,r=i.storage.getDisplayList();return t(r,function(n){n.stopAnimation(!0)}),i.painter.getRenderedCanvas(n)}};rt.getSvgDataUrl=function(){if(d.svgSupported){var n=this._zr,i=n.storage.getDisplayList();return t(i,function(n){n.stopAnimation(!0)}),n.painter.pathToSvg()}};rt.getDataURL=function(n){var i;n=n||{};var r=n.excludeComponents,u=this._model,t=[],f=this;return vi(r,function(n){u.eachComponent({mainType:n},function(n){var i=f._componentsMap[n.__viewId];i.group.ignore||(t.push(i),i.group.ignore=!0)})}),i=this._zr.painter.getType()==="svg"?this.getSvgDataUrl():this.getRenderedCanvas(n).toDataURL("image/"+(n&&n.type||"png")),vi(t,function(n){n.group.ignore=!1}),i};rt.getConnectedDataURL=function(n){var h;if(d.canvasSupported){var l=this.group,a=Math.min,v=Math.max,f=Infinity;if(gg[l]){var r=f,u=f,e=-f,o=-f,y=[],i=n&&n.pixelRatio||1;t(tc,function(t){if(t.group===l){var f=t.getRenderedCanvas(c(n)),i=t.getDom().getBoundingClientRect();r=a(i.left,r);u=a(i.top,u);e=v(i.right,e);o=v(i.bottom,o);y.push({dom:f,left:i.left,top:i.top})}});r*=i;u*=i;e*=i;o*=i;var p=e-r,w=o-u,s=ds();return s.width=p,s.height=w,h=iot(s),vi(y,function(n){var t=new gi({style:{x:n.left*i-r,y:n.top*i-u,image:n.dom}});h.add(t)}),h.refreshImmediately(),s.toDataURL("image/"+(n&&n.type||"png"))}return this.getDataURL(n)}};rt.convertToPixel=o(iui,"convertToPixel");rt.convertFromPixel=o(iui,"convertFromPixel");rt.containPixel=function(n,i){var u=this._model,r;return n=ug(u,n),t(n,function(n,u){u.indexOf("Models")>=0&&t(n,function(n){var e=n.coordinateSystem,t;e&&e.containPoint?r|=!!e.containPoint(i):u==="seriesModels"?(t=this._chartsMap[n.__viewId],t&&t.containPoint?r|=t.containPoint(i,n):f&&console.warn(u+": "+(t?"The found component do not support containPoint.":"No view mapping to the found component."))):f&&console.warn(u+": containPoint is not supported")},this)},this),!!r};rt.getVisual=function(n,t){var e=this._model,r,i,u;return n=ug(e,n,{defaultMainType:"series"}),r=n.seriesModel,f&&(r||console.warn("There is no specified seires model")),i=r.getData(),u=n.hasOwnProperty("dataIndexInside")?n.dataIndexInside:n.hasOwnProperty("dataIndex")?i.indexOfRawIndex(n.dataIndex):null,u!=null?i.getItemVisual(u,t):i.getVisual(t)};rt.getViewOfComponentModel=function(n){return this._componentsMap[n.__viewId]};rt.getViewOfSeriesModel=function(n){return this._chartsMap[n.__viewId]};nc={update:function(n){var t=this._model,u=this._api,o=this._coordSysMgr,r=this._zr,i,f,e;t&&(t.restoreData(),o.create(this._model,this._api),psr.call(this,t,u),wsr.call(this,t),o.update(t,u),aht.call(this,t,n),ksr.call(this,t,n),i=t.get("backgroundColor")||"transparent",f=r.painter,f.isSingleCanvas&&f.isSingleCanvas()?r.configLayer(0,{clearColor:i}):(d.canvasSupported||(e=eu(i),i=le(e,"rgb"),e[3]===0&&(i="transparent")),i.colorStops||i.image?(r.configLayer(0,{clearColor:i}),this[cht]=!0,this._dom.style.background="transparent"):(this[cht]&&r.configLayer(0,{clearColor:null}),this[cht]=!1,this._dom.style.background=i)),vi(yht,function(n){n(t,u)}))},updateView:function(n){var t=this._model;t&&(t.eachSeries(function(n){n.getData().clearAllVisual()}),aht.call(this,t,n),lht.call(this,"updateView",t,n))},updateVisual:function(n){var t=this._model;t&&(t.eachSeries(function(n){n.getData().clearAllVisual()}),aht.call(this,t,n,!0),lht.call(this,"updateVisual",t,n))},updateLayout:function(n){var t=this._model;t&&(bsr.call(this,t,n),lht.call(this,"updateLayout",t,n))},prepareAndUpdate:function(n){var t=this._model;fui.call(this,"component",t);fui.call(this,"chart",t);nc.update.call(this,n)}};rt.resize=function(n){var i,r,t;f&&ct(!this[lu],"`resize` should not be called during main process.");this[lu]=!0;this._zr.resize(n);i=this._model&&this._model.resetOption("media");r=i?"prepareAndUpdate":"update";nc[r].call(this);this._loadingFX&&this._loadingFX.resize();this[lu]=!1;t=n&&n.silent;pg.call(this,t);wg.call(this,t)};rt.showLoading=function(n,t){if(y(n)&&(t=n,n=""),n=n||"default",this.hideLoading(),!pht[n]){f&&console.warn("Loading effects "+n+" not exists.");return}var i=pht[n](this._api,t),r=this._zr;this._loadingFX=i;r.add(i)};rt.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX);this._loadingFX=null};rt.makeActionFromEvent=function(n){var t=s({},n);return t.type=dg[n.type],t};rt.dispatchAction=function(n,t){if((y(t)||(t={silent:!!t}),kg[n.type])&&this._model){if(this[lu]){this._pendingActions.push(n);return}uui.call(this,n,t.silent);t.flush?this._zr.flush(!0):t.flush!==!1&&d.browser.weChat&&this._throttledZrFlush();pg.call(this,t.silent);wg.call(this,t.silent)}};rt.on=oa("on");rt.off=oa("off");rt.one=oa("one");eui=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];rt._initEvents=function(){vi(eui,function(n){this._zr.on(n,function(t){var f=this.getModel(),i=t.target,r,u;n==="globalout"?r={}:i&&i.dataIndex!=null?(u=i.dataModel||f.getSeriesByIndex(i.seriesIndex),r=u&&u.getDataParams(i.dataIndex,i.dataType)||{}):i&&i.eventData&&(r=s({},i.eventData));r&&(r.event=t,r.type=n,this.trigger(n,r))},this)},this);vi(dg,function(n,t){this._messageCenter.on(t,function(n){this.trigger(t,n)},this)},this)};rt.isDisposed=function(){return this._disposed};rt.clear=function(){this.setOption({series:[]},!0)};rt.dispose=function(){if(this._disposed){f&&console.warn("Instance "+this.id+" has been disposed");return}this._disposed=!0;var n=this._api,t=this._model;vi(this._componentsViews,function(i){i.dispose(t,n)});vi(this._chartsViews,function(i){i.dispose(t,n)});this._zr.dispose();delete tc[this.id]};nt(ep,hi);var kg={},dg={},vht=[],hui=[],yht=[],op=[],cui={},pht={},tc={},gg={},gsr=new Date-0,nhr=new Date-0,nn="_echarts_instance_",lui={};vui=aui;pt(gri,vsr);wi(lri);yui("default",ysr);ft({type:"highlight",event:"highlight",update:"highlight"},pi);ft({type:"downplay",event:"downplay",update:"downplay"},pi);pui={};es.prototype={constructor:es,add:function(n){return this._add=n,this},update:function(n){return this._update=n,this},remove:function(n){return this._remove=n,this},execute:function(){var o=this._old,h=this._new,r={},s=[],e=[],t,i,n,f,u;for(bui(o,{},s,"_oldKeyGetter",this),bui(h,r,e,"_newKeyGetter",this),t=0;t<o.length;t++)i=s[t],n=r[i],n!=null?(u=n.length,u?(u===1&&(r[i]=null),n=n.unshift()):r[i]=null,this._update&&this._update(n,t)):this._remove&&this._remove(t);for(t=0;t<e.length;t++)if(i=e[t],r.hasOwnProperty(i)){if(n=r[i],n==null)continue;if(n.length)for(f=0,u=n.length;f<u;f++)this._add&&this._add(n[f]);else this._add&&this._add(n)}}};var kht=y,dht="undefined",rn=typeof window===dht?global:window,lhr={float:typeof rn.Float64Array===dht?Array:rn.Float64Array,int:typeof rn.Int32Array===dht?Array:rn.Int32Array,ordinal:Array,number:Array,time:Array},ahr=["stackedOn","hasItemOption","_nameList","_idList","_rawData"];un.prototype.pure=!1;un.prototype.count=function(){return this._array.length};un.prototype.getItem=function(n){return this._array[n]};yt=function(n,t){var f,e,u,r,i;for(n=n||["x","y"],f={},e=[],u=0;u<n.length;u++)i={},typeof n[u]=="string"?(r=n[u],i={name:r,coordDim:r,coordDimIndex:0,stackable:!1,type:"number"}):(i=n[u],r=i.name,i.type=i.type||"number",i.coordDim||(i.coordDim=r,i.coordDimIndex=0)),i.otherDims=i.otherDims||{},e.push(r),f[r]=i;this.dimensions=e;this._dimensionInfos=f;this.hostModel=t;this.dataType;this.indices=[];this._storage={};this._nameList=[];this._idList=[];this._optionModels=[];this.stackedOn=null;this._visual={};this._layout={};this._itemVisuals=[];this._itemLayouts=[];this._graphicEls=[];this._rawData;this._extent};v=yt.prototype;v.type="list";v.hasItemOption=!0;v.getDimension=function(n){return isNaN(n)||(n=this.dimensions[n]||n),n};v.getDimensionInfo=function(n){return c(this._dimensionInfos[this.getDimension(n)])};v.initData=function(n,t,i){var a,w,nt,b,l,k,tt,u,e,o,h;if(n=n||[],a=r(n),a&&(n=new un(n)),f&&!a&&(typeof n.getItem!="function"||typeof n.count!="function"))throw new Error("Inavlid data provider.");this._rawData=n;var v=this._storage={},it=this.indices=[],s=this.dimensions,d=this._dimensionInfos,y=n.count(),g=[],c={},p;for(t=t||[],u=0;u<s.length;u++)w=d[s[u]],w.otherDims.itemName===0&&(p=u),nt=lhr[w.type],v[s[u]]=new nt(y);for(b=this,i||(b.hasItemOption=!1),i=i||function(n,t,i,r){var u=ip(n);return vst(n)&&(b.hasItemOption=!0),yst(u instanceof Array?u[r]:u,d[t])},u=0;u<y;u++){for(e=n.getItem(u),l=0;l<s.length;l++)k=s[l],tt=v[k],tt[u]=i(e,k,u,l);it.push(u)}for(u=0;u<y;u++)e=n.getItem(u),!t[u]&&e&&(e.name!=null?t[u]=e.name:p!=null&&(t[u]=v[s[p]][u])),o=t[u]||"",h=e&&e.id,!h&&o&&(c[o]=c[o]||0,h=o,c[o]>0&&(h+="__ec__"+c[o]),c[o]++),h&&(g[u]=h);this._nameList=t;this._idList=g};v.count=function(){return this.indices.length};v.get=function(n,t,i){var o=this._storage,s=this.indices[t],r,e,u,f;if(s==null||!o[n])return NaN;if(r=o[n][s],i&&(e=this._dimensionInfos[n],e&&e.stackable))for(u=this.stackedOn;u;)f=u.get(n,t),(r>=0&&f>0||r<=0&&f<0)&&(r+=f),u=u.stackedOn;return r};v.getValues=function(n,t,i){var f=[],u,e;for(r(n)||(i=t,t=n,n=this.dimensions),u=0,e=n.length;u<e;u++)f.push(this.get(n[u],t,i));return f};v.hasValue=function(n){for(var i=this.dimensions,r=this._dimensionInfos,t=0,u=i.length;t<u;t++)if(r[i[t]].type!=="ordinal"&&isNaN(this.get(i[t],n)))return!1;return!0};v.getDataExtent=function(n,t,i){var h,o,s,r,f,e,u,c;if(n=this.getDimension(n),h=this._storage[n],o=this.getDimensionInfo(n),t=o&&o.stackable&&t,s=(this._extent||(this._extent={}))[n+!!t],s)return s;if(h){for(f=Infinity,e=-Infinity,u=0,c=this.count();u<c;u++)r=this.get(n,u,t),(!i||i(r,n,u))&&(r<f&&(f=r),r>e&&(e=r));return this._extent[n+!!t]=[f,e]}return[Infinity,-Infinity]};v.getSum=function(n,t){var e=this._storage[n],u=0,i,f,r;if(e)for(i=0,f=this.count();i<f;i++)r=this.get(n,i,t),isNaN(r)||(u+=r);return u};v.indexOf=function(n,t){var o=this._storage,r=o[n],u=this.indices,i,f,e;if(r)for(i=0,f=u.length;i<f;i++)if(e=u[i],r[e]===t)return i;return-1};v.indexOfName=function(n){for(var r,i=this.indices,u=this._nameList,t=0,f=i.length;t<f;t++)if(r=i[t],u[r]===n)return t;return-1};v.indexOfRawIndex=function(n){var i=this.indices,f=i[n],r,u,t;if(f!=null&&f===n)return n;for(r=0,u=i.length-1;r<=u;)if(t=(r+u)/2|0,i[t]<n)r=t+1;else if(i[t]>n)u=t-1;else return t;return-1};v.indicesOfNearest=function(n,t,i,r){var l=this._storage,a=l[n],e=[],o,h,u,c,f,s;if(!a)return e;for(r==null&&(r=Infinity),o=Number.MAX_VALUE,h=-1,u=0,c=this.count();u<c;u++)f=t-this.get(n,u,i),s=Math.abs(f),f<=r&&s<=o&&((s<o||f>=0&&h<0)&&(o=s,h=f,e.length=0),e.push(u));return e};v.getRawIndex=function(n){var t=this.indices[n];return t==null?-1:t};v.getRawDataItem=function(n){return this._rawData.getItem(this.getRawIndex(n))};v.getName=function(n){return this._nameList[this.indices[n]]||""};v.getId=function(n){return this._idList[this.indices[n]]||this.getRawIndex(n)+""};v.each=function(n,t,r,u){var f,e;typeof n=="function"&&(u=r,r=t,t=n,n=[]);n=i(ght(n),this.getDimension,this);var o=[],s=n.length,h=this.indices;for(u=u||this,f=0;f<h.length;f++)switch(s){case 0:t.call(u,f);break;case 1:t.call(u,this.get(n[0],f,r),f);break;case 2:t.call(u,this.get(n[0],f,r),this.get(n[1],f,r),f);break;default:for(e=0;e<s;e++)o[e]=this.get(n[e],f,r);o[e]=f;t.apply(u,o)}};v.filterSelf=function(n,t,r,u){var f,o,e;typeof n=="function"&&(u=r,r=t,t=n,n=[]);n=i(ght(n),this.getDimension,this);var c=[],s=[],h=n.length,l=this.indices;for(u=u||this,f=0;f<l.length;f++){if(h)if(h===1)o=t.call(u,this.get(n[0],f,r),f);else{for(e=0;e<h;e++)s[e]=this.get(n[e],f,r);s[e]=f;o=t.apply(u,s)}else o=t.call(u,f);o&&c.push(l[f])}return this.indices=c,this._extent={},this};v.mapArray=function(n,t,i,r){typeof n=="function"&&(r=i,i=t,t=n,n=[]);var u=[];return this.each(n,function(){u.push(t&&t.apply(this,arguments))},i,r),u};v.map=function(n,t,r,u){n=i(ght(n),this.getDimension,this);var f=dui(this,n),o=f.indices=this.indices,s=f._storage,e=[];return this.each(n,function(){var f=arguments[arguments.length-1],i=t&&t.apply(this,arguments),r;if(i!=null)for(typeof i=="number"&&(e[0]=i,i=e),r=0;r<i.length;r++){var h=n[r],u=s[h],c=o[f];u&&(u[c]=i[r])}},r,u),f};v.downSample=function(n,t,i,r){for(var f,l,e,h=dui(this,[n]),a=this._storage,v=h._storage,w=this.indices,b=h.indices=[],s=[],y=[],o=Math.floor(1/t),p=v[n],c=this.count(),u=0;u<a[n].length;u++)v[n][u]=a[n][u];for(u=0;u<c;u+=o){for(o>c-u&&(o=c-u,s.length=o),f=0;f<o;f++)e=w[u+f],s[f]=p[e],y[f]=e;l=i(s);e=y[r(s,l)||0];p[e]=l;b.push(e)}return h};v.getItemModel=function(n){var t=this.hostModel;return n=this.indices[n],new it(this._rawData.getItem(n),t,t&&t.ecModel)};v.diff=function(n){var r=this._idList,u=n&&n._idList,t,i='e\0\0';return new es(n?n.indices:[],this.indices,function(n){return(t=u[n])!=null?t:i+n},function(n){return(t=r[n])!=null?t:i+n})};v.getVisual=function(n){var t=this._visual;return t&&t[n]};v.setVisual=function(n,t){if(kht(n)){for(var i in n)n.hasOwnProperty(i)&&this.setVisual(i,n[i]);return}this._visual=this._visual||{};this._visual[n]=t};v.setLayout=function(n,t){if(kht(n)){for(var i in n)n.hasOwnProperty(i)&&this.setLayout(i,n[i]);return}this._layout[n]=t};v.getLayout=function(n){return this._layout[n]};v.getItemLayout=function(n){return this._itemLayouts[n]};v.setItemLayout=function(n,t,i){this._itemLayouts[n]=i?s(this._itemLayouts[n]||{},t):t};v.clearItemLayouts=function(){this._itemLayouts.length=0};v.getItemVisual=function(n,t,i){var r=this._itemVisuals[n],u=r&&r[t];return u==null&&!i?this.getVisual(t):u};v.setItemVisual=function(n,t,i){var u=this._itemVisuals[n]||{},r;if(this._itemVisuals[n]=u,kht(t)){for(r in t)t.hasOwnProperty(r)&&(u[r]=t[r]);return}u[t]=i};v.clearAllVisual=function(){this._visual={};this._itemVisuals=[]};gui=function(n){n.seriesIndex=this.seriesIndex;n.dataIndex=this.dataIndex;n.dataType=this.dataType};v.setItemGraphicEl=function(n,t){var i=this.hostModel;t&&(t.dataIndex=n,t.dataType=this.dataType,t.seriesIndex=i&&i.seriesIndex,t.type==="group"&&t.traverse(gui,t));this._graphicEls[n]=t};v.getItemGraphicEl=function(n){return this._graphicEls[n]};v.eachItemGraphicEl=function(n,i){t(this._graphicEls,function(t,r){t&&n&&n.call(i,t,r)})};v.cloneShallow=function(){var t=i(this.dimensions,this.getDimensionInfo,this),n=new yt(t,this.hostModel);return n._storage=this._storage,kui(n,this),n.indices=this.indices.slice(),this._extent&&(n._extent=s({},this._extent)),n};v.wrapMethod=function(n,t){var i=this[n];typeof i=="function"&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(n),this[n]=function(){var n=i.apply(this,arguments);return t.apply(this,[n].concat(wut(arguments)))})};v.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"];v.CHANGABLE_METHODS=["filterSelf"];var fn=t,en=li,nfi=l,vhr={tooltip:1,label:1,itemName:1};tfi=rr.guessOrdinal=function(n,t){for(var i,u=0,f=n.length;u<f;u++){if((i=ifi(n[u]),!r(i))||(i=i[t],i!=null&&isFinite(i)&&i!==""))return!1;if(en(i)&&i!=="-")return!0}return!1};rfi={cartesian2d:function(n,t,r,u){var a=i(["xAxis","yAxis"],function(n){return r.queryComponents({mainType:n,index:t.get(n+"Index"),id:t.get(n+"Id")})[0]}),o=a[0],s=a[1],e;if(f){if(!o)throw new Error('xAxis "'+kt(t.get("xAxisIndex"),t.get("xAxisId"),0)+'" not found');if(!s)throw new Error('yAxis "'+kt(t.get("xAxisIndex"),t.get("yAxisId"),0)+'" not found');}var h=o.get("type"),c=s.get("type"),l=[{name:"x",type:cp(h),stackable:hp(h)},{name:"y",type:cp(c),stackable:hp(c)}],v=h==="category",y=c==="category";return l=rr(l,n,u),e={},v&&(e.x=o),y&&(e.y=s),{dimensions:l,categoryIndex:v?0:y?1:-1,categoryAxesModels:e}},singleAxis:function(n,t,i,r){var u=i.queryComponents({mainType:"singleAxis",index:t.get("singleAxisIndex"),id:t.get("singleAxisId")})[0],s;if(f&&!u)throw new Error("singleAxis should be specified.");var e=u.get("type"),h=e==="category",o=[{name:"single",type:cp(e),stackable:hp(e)}];return o=rr(o,n,r),s={},h&&(s.single=u),{dimensions:o,categoryIndex:h?0:-1,categoryAxesModels:s}},polar:function(n,t,i,r){var l=i.queryComponents({mainType:"polar",index:t.get("polarIndex"),id:t.get("polarId")})[0],e=l.findAxisModel("angleAxis"),o=l.findAxisModel("radiusAxis"),u;if(f){if(!e)throw new Error("angleAxis option not found");if(!o)throw new Error("radiusAxis option not found");}var s=o.get("type"),h=e.get("type"),c=[{name:"radius",type:cp(s),stackable:hp(s)},{name:"angle",type:cp(h),stackable:hp(h)}],a=h==="category",v=s==="category";return c=rr(c,n,r),u={},v&&(u.radius=o),a&&(u.angle=e),{dimensions:c,categoryIndex:a?1:v?0:-1,categoryAxesModels:u}},geo:function(n,t,i,r){return{dimensions:rr([{name:"lng"},{name:"lat"}],n,r)}}};fi.prototype.parse=function(n){return n};fi.prototype.getSetting=function(n){return this._setting[n]};fi.prototype.contain=function(n){var t=this._extent;return n>=t[0]&&n<=t[1]};fi.prototype.normalize=function(n){var t=this._extent;return t[1]===t[0]?.5:(n-t[0])/(t[1]-t[0])};fi.prototype.scale=function(n){var t=this._extent;return n*(t[1]-t[0])+t[0]};fi.prototype.unionExtent=function(n){var t=this._extent;n[0]<t[0]&&(t[0]=n[0]);n[1]>t[1]&&(t[1]=n[1])};fi.prototype.unionExtentFromData=function(n,t){this.unionExtent(n.getDataExtent(t,!0))};fi.prototype.getExtent=function(){return this._extent.slice()};fi.prototype.setExtent=function(n,t){var i=this._extent;isNaN(n)||(i[0]=n);isNaN(t)||(i[1]=t)};fi.prototype.getTicksLabels=function(){for(var t=[],i=this.getTicks(),n=0;n<i.length;n++)t.push(this.getLabel(i[n]));return t};fi.prototype.isBlank=function(){return this._isBlank};fi.prototype.setBlank=function(n){this._isBlank=n};by(fi);fd(fi,{registerWhenExtend:!0});on=fi.prototype;sn=fi.extend({type:"ordinal",init:function(n,t){this._data=n;this._extent=t||[0,n.length-1]},parse:function(n){return typeof n=="string"?w(this._data,n):Math.round(n)},contain:function(n){return n=this.parse(n),on.contain.call(this,n)&&this._data[n]!=null},normalize:function(n){return on.normalize.call(this,this.parse(n))},scale:function(n){return Math.round(on.scale.call(this,n))},getTicks:function(){for(var t=[],i=this._extent,n=i[0];n<=i[1];)t.push(n),n++;return t},getLabel:function(n){return this._data[n]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(n,t){this.unionExtent(n.getDataExtent(t,!1))},niceTicks:pi,niceExtent:pi});sn.create=function(){return new sn};hn=lr;cn=lr;rf=fi.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(n,t){var i=this._extent;isNaN(n)||(i[0]=parseFloat(n));isNaN(t)||(i[1]=parseFloat(t))},unionExtent:function(n){var t=this._extent;n[0]<t[0]&&(t[0]=n[0]);n[1]>t[1]&&(t[1]=n[1]);rf.prototype.setExtent.call(this,t[0],t[1])},getInterval:function(){return this._interval},setInterval:function(n){this._interval=n;this._niceExtent=this._extent.slice();this._intervalPrecision=ufi(n)},getTicks:function(){return khr(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getTicksLabels:function(){for(var t=[],i=this.getTicks(),n=0;n<i.length;n++)t.push(this.getLabel(i[n]));return t},getLabel:function(n,t){if(n==null)return"";var i=t&&t.precision;return i==null?i=td(n)||0:i==="auto"&&(i=this._intervalPrecision),n=cn(n,i,!0),co(n)},niceTicks:function(n,t,i){var r,u,f;(n=n||5,r=this._extent,u=r[1]-r[0],isFinite(u))&&(u<0&&(u=-u,r.reverse()),f=bhr(r,n,t,i),this._intervalPrecision=f.intervalPrecision,this._interval=f.interval,this._niceExtent=f.niceTickExtent)},niceExtent:function(n){var t=this._extent,r,u,i;t[0]===t[1]&&(t[0]!==0?(r=t[0],n.fixMax?t[0]-=r/2:(t[1]+=r/2,t[0]-=r/2)):t[1]=1);u=t[1]-t[0];isFinite(u)||(t[0]=0,t[1]=1);this.niceTicks(n.splitNumber,n.minInterval,n.maxInterval);i=this._interval;n.fixMin||(t[0]=cn(Math.floor(t[0]/i)*i));n.fixMax||(t[1]=cn(Math.ceil(t[1]/i)*i))}});rf.create=function(){return new rf};var dhr=rf.prototype,ofi=Math.ceil,sfi=Math.floor,sa=1e3,ha=sa*60,lp=ha*60,wt=lp*24,ghr=function(n,t,i,r){while(i<r){var u=i+r>>>1;n[u][1]<t?i=u+1:r=u}return i},nct=rf.extend({type:"time",getLabel:function(n){var t=this._stepLvl,i=new Date(n);return aot(t[0],i,this.getSetting("useUTC"))},niceExtent:function(n){var t=this._extent,r,i;t[0]===t[1]&&(t[0]-=wt,t[1]+=wt);t[1]===-Infinity&&t[0]===Infinity&&(r=new Date,t[1]=+new Date(r.getFullYear(),r.getMonth(),r.getDate()),t[0]=t[1]-wt);this.niceTicks(n.splitNumber,n.minInterval,n.maxInterval);i=this._interval;n.fixMin||(t[0]=lr(sfi(t[0]/i)*i));n.fixMax||(t[1]=lr(ofi(t[1]/i)*i))},niceTicks:function(n,t,i){var l,a,e,s;n=n||10;var r=this._extent,h=r[1]-r[0],f=h/n;t!=null&&f<t&&(f=t);i!=null&&f>i&&(f=i);var c=ln.length,v=ghr(ln,f,0,c),o=ln[Math.min(v,c-1)],u=o[1];o[0]==="year"&&(l=h/u,a=oot(l/n,!0),u*=a);e=this.getSetting("useUTC")?0:new Date(+r[0]||+r[1]).getTimezoneOffset()*6e4;s=[Math.round(ofi((r[0]-e)/u)*u+e),Math.round(sfi((r[1]-e)/u)*u+e)];efi(s,r);this._stepLvl=o;this._interval=u;this._niceExtent=s},parse:function(n){return+wy(n)}});t(["contain","normalize"],function(n){nct.prototype[n]=function(t){return dhr[n].call(this,this.parse(t))}});ln=[["hh:mm:ss",sa],["hh:mm:ss",sa*5],["hh:mm:ss",sa*10],["hh:mm:ss",sa*15],["hh:mm:ss",sa*30],["hh:mm\nMM-dd",ha],["hh:mm\nMM-dd",ha*5],["hh:mm\nMM-dd",ha*10],["hh:mm\nMM-dd",ha*15],["hh:mm\nMM-dd",ha*30],["hh:mm\nMM-dd",lp],["hh:mm\nMM-dd",lp*2],["hh:mm\nMM-dd",lp*6],["hh:mm\nMM-dd",lp*12],["MM-dd\nyyyy",wt],["MM-dd\nyyyy",wt*2],["MM-dd\nyyyy",wt*3],["MM-dd\nyyyy",wt*4],["MM-dd\nyyyy",wt*5],["MM-dd\nyyyy",wt*6],["week",wt*7],["MM-dd\nyyyy",wt*10],["week",wt*14],["week",wt*21],["month",wt*31],["week",wt*42],["month",wt*62],["week",wt*42],["quarter",wt*95],["month",wt*124],["month",wt*155],["half-year",wt*190],["month",wt*248],["month",wt*310],["year",wt*380]];nct.create=function(n){return new nct({useUTC:n.ecModel.get("useUTC")})};var an=fi.prototype,vn=rf.prototype,ncr=td,tcr=lr,icr=Math.floor,rcr=Math.ceil,yn=Math.pow,df=Math.log,tct=fi.extend({type:"log",base:10,$constructor:function(){fi.apply(this,arguments);this._originalScale=new rf},getTicks:function(){var n=this._originalScale,t=this._extent,r=n.getExtent();return i(vn.getTicks.call(this),function(i){var u=lr(yn(this.base,i));return u=i===t[0]&&n.__fixMin?pn(u,r[0]):u,i===t[1]&&n.__fixMax?pn(u,r[1]):u},this)},getLabel:vn.getLabel,scale:function(n){return n=an.scale.call(this,n),yn(this.base,n)},setExtent:function(n,t){var i=this.base;n=df(n)/df(i);t=df(t)/df(i);vn.setExtent.call(this,n,t)},getExtent:function(){var r=this.base,n=an.getExtent.call(this),t,i;return n[0]=yn(r,n[0]),n[1]=yn(r,n[1]),t=this._originalScale,i=t.getExtent(),t.__fixMin&&(n[0]=pn(n[0],i[0])),t.__fixMax&&(n[1]=pn(n[1],i[1])),n},unionExtent:function(n){this._originalScale.unionExtent(n);var t=this.base;n[0]=df(n[0])/df(t);n[1]=df(n[1])/df(t);an.unionExtent.call(this,n)},unionExtentFromData:function(n,t){this.unionExtent(n.getDataExtent(t,!0,function(n){return n>0}))},niceTicks:function(n){var i,r,t,u,f;if(n=n||10,i=this._extent,r=i[1]-i[0],r!==Infinity&&!(r<=0)){for(t=snt(r),u=n/r*t,u<=.5&&(t*=10);!isNaN(t)&&Math.abs(t)<1&&Math.abs(t)>0;)t*=10;f=[lr(rcr(i[0]/t)*t),lr(icr(i[1]/t)*t)];this._interval=t;this._niceExtent=f}},niceExtent:function(n){vn.niceExtent.call(this,n);var t=this._originalScale;t.__fixMin=n.fixMin;t.__fixMax=n.fixMax}});t(["contain","normalize"],function(n){tct.prototype[n]=function(t){return t=df(t)/df(this.base),an[n].call(this,t)}});tct.create=function(){return new tct};var rc={getFormattedLabels:function(){return ict(this.axis,this.get("axisLabel.formatter"))},getCategories:function(){return this.get("type")==="category"&&i(this.get("data"),fcr)},getMin:function(n){var i=this.option,t=!n&&i.rangeStart!=null?i.rangeStart:i.min;return this.axis&&t!=null&&t!=="dataMin"&&typeof t!="function"&&!kv(t)&&(t=this.axis.scale.parse(t)),t},getMax:function(n){var i=this.option,t=!n&&i.rangeEnd!=null?i.rangeEnd:i.max;return this.axis&&t!=null&&t!=="dataMax"&&typeof t!="function"&&!kv(t)&&(t=this.axis.scale.parse(t)),t},getNeedCrossZero:function(){var n=this.option;return n.rangeStart!=null||n.rangeEnd!=null?!1:!n.scale},getCoordSysModel:pi,setRange:function(n,t){this.option.rangeStart=n;this.option.rangeEnd=t},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},ecr=yf({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,t){var i=t.cx,r=t.cy,f=t.width/2,u=t.height/2;n.moveTo(i,r-u);n.lineTo(i+f,r+u);n.lineTo(i-f,r+u);n.closePath()}}),ocr=yf({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,t){var i=t.cx,r=t.cy,u=t.width/2,f=t.height/2;n.moveTo(i,r-f);n.lineTo(i+u,r);n.lineTo(i,r+f);n.lineTo(i-u,r);n.closePath()}}),scr=yf({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,t){var r=t.x,o=t.y,c=t.width/5*3,l=Math.max(c,t.height),i=c/2,u=i*i/(l-i),f=o-l+i+u,e=Math.asin(u/i),s=Math.cos(e)*i,a=Math.sin(e),v=Math.cos(e),h=i*.6,y=i*.7;n.moveTo(r-s,f+u);n.arc(r,f,i,Math.PI-e,Math.PI*2+e);n.bezierCurveTo(r+s-a*h,f+u+v*h,r,o-y,r,o);n.bezierCurveTo(r,o-y,r-s+a*h,f+u+v*h,r-s,f+u);n.closePath()}}),hcr=yf({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,t){var u=t.height,e=t.width,i=t.x,r=t.y,f=e/3*2;n.moveTo(i,r);n.lineTo(i+f,r+u);n.lineTo(i,r+u/4*3);n.lineTo(i-f,r+u);n.lineTo(i,r);n.closePath()}}),ccr={line:cu,rect:ot,roundRect:ot,square:ot,circle:lh,diamond:ocr,pin:scr,arrow:hcr,triangle:ecr},lcr={line:function(n,t,i,r,u){u.x1=n;u.y1=t+r/2;u.x2=n+i;u.y2=t+r/2},rect:function(n,t,i,r,u){u.x=n;u.y=t;u.width=i;u.height=r},roundRect:function(n,t,i,r,u){u.x=n;u.y=t;u.width=i;u.height=r;u.r=Math.min(i,r)/4},square:function(n,t,i,r,u){var f=Math.min(i,r);u.x=n;u.y=t;u.width=f;u.height=f},circle:function(n,t,i,r,u){u.cx=n+i/2;u.cy=t+r/2;u.r=Math.min(i,r)/2},diamond:function(n,t,i,r,u){u.cx=n+i/2;u.cy=t+r/2;u.width=i;u.height=r},pin:function(n,t,i,r,u){u.x=n+i/2;u.y=t+r/2;u.width=i;u.height=r},arrow:function(n,t,i,r,u){u.x=n+i/2;u.y=t+r/2;u.width=i;u.height=r},triangle:function(n,t,i,r,u){u.cx=n+i/2;u.cy=t+r/2;u.width=i;u.height=r}},uct={};t(ccr,function(n,t){uct[t]=new n});lfi=yf({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var n=this.style,t=this.shape;t.symbolType==="pin"&&n.textPosition==="inside"&&(n.textPosition=["50%","40%"],n.textAlign="center",n.textVerticalAlign="middle")},buildPath:function(n,t,i){var u=t.symbolType,r=uct[u];t.symbolType!=="none"&&(r||(u="rect",r=uct[u]),lcr[u](t.x,t.y,t.width,t.height,r.shape),r.buildPath(n,r.shape,i))}});afi=(Object.freeze||Object)({createList:vcr,createScale:ycr,mixinAxisModelCommonMethods:pcr,completeDimensions:rr,createSymbol:ru});fct=ti;ect=[0,1];ri=function(n,t,i){this.dim=n;this.scale=t;this._extent=i||[0,0];this.inverse=!1;this.onBand=!1;this._labelInterval};ri.prototype={constructor:ri,contain:function(n){var t=this._extent,i=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return n>=i&&n<=r},containData:function(n){return this.contain(this.dataToCoord(n))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(n){return fot(n||this.scale.getExtent(),this._extent)},setExtent:function(n,t){var i=this._extent;i[0]=n;i[1]=t},dataToCoord:function(n,t){var i=this._extent,r=this.scale;return n=r.normalize(n),this.onBand&&r.type==="ordinal"&&(i=i.slice(),vfi(i,r.count())),fct(n,ect,i,t)},coordToData:function(n,t){var i=this._extent,r=this.scale,u;return this.onBand&&r.type==="ordinal"&&(i=i.slice(),vfi(i,r.count())),u=fct(n,i,ect,t),this.scale.scale(u)},pointToData:function(){},getTicksCoords:function(n){var r,u,t;if(this.onBand&&!n){for(r=this.getBands(),u=[],t=0;t<r.length;t++)u.push(r[t][0]);return r[t-1]&&u.push(r[t-1][1]),u}return i(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){return i(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var r=this.getExtent(),u=[],t=this.scale.count(),i=r[0],e=r[1],f=e-i,n=0;n<t;n++)u.push([f*n/t+i,f*(n+1)/t+i]);return u},getBandWidth:function(){var t=this._extent,i=this.scale.getExtent(),n=i[1]-i[0]+(this.onBand?1:0),r;return n===0&&(n=1),r=Math.abs(t[1]-t[0]),Math.abs(r)/n},isHorizontal:null,getRotate:null,getLabelInterval:function(){var n=this._labelInterval,r,t;return n||(r=this.model,t=r.getModel("axisLabel"),n=t.get("interval"),this.type==="category"&&(n==null||n==="auto")&&(n=cfi(i(this.scale.getTicks(),this.dataToCoord,this),r.getFormattedLabels(),t.getFont(),this.getRotate?this.getRotate():this.isHorizontal&&!this.isHorizontal()?90:0,t.get("rotate"))),this._labelInterval=n),n}};yfi=1e-8;wn.prototype={constructor:wn,properties:null,getBoundingRect:function(){var f=this._rect,i,s;if(f)return f;var r=Number.MAX_VALUE,n=[r,r],t=[-r,-r],e=[],o=[],u=this.geometries;for(i=0;i<u.length;i++)u[i].type==="polygon"&&(s=u[i].exterior,tti(s,e,o),se(n,n,e),he(t,t,o));return i===0&&(n[0]=n[1]=t[0]=t[1]=0),this._rect=new p(n[0],n[1],t[0]-n[0],t[1]-n[1])},contain:function(n){var o=this.getBoundingRect(),i=this.geometries,t,f,e,r,u;if(!o.contain(n[0],n[1]))return!1;n:for(t=0,f=i.length;t<f;t++)if(i[t].type==="polygon"&&(e=i[t].exterior,r=i[t].interiors,uc(e,n[0],n[1]))){for(u=0;u<(r?r.length:0);u++)if(uc(r[u]))continue n;return!0}return!1},transformTo:function(n,t,i,r){var f=this.getBoundingRect(),l=f.width/f.height,e,c,o,s,u;i?r||(r=i/l):i=l*r;var a=new p(n,t,i,r),v=f.calculateTransform(a),h=this.geometries;for(e=0;e<h.length;e++)if(h[e].type==="polygon"){for(c=h[e].exterior,o=h[e].interiors,u=0;u<c.length;u++)lt(c[u],c[u],v);for(s=0;s<(o?o.length:0);s++)for(u=0;u<o[s].length;u++)lt(o[s][u],o[s][u],v)}f=this._rect;f.copy(a);this.center=[f.x+f.width/2,f.y+f.height/2]}};oct=function(n){return wcr(n),i(hr(n.features,function(n){return n.geometry&&n.properties&&n.geometry.coordinates.length>0}),function(n){var i=n.properties,r=n.geometry,u=r.coordinates,f=[],e;return r.type==="Polygon"&&f.push({type:"polygon",exterior:u[0],interiors:u.slice(1)}),r.type==="MultiPolygon"&&t(u,function(n){n[0]&&f.push({type:"polygon",exterior:n[0],interiors:n.slice(1)})}),e=new wn(i.name,f,i.cp),e.properties=i,e})};sct={};t(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(n){sct[n]=pkt[n]});ci.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(n,t){if(f){var i=n.coordinateSystem;if(i!=="polar"&&i!=="cartesian2d")throw new Error("Line not support coordinateSystem besides cartesian and polar");}return os(n.data,this,t)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:Infinity}});au=la.prototype;au._createSymbol=function(n,t,i,r){this.removeAll();var f=t.getItemVisual(i,"color"),u=ru(n,-1,-1,2,2,f);u.attr({z2:100,culling:!0,scale:hct(r)});u.drift=kcr;this._symbolType=n;this.add(u)};au.stopSymbolAnimation=function(n){this.childAt(0).stopAnimation(n)};au.getSymbolPath=function(){return this.childAt(0)};au.getScale=function(){return this.childAt(0).scale};au.highlight=function(){this.childAt(0).trigger("emphasis")};au.downplay=function(){this.childAt(0).trigger("normal")};au.setZ=function(n,t){var i=this.childAt(0);i.zlevel=n;i.z=t};au.setDraggable=function(n){var t=this.childAt(0);t.draggable=n;t.cursor=n?"move":"pointer"};au.updateData=function(n,t,i){var r;this.silent=!1;var e=n.getItemVisual(t,"symbol")||"circle",u=n.hostModel,f=bcr(n,t),o=e!==this._symbolType;if(o?this._createSymbol(e,n,t,f):(r=this.childAt(0),r.silent=!1,k(r,{scale:hct(f)},u,t)),this._updateCommon(n,t,f,i),o){var r=this.childAt(0),s=i&&i.fadeIn,h={scale:r.scale.slice()};s&&(h.style={opacity:r.style.opacity});r.scale=[0,0];s&&(r.style.opacity=0);fr(r,h,u,t)}this._seriesModel=u};var dcr=["itemStyle","normal"],gcr=["itemStyle","emphasis"],nlr=["label","normal"],tlr=["label","emphasis"];au._updateCommon=function(n,t,i,r){var f=this.childAt(0),k=n.hostModel,d=n.getItemVisual(t,"color"),e,v,y,l,p,o,w,b;f.type!=="image"&&f.useStyle({strokeNoScale:!0});var g=r&&r.itemStyle,h=r&&r.hoverItemStyle,nt=r&&r.symbolRotate,c=r&&r.symbolOffset,tt=r&&r.labelModel,it=r&&r.hoverLabelModel,rt=r&&r.hoverAnimation,a=r&&r.cursorStyle;if(!r||n.hasItemOption?(e=r&&r.itemModel?r.itemModel:n.getItemModel(t),g=e.getModel(dcr).getItemStyle(["color"]),h=e.getModel(gcr).getItemStyle(),nt=e.getShallow("symbolRotate"),c=e.getShallow("symbolOffset"),tt=e.getModel(nlr),it=e.getModel(tlr),rt=e.getShallow("hoverAnimation"),a=e.getShallow("cursor")):h=s({},h),v=f.style,f.attr("rotation",(nt||0)*Math.PI/180||0),c&&f.attr("position",[u(c[0],i[0]),u(c[1],i[1])]),a&&f.attr("cursor",a),f.setColor(d,r&&r.symbolInnerColor),f.setStyle(g),y=n.getItemVisual(t,"opacity"),y!=null&&(v.opacity=y),l=r&&r.useNameLabel,p=!l&&bfi(n),(l||p!=null)&&gu(v,h,tt,it,{labelFetcher:k,labelDataIndex:t,defaultText:l?n.getName(t):n.get(p,t),isRectText:!0,autoColor:d}),f.off("mouseover").off("mouseout").off("emphasis").off("normal"),f.hoverStyle=h,vt(f),o=hct(i),rt&&k.isAnimationEnabled()){w=function(){var n=o[1]/o[0];this.animateTo({scale:[Math.max(o[0]*1.1,o[0]+3),Math.max(o[1]*1.1,o[1]+3*n)]},400,"elasticOut")};b=function(){this.animateTo({scale:o},400,"elasticOut")};f.on("mouseover",w).on("mouseout",b).on("emphasis",w).on("normal",b)}};au.fadeOut=function(n,t){var i=this.childAt(0);this.silent=i.silent=!0;t&&t.keepLabel||(i.style.text=null);k(i,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,n)};st(la,e);bn=aa.prototype;bn.updateData=function(n,t){var r=this.group,i=n.hostModel,u=this._data,f=this._symbolCtor,e={itemStyle:i.getModel("itemStyle.normal").getItemStyle(["color"]),hoverItemStyle:i.getModel("itemStyle.emphasis").getItemStyle(),symbolRotate:i.get("symbolRotate"),symbolOffset:i.get("symbolOffset"),hoverAnimation:i.get("hoverAnimation"),labelModel:i.getModel("label.normal"),hoverLabelModel:i.getModel("label.emphasis"),cursorStyle:i.get("cursor")};n.diff(u).add(function(i){var o=n.getItemLayout(i),u;kfi(n,i,t)&&(u=new f(n,i,e),u.attr("position",o),n.setItemGraphicEl(i,u),r.add(u))}).update(function(o,s){var h=u.getItemGraphicEl(s),c=n.getItemLayout(o);if(!kfi(n,o,t)){r.remove(h);return}h?(h.updateData(n,o,e),k(h,{position:c},i)):(h=new f(n,o),h.attr("position",c));r.add(h);n.setItemGraphicEl(o,h)}).remove(function(n){var t=u.getItemGraphicEl(n);t&&t.fadeOut(function(){r.remove(t)})}).execute();this._data=n};bn.updateLayout=function(){var n=this._data;n&&n.eachItemGraphicEl(function(t,i){var r=n.getItemLayout(i);t.attr("position",r)})};bn.remove=function(n){var t=this.group,i=this._data;i&&(n?i.eachItemGraphicEl(function(n){n.fadeOut(function(){t.remove(n)})}):t.removeAll())};var rlr=function(n,t,i,r,u,f){for(var s,b,l,k,d,e,g=ilr(n,t),a=[],v=[],y=[],p=[],nt=[],h=[],c=[],w=f.dimensions,o=0;o<g.length;o++){s=g[o];b=!0;switch(s.cmd){case"=":l=n.getItemLayout(s.idx);k=t.getItemLayout(s.idx1);(isNaN(l[0])||isNaN(l[1]))&&(l=k.slice());a.push(l);v.push(k);y.push(i[s.idx]);p.push(r[s.idx1]);c.push(t.getRawIndex(s.idx1));break;case"+":e=s.idx;a.push(u.dataToPoint([t.get(w[0],e,!0),t.get(w[1],e,!0)]));v.push(t.getItemLayout(e).slice());y.push(gfi(u,t,e));p.push(r[e]);c.push(t.getRawIndex(e));break;case"-":e=s.idx;d=n.getRawIndex(e);d!==e?(a.push(n.getItemLayout(e)),v.push(f.dataToPoint([n.get(w[0],e,!0),n.get(w[1],e,!0)])),y.push(i[e]),p.push(gfi(f,n,e)),c.push(d)):b=!1}b&&(nt.push(s),h.push(h.length))}h.sort(function(n,t){return c[n]-c[t]});var tt=[],it=[],rt=[],ut=[],ft=[];for(o=0;o<h.length;o++)e=h[o],tt[o]=a[e],it[o]=v[e],rt[o]=y[e],ut[o]=p[e],ft[o]=nt[e];return{current:tt,next:it,stackedOnCurrent:rt,stackedOnNext:ut,status:ft}},nei=se,tei=he,iei=dv,rei=di,cct=[],ss=[],hs=[];uei=tt.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:fst(tt.prototype.brush),buildPath:function(n,t){var u=t.points,r=0,i=u.length,f=act(u,t.smoothConstraint);if(t.connectNulls){for(;i>0;i--)if(!cs(u[i-1]))break;for(;r<i;r++)if(!cs(u[r]))break}while(r<i)r+=lct(n,u,r,i,i,1,f.min,f.max,t.smooth,t.smoothMonotone,t.connectNulls)+1}});vct=tt.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:fst(tt.prototype.brush),buildPath:function(n,t){var u=t.points,e=t.stackedOnPoints,r=0,i=u.length,o=t.smoothMonotone,s=act(u,t.smoothConstraint),h=act(e,t.smoothConstraint),f;if(t.connectNulls){for(;i>0;i--)if(!cs(u[i-1]))break;for(;r<i;r++)if(!cs(u[r]))break}while(r<i)f=lct(n,u,r,i,i,1,s.min,s.max,t.smooth,o,t.connectNulls),lct(n,e,r+f-1,f,i,-1,h.min,h.max,t.stackedOnSmooth,o,t.connectNulls),r+=f+1,n.closePath()}});or.extend({type:"line",init:function(){var t=new e,n=new aa;this.group.add(n.group);this._symbolDraw=n;this._lineGroup=t},render:function(n,t,i){var r=n.coordinateSystem,nt=this.group,u=n.getData(),ft=n.getModel("lineStyle.normal"),tt=n.getModel("areaStyle.normal"),f=u.mapArray(u.getItemLayout,!0),it=r.type==="polar",et=this._coordSys,p=this._symbolDraw,h=this._polyline,e=this._polygon,c=this._lineGroup,a=n.get("animation"),w=!tt.isEmpty(),o=ulr(r,u),v=n.get("showSymbol"),rt=v&&!it&&!n.get("showAllSymbol")&&this._getSymbolIgnoreFunc(u,r),b=this._data,s,k,y,d,g,ut;b&&b.eachItemGraphicEl(function(n,t){n.__temp&&(nt.remove(n),b.setItemGraphicEl(t,null))});v||p.remove();nt.add(c);s=!it&&n.get("step");h&&et.type===r.type&&s===this._step?(w&&!e?e=this._newPolygon(f,o,r,a):e&&!w&&(c.remove(e),e=this._polygon=null),c.setClipPath(hei(r,!1,n)),v&&p.updateData(u,rt),u.eachItemGraphicEl(function(n){n.stopAnimation(!0)}),fei(this._stackedOnPoints,o)&&fei(this._points,f)||(a?this._updateAnimation(u,o,r,i,s):(s&&(f=ls(f,r,s),o=ls(o,r,s)),h.setShape({points:f}),e&&e.setShape({points:f,stackedOnPoints:o})))):(v&&p.updateData(u,rt),s&&(f=ls(f,r,s),o=ls(o,r,s)),h=this._newPolyline(f,r,a),w&&(e=this._newPolygon(f,o,r,a)),c.setClipPath(hei(r,!0,n)));k=olr(u,r)||u.getVisual("color");h.useStyle(l(ft.getLineStyle(),{fill:"none",stroke:k,lineJoin:"bevel"}));y=n.get("smooth");y=eei(n.get("smooth"));h.setShape({smooth:y,smoothMonotone:n.get("smoothMonotone"),connectNulls:n.get("connectNulls")});e&&(d=u.stackedOn,g=0,e.useStyle(l(tt.getAreaStyle(),{fill:k,opacity:.7,lineJoin:"bevel"})),d&&(ut=d.hostModel,g=eei(ut.get("smooth"))),e.setShape({smooth:y,stackedOnSmooth:g,smoothMonotone:n.get("smoothMonotone"),connectNulls:n.get("connectNulls")}));this._data=u;this._coordSys=r;this._stackedOnPoints=o;this._points=f;this._step=s},dispose:function(){},highlight:function(n,t,i,r){var e=n.getData(),f=ig(e,r),u,o;if(!(f instanceof Array)&&f!=null&&f>=0){if(u=e.getItemGraphicEl(f),!u){if(o=e.getItemLayout(f),!o)return;u=new la(e,f);u.position=o;u.setZ(n.get("zlevel"),n.get("z"));u.ignore=isNaN(o[0])||isNaN(o[1]);u.__temp=!0;e.setItemGraphicEl(f,u);u.stopSymbolAnimation(!0);this.group.add(u)}u.highlight()}else or.prototype.highlight.call(this,n,t,i,r)},downplay:function(n,t,i,r){var e=n.getData(),f=ig(e,r),u;f!=null&&f>=0?(u=e.getItemGraphicEl(f),u&&(u.__temp?(e.setItemGraphicEl(f,null),this.group.remove(u)):u.downplay())):or.prototype.downplay.call(this,n,t,i,r)},_newPolyline:function(n){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new uei({shape:{points:n},silent:!0,z2:10}),this._lineGroup.add(t),this._polyline=t,t},_newPolygon:function(n,t){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new vct({shape:{points:n,stackedOnPoints:t},silent:!0}),this._lineGroup.add(i),this._polygon=i,i},_getSymbolIgnoreFunc:function(n,t){var i=t.getAxesByScale("ordinal")[0];if(i&&i.isLabelIgnored)return h(i.isLabelIgnored,i)},_updateAnimation:function(n,t,i,r,u){var e=this._polyline,c=this._polygon,y=n.hostModel,f=rlr(this._data,n,this._stackedOnPoints,t,this._coordSys,i),l=f.current,p=f.stackedOnCurrent,a=f.next,w=f.stackedOnNext,s,h,o,b,v;for(u&&(l=ls(f.current,i,u),p=ls(f.stackedOnCurrent,i,u),a=ls(f.next,i,u),w=ls(f.stackedOnNext,i,u)),e.shape.__points=f.current,e.shape.points=l,k(e,{shape:{points:a}},y),c&&(c.setShape({points:l,stackedOnPoints:p}),k(c,{shape:{points:a,stackedOnPoints:w}},y)),s=[],h=f.status,o=0;o<h.length;o++)b=h[o].cmd,b==="="&&(v=n.getItemGraphicEl(h[o].idx1),v&&s.push({el:v,ptIdx:o}));e.animators&&e.animators.length&&e.animators[0].during(function(){for(var t,n=0;n<s.length;n++)t=s[n].el,t.attr("position",e.shape.__points[s[n].ptIdx])})},remove:function(){var t=this.group,n=this._data;this._lineGroup.removeAll();this._symbolDraw.remove(!0);n&&n.eachItemGraphicEl(function(i,r){i.__temp&&(t.remove(i),n.setItemGraphicEl(r,null))});this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var fc=function(n,t,i,r){r.eachRawSeriesByType(n,function(n){var u=n.getData(),e=n.get("symbol")||t,f=n.get("symbolSize");u.setVisual({legendSymbol:i||e,symbol:e,symbolSize:f});r.isSeriesFiltered(n)||(typeof f=="function"&&u.each(function(t){var i=n.getRawValue(t),r=n.getDataParams(t);u.setItemVisual(t,"symbolSize",f(i,r))}),u.each(function(n){var t=u.getItemModel(n),i=t.getShallow("symbol",!0),r=t.getShallow("symbolSize",!0);i!=null&&u.setItemVisual(n,"symbol",i);r!=null&&u.setItemVisual(n,"symbolSize",r)}))})},yct=function(n,t){t.eachSeriesByType(n,function(n){var r=n.getData(),i=n.coordinateSystem,t,f,u;if(i){for(t=[],f=i.dimensions,u=0;u<f.length;u++)t.push(n.coordDimToDataDim(i.dimensions[u])[0]);t.length===1?r.each(t[0],function(n,t){r.setItemLayout(t,isNaN(n)?[NaN,NaN]:i.dataToPoint(n))}):t.length===2&&r.each(t,function(n,t,u){r.setItemLayout(u,isNaN(n)||isNaN(t)?[NaN,NaN]:i.dataToPoint([n,t]))},!0)}})},slr={average:function(n){for(var r=0,i=0,t=0;t<n.length;t++)isNaN(n[t])||(r+=n[t],i++);return i===0?NaN:r/i},sum:function(n){for(var i=0,t=0;t<n.length;t++)i+=n[t]||0;return i},max:function(n){for(var i=-Infinity,t=0;t<n.length;t++)n[t]>i&&(i=n[t]);return i},min:function(n){for(var i=Infinity,t=0;t<n.length;t++)n[t]<i&&(i=n[t]);return i},nearest:function(n){return n[0]}},hlr=function(n){return Math.round(n.length/2)},clr=function(n,t){t.eachSeriesByType(n,function(n){var i=n.getData(),t=n.get("sampling"),u=n.coordinateSystem,r;if(u.type==="cartesian2d"&&t){var f=u.getBaseAxis(),s=u.getOtherAxis(f),e=f.getExtent(),h=e[1]-e[0],o=Math.round(i.count()/h);o>1&&(typeof t=="string"?r=slr[t]:typeof t=="function"&&(r=t),r&&(i=i.downSample(s.dim,1/o,r,hlr),n.setData(i)))}},this)};ap=function(n){this._axes={};this._dimList=[];this.name=n||""};ap.prototype={constructor:ap,type:"cartesian",getAxis:function(n){return this._axes[n]},getAxes:function(){return i(this._dimList,llr,this)},getAxesByScale:function(n){return n=n.toLowerCase(),hr(this.getAxes(),function(t){return t.scale.type===n})},addAxis:function(n){var t=n.dim;this._axes[t]=n;this._dimList.push(t)},dataToCoord:function(n){return this._dataCoordConvert(n,"dataToCoord")},coordToData:function(n){return this._dataCoordConvert(n,"coordToData")},_dataCoordConvert:function(n,t){for(var i,e,u=this._dimList,f=n instanceof Array?[]:{},r=0;r<u.length;r++)i=u[r],e=this._axes[i],f[i]=e[t](n[i]);return f}};vp.prototype={constructor:vp,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(n){var t=this.getAxis("x"),i=this.getAxis("y");return t.contain(t.toLocalCoord(n[0]))&&i.contain(i.toLocalCoord(n[1]))},containData:function(n){return this.getAxis("x").containData(n[0])&&this.getAxis("y").containData(n[1])},dataToPoint:function(n,t){var i=this.getAxis("x"),r=this.getAxis("y");return[i.toGlobalCoord(i.dataToCoord(n[0],t)),r.toGlobalCoord(r.dataToCoord(n[1],t))]},pointToData:function(n,t){var i=this.getAxis("x"),r=this.getAxis("y");return[i.coordToData(i.toLocalCoord(n[0]),t),r.coordToData(r.toLocalCoord(n[1]),t)]},getOtherAxis:function(n){return this.getAxis(n.dim==="x"?"y":"x")}};st(vp,ap);yp=function(n,t,i,r,u){ri.call(this,n,t,i);this.type=r||"value";this.position=u||"bottom"};yp.prototype={constructor:yp,index:0,onZero:!1,model:null,isHorizontal:function(){var n=this.position;return n==="top"||n==="bottom"},getGlobalExtent:function(n){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),n&&t[0]>t[1]&&t.reverse(),t},getOtherAxis:function(){this.grid.getOtherAxis()},isLabelIgnored:function(n){if(this.type==="category"){var t=this.getLabelInterval();return typeof t=="function"&&!t(n,this.scale.getLabel(n))||n%(t+1)}},pointToData:function(n,t){return this.coordToData(this.toLocalCoord(n[this.dim==="x"?0:1]),t)},toLocalCoord:null,toGlobalCoord:null};st(yp,ri);pct={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}};be={};be.categoryAxis=a({boundaryGap:!0,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},pct);be.valueAxis=a({boundaryGap:[0,0],splitNumber:5},pct);be.timeAxis=l({scale:!0,min:"dataMin",max:"dataMax"},be.valueAxis);be.logAxis=l({scale:!0,logBase:10},be.valueAxis);var alr=["value","category","time","log"],va=function(n,i,r,u){t(alr,function(t){i.extend({type:n+"Axis."+t,mergeDefaultAndTheme:function(i,u){var f=this.layoutMode,e=f?ua(i):{},o=u.getTheme();a(i,o.get(t+"Axis"));a(i,this.getDefaultOption());i.type=r(n,i);f&&is(i,e,f)},defaultOption:bv([{},be[t+"Axis"],u],!0)})});g.registerSubTypeDefaulter(n+"Axis",o(r,n))},ya=g.extend({type:"cartesian2dAxis",axis:null,init:function(){ya.superApply(this,"init",arguments);this.resetRange()},mergeOption:function(){ya.superApply(this,"mergeOption",arguments);this.resetRange()},restoreData:function(){ya.superApply(this,"restoreData",arguments);this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});a(ya.prototype,rc);wct={offset:0};va("x",ya,cei,wct);va("y",ya,cei,wct);g.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});var gf=t,vlr=ucr,lei=ic;bi=pa.prototype;bi.type="grid";bi.axisPointerEnabled=!0;bi.getRect=function(){return this._rect};bi.update=function(n,t){var i=this._axesMap;this._updateScale(n,this.model);gf(i.x,function(n){lei(n.scale,n.model)});gf(i.y,function(n){lei(n.scale,n.model)});gf(i.x,function(n){aei(i,"y",n)});gf(i.y,function(n){aei(i,"x",n)});this.resize(this.model,t)};bi.resize=function(n,t,i){function f(){gf(u,function(n){var t=n.isHorizontal(),i=t?[0,r.width]:[0,r.height],u=n.inverse?1:0;n.setExtent(i[u],i[1-u]);wlr(n,t?r.x:r.y)})}var r=ai(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),u;this._rect=r;u=this._axesList;f();!i&&n.get("containLabel")&&(gf(u,function(n){var t,u,i;n.model.get("axisLabel.inside")||(t=plr(n),t&&(u=n.isHorizontal()?"height":"width",i=n.model.get("axisLabel.margin"),r[u]-=t[u]+i,n.position==="top"?r.y+=t.height+i:n.position==="left"&&(r.x+=t.width+i)))}),f())};bi.getAxis=function(n,t){var i=this._axesMap[n],r;if(i!=null){if(t==null)for(r in i)if(i.hasOwnProperty(r))return i[r];return i[t]}};bi.getAxes=function(){return this._axesList.slice()};bi.getCartesian=function(n,t){var u,i,r;if(n!=null&&t!=null)return u="x"+n+"y"+t,this._coordsMap[u];for(y(n)&&(t=n.yAxisIndex,n=n.xAxisIndex),i=0,r=this._coordsList;i<r.length;i++)if(r[i].getAxis("x").index===n||r[i].getAxis("y").index===t)return r[i]};bi.getCartesians=function(){return this._coordsList.slice()};bi.convertToPixel=function(n,t,i){var r=this._findConvertTarget(n,t);return r.cartesian?r.cartesian.dataToPoint(i):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(i)):null};bi.convertFromPixel=function(n,t,i){var r=this._findConvertTarget(n,t);return r.cartesian?r.cartesian.pointToData(i):r.axis?r.axis.coordToData(r.axis.toLocalCoord(i)):null};bi._findConvertTarget=function(n,t){var i=t.seriesModel,u=t.xAxisModel||i&&i.getReferringComponents("xAxis")[0],f=t.yAxisModel||i&&i.getReferringComponents("yAxis")[0],o=t.gridModel,h=this._coordsList,r,e,s;return i?(r=i.coordinateSystem,w(h,r)<0&&(r=null)):u&&f?r=this.getCartesian(u.componentIndex,f.componentIndex):u?e=this.getAxis("x",u.componentIndex):f?e=this.getAxis("y",f.componentIndex):o&&(s=o.coordinateSystem,s===this&&(r=this._coordsList[0])),{cartesian:r,axis:e}};bi.containPoint=function(n){var t=this._coordsList[0];if(t)return t.containPoint(n)};bi._initCartesian=function(n,t){function f(f){return function(e,o){var s,h,c;bct(e,n,t)&&(s=e.get("position"),f==="x"?s!=="top"&&s!=="bottom"&&(s="bottom",r[s]&&(s=s==="top"?"bottom":"top")):s!=="left"&&s!=="right"&&(s="left",r[s]&&(s=s==="left"?"right":"left")),r[s]=!0,h=new yp(f,ca(e),[0,0],e.get("type"),s),c=h.type==="category",h.onBand=c&&e.get("boundaryGap"),h.inverse=e.get("inverse"),h.onZero=e.get("axisLine.onZero"),h.onZeroAxisIndex=e.get("axisLine.onZeroAxisIndex"),e.axis=h,h.model=e,h.grid=this,h.index=o,this._axesList.push(h),i[f][o]=h,u[f]++)}}var r={left:!1,right:!1,top:!1,bottom:!1},i={x:{},y:{}},u={x:0,y:0};if(t.eachComponent("xAxis",f("x"),this),t.eachComponent("yAxis",f("y"),this),!u.x||!u.y){this._axesMap={};this._axesList=[];return}this._axesMap=i;gf(i.x,function(t,r){gf(i.y,function(i,u){var e="x"+r+"y"+u,f=new vp(e);f.grid=this;f.model=n;this._coordsMap[e]=f;this._coordsList.push(f);f.addAxis(t);f.addAxis(i)},this)},this)};bi._updateScale=function(n,i){function r(n,t,i){gf(i.coordDimToDataDim(t.dim),function(i){t.scale.unionExtentFromData(n,i)})}t(this._axesList,function(n){n.scale.setExtent(Infinity,-Infinity)});n.eachSeries(function(t){if(wei(t)){var f=pei(t,n),e=f[0],o=f[1];if(!bct(e,i,n)||!bct(o,i,n))return;var s=this.getCartesian(e.componentIndex,o.componentIndex),u=t.getData(),h=s.getAxis("x"),c=s.getAxis("y");u.type==="list"&&(r(u,h,t),r(u,c,t))}},this)};bi.getTooltipAxes=function(n){var t=[],i=[];return gf(this.getCartesians(),function(r){var u=n!=null&&n!=="auto"?r.getAxis(n):r.getBaseAxis(),f=r.getOtherAxis(u);w(t,u)<0&&t.push(u);w(i,f)<0&&i.push(f)}),{baseAxes:t,otherAxes:i}};yei=["xAxis","yAxis"];pa.create=function(n,t){var i=[];return n.eachComponent("grid",function(r,u){var f=new pa(r,n,t);f.name="grid_"+u;f.resize(r,t,!0);r.coordinateSystem=f;i.push(f)}),n.eachSeries(function(t){var o;if(wei(t)){var r=pei(t,n),i=r[0],u=r[1],e=i.getCoordSysModel();if(f){if(!e)throw new Error('Grid "'+kt(i.get("gridIndex"),i.get("gridId"),0)+'" not found');if(i.getCoordSysModel()!==u.getCoordSysModel())throw new Error("xAxis and yAxis must use the same grid");}o=e.coordinateSystem;t.coordinateSystem=o.getCartesian(i.componentIndex,u.componentIndex)}}),i};pa.dimensions=pa.prototype.dimensions=vp.prototype.dimensions;ir.register("cartesian2d",pa);ke=Math.PI;ki=function(n,t){this.opt=t;this.axisModel=n;l(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0});this.group=new e;var i=new e({position:t.position.slice(),rotation:t.rotation});i.updateTransform();this._transform=i.transform;this._dumbGroup=i};ki.prototype={constructor:ki,hasBuilder:function(n){return!!kct[n]},add:function(n){kct[n].call(this)},getGroup:function(){return this.group}};kct={axisLine:function(){var e=this.opt,f=this.axisModel,h,n,i,c,l;if(f.get("axisLine.show")){var a=this.axisModel.axis.getExtent(),o=this._transform,r=[a[0],0],u=[a[1],0];o&&(lt(r,r,o),lt(u,u,o));h=s({lineCap:"round"},f.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new cu(vh({anid:"line",shape:{x1:r[0],y1:r[1],x2:u[0],y2:u[1]},style:h,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1})));n=f.get("axisLine.symbol");i=f.get("axisLine.symbolSize");n!=null&&(typeof n=="string"&&(n=[n,n]),(typeof i=="string"||typeof i=="number")&&(i=[i,i]),c=i[0],l=i[1],t([[e.rotation+Math.PI/2,r],[e.rotation-Math.PI/2,u]],function(t,i){if(n[i]!=="none"&&n[i]!=null){var r=ru(n[i],-c/2,-l/2,c,l,h.stroke,!0);r.attr({rotation:t[0],position:t[1],silent:!0});this.group.add(r)}},this))}},axisTickLabel:function(){var n=this.axisModel,t=this.opt,i=dlr(this,n,t),r=glr(this,n,t);klr(n,r,i)},axisName:function(){var i=this.opt,n=this.axisModel,r=kt(i.axisName,n.get("name")),f,t;if(r){var h=n.get("nameLocation"),y=i.nameDirection,c=n.getModel("nameTextStyle"),l=n.get("nameGap")||0,u=this.axisModel.axis.getExtent(),p=u[0]>u[1]?-1:1,it=[h==="start"?u[0]-p*l:h==="end"?u[1]+p*l:(u[0]+u[1])/2,gei(h)?i.labelOffset+y*l:0],e,o=n.get("nameRotate");o!=null&&(o=o*ke/180);gei(h)?e=dct(i.rotation,o!=null?o:i.rotation,y):(e=blr(i,h,o||0,u),f=i.axisNameAvailableWidth,f!=null&&(f=Math.abs(f/Math.sin(e.rotation)),isFinite(f)||(f=null)));var w=c.getFont(),a=n.get("nameTruncate",!0)||{},k=a.ellipsis,d=kt(i.nameTruncateMaxWidth,a.maxWidth,f),g=k!=null&&d!=null?ynt(r,d,w,k,{minChar:2,placeholder:a.placeholder}):r,v=n.get("tooltip",!0),nt=n.mainType,tt={componentType:nt,name:r,$vars:["name"]};tt[nt+"Index"]=n.componentIndex;t=new b({anid:"name",__fullText:r,__truncatedText:g,position:it,rotation:e.rotation,silent:kei(n),z2:1,tooltip:v&&v.show?s({content:r,formatter:function(){return r},formatterParams:tt},v):null});gt(t.style,c,{text:g,textFont:w,textFill:c.getTextColor()||n.get("axisLine.lineStyle.color"),textAlign:e.textAlign,textVerticalAlign:e.textVerticalAlign});n.get("triggerEvent")&&(t.eventData=bei(n),t.eventData.targetType="axisName",t.eventData.name=r);this._dumbGroup.add(t);t.updateTransform();this.group.add(t);t.decomposeTransform()}}};dct=ki.innerTextLayout=function(n,t,i){var r=eot(t-n),u,f;return py(r)?(f=i>0?"top":"bottom",u="center"):py(r-ke)?(f=i>0?"bottom":"top",u="center"):(f="middle",u=r>0&&r<ke?i>0?"right":"left":i>0?"left":"right"),{rotation:r,textAlign:u,textVerticalAlign:f}};gct=ki.ifIgnoreOnTick=function(n,t,i,r,u,f){if(t===0&&u||t===r-1&&f)return!1;var e,o=n.scale;return o.type==="ordinal"&&(typeof i=="function"?(e=o.getTicks()[t],!i(e,o.getLabel(e))):t%(i+1))};noi=ki.getInterval=function(n,t){var i=n.get("interval");return(i==null||i=="auto")&&(i=t),i};ec=t;kn=o;br=yi({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(n,t,i,r){this.axisPointerClass&&far(n);br.superApply(this,"render",arguments);toi(this,n,t,i,r,!0)},updateAxisPointer:function(n,t,i,r){toi(this,n,t,i,r,!1)},remove:function(n,t){var i=this._axisPointer;i&&i.remove(t);br.superApply(this,"remove",arguments)},dispose:function(n,t){ioi(this,t);br.superApply(this,"dispose",arguments)}});dn=[];br.registerAxisPointerClass=function(n,t){if(f&&dn[n])throw new Error("axisPointer "+n+" exists");dn[n]=t};br.getAxisPointerClass=function(n){return n&&dn[n]};var roi=ki.ifIgnoreOnTick,uoi=ki.getInterval,oar=["axisLine","axisTickLabel","axisName"],sar=["splitArea","splitLine"],ult=br.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(n,i,r,u){var o;if(this.group.removeAll(),o=this._axisGroup,this._axisGroup=new e,this.group.add(this._axisGroup),n.get("show")){var s=n.getCoordSysModel(),h=rlt(s,n),f=new ki(n,h);t(oar,f.add,f);this._axisGroup.add(f.getGroup());t(sar,function(t){n.get(t+".show")&&this["_"+t](n,s,h.labelInterval)},this);cst(o,this._axisGroup,n);ult.superCall(this,"render",n,i,r,u)}},_splitLine:function(n,t,i){var u=n.axis,h,c,p;if(!u.scale.isBlank()){var v=n.getModel("splitLine"),y=v.getModel("lineStyle"),f=y.get("color"),w=uoi(v,i);f=r(f)?f:[f];var e=t.coordinateSystem.getRect(),b=u.isHorizontal(),k=0,a=u.getTicksCoords(),d=u.scale.getTicks(),g=n.get("axisLabel.showMinLabel"),nt=n.get("axisLabel.showMaxLabel"),o=[],s=[],tt=y.getLineStyle();for(h=0;h<a.length;h++)roi(u,h,w,a.length,g,nt)||(c=u.toGlobalCoord(a[h]),b?(o[0]=c,o[1]=e.y,s[0]=c,s[1]=e.y+e.height):(o[0]=e.x,o[1]=c,s[0]=e.x+e.width,s[1]=c),p=k++%f.length,this._axisGroup.add(new cu(vh({anid:"line_"+d[h],shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:l({stroke:f[p]},tt),silent:!0}))))}},_splitArea:function(n,t,i){var u=n.axis,d,g,e,y,s,h,a,v,nt;if(!u.scale.isBlank()){var p=n.getModel("splitArea"),w=p.getModel("areaStyle"),f=w.get("color"),c=t.coordinateSystem.getRect(),o=u.getTicksCoords(),tt=u.scale.getTicks(),b=u.toGlobalCoord(o[0]),k=u.toGlobalCoord(o[0]),it=0,rt=uoi(p,i),ut=w.getAreaStyle();for(f=r(f)?f:[f],d=n.get("axisLabel.showMinLabel"),g=n.get("axisLabel.showMaxLabel"),e=1;e<o.length;e++)roi(u,e,rt,o.length,d,g)||(y=u.toGlobalCoord(o[e]),u.isHorizontal()?(s=b,h=c.y,a=y-s,v=c.height):(s=c.x,h=k,a=c.width,v=y-h),nt=it++%f.length,this._axisGroup.add(new ot({anid:"area_"+tt[e],shape:{x:s,y:h,width:a,height:v},style:l({fill:f[nt]},ut),silent:!0})),b=s+a,k=h+v)}}});ult.extend({type:"xAxis"});ult.extend({type:"yAxis"});yi({type:"grid",render:function(n){this.group.removeAll();n.get("show")&&this.group.add(new ot({shape:n.coordinateSystem.getRect(),style:l({fill:n.get("backgroundColor")},n.getItemStyle()),silent:!0,z2:-1}))}});wi(function(n){n.xAxis&&n.yAxis&&!n.grid&&(n.grid={})});pt(o(fc,"line","circle","line"));ni(o(yct,"line"));tf(ea.PROCESSOR.STATISTIC,o(clr,"line"));gn="__ec_stack_";ntt.getLayoutOnAxis=har;flt=ci.extend({type:"series.__base_bar__",getInitialData:function(n,t){return os(n.data,this,t)},getMarkerPosition:function(n){var t=this.coordinateSystem;if(t){var i=t.dataToPoint(n,!0),r=this.getData(),u=r.getLayout("offset"),f=r.getLayout("size"),e=t.getBaseAxis().isHorizontal()?0:1;return i[e]+=u+f/2,i}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,itemStyle:{}}});flt.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect"});var lar=kl([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),aar={getBarItemStyle:function(n){var i=lar(this,n),t;return this.getBorderLineDash&&(t=this.getBorderLineDash(),t&&(i.lineDash=t)),i}},yar=["itemStyle","normal","barBorderWidth"];s(it.prototype,aar);sr({type:"bar",render:function(n,t,i){var r=n.get("coordinateSystem");return r==="cartesian2d"||r==="polar"?this._render(n,t,i):f&&console.warn("Only cartesian2d and polar supported for bar."),this.group},dispose:pi,_render:function(n){var f=this.group,t=n.getData(),e=this._data,i=n.coordinateSystem,o=i.getBaseAxis(),r,u;i.type==="cartesian2d"?r=o.isHorizontal():i.type==="polar"&&(r=o.dim==="angle");u=n.isAnimationEnabled()?n:null;t.diff(e).add(function(e){if(t.hasValue(e)){var o=t.getItemModel(e),h=olt[i.type](t,e,o),s=elt[i.type](t,e,o,h,r,u);t.setItemGraphicEl(e,s);f.add(s);aoi(s,t,e,o,h,n,r,i.type==="polar")}}).update(function(o,s){var h=e.getItemGraphicEl(s),c,l;if(!t.hasValue(o)){f.remove(h);return}c=t.getItemModel(o);l=olt[i.type](t,o,c);h?k(h,{shape:l},u,o):h=elt[i.type](t,o,c,l,r,u,!0);t.setItemGraphicEl(o,h);f.add(h);aoi(h,t,o,c,l,n,r,i.type==="polar")}).remove(function(n){var t=e.getItemGraphicEl(n);i.type==="cartesian2d"?t&&coi(n,u,t):t&&loi(n,u,t)}).execute();this._data=t},remove:function(n){var i=this.group,t=this._data;n.get("animation")?t&&t.eachItemGraphicEl(function(t){t.type==="sector"?loi(t.dataIndex,n,t):coi(t.dataIndex,n,t)}):i.removeAll()}});elt={cartesian2d:function(n,t,i,r,u,f,e){var o=new ot({shape:s({},r)});if(f){var l=o.shape,h=u?"height":"width",c={};l[h]=0;c[h]=r[h];nf[e?"updateProps":"initProps"](o,{shape:c},f,t)}return o},polar:function(n,t,i,r,u,f,e){var o=new ts({shape:s({},r)});if(f){var l=o.shape,h=u?"r":"endAngle",c={};l[h]=u?0:r.startAngle;c[h]=r[h];nf[e?"updateProps":"initProps"](o,{shape:c},f,t)}return o}};olt={cartesian2d:function(n,t,i){var r=n.getItemLayout(t),u=par(i,r),f=r.width>0?1:-1,e=r.height>0?1:-1;return{x:r.x+f*u/2,y:r.y+e*u/2,width:r.width-f*u,height:r.height-e*u}},polar:function(n,t){var i=n.getItemLayout(t);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle}}};ni(o(ntt,"bar"));pt(function(n){n.eachSeriesByType("bar",function(n){var t=n.getData();t.setVisual("legendSymbol","roundRect")})});ttt={updateSelectedMap:function(n){this._targetList=n.slice();this._selectTargetMap=sl(n||[],function(n,t){return n.set(t.name,t),n},ui())},select:function(n,t){var i=t!=null?this._targetList[t]:this._selectTargetMap.get(n),r=this.get("selectedMode");r==="single"&&this._selectTargetMap.each(function(n){n.selected=!1});i&&(i.selected=!0)},unSelect:function(n,t){var i=t!=null?this._targetList[t]:this._selectTargetMap.get(n);i&&(i.selected=!1)},toggleSelected:function(n,t){var i=t!=null?this._targetList[t]:this._selectTargetMap.get(n);if(i!=null)return this[i.selected?"unSelect":"select"](n,t),i.selected},isSelected:function(n,t){var i=t!=null?this._targetList[t]:this._selectTargetMap.get(n);return i&&i.selected}};wp=sp({type:"series.pie",init:function(n){wp.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()};this.updateSelectedMap(n.data);this._defaultLabelLine(n)},mergeOption:function(n){wp.superCall(this,"mergeOption",n);this.updateSelectedMap(this.option.data)},getInitialData:function(n){var i=rr(["value"],n.data),t=new yt(i,this);return t.initData(n.data),t},getDataParams:function(n){var i=this.getData(),t=wp.superCall(this,"getDataParams",n),r=[];return i.each("value",function(n){r.push(n)}),t.percent=ent(r,n,i.hostModel.get("percentPrecision")),t.$vars.push("percent"),t},_defaultLabelLine:function(n){wh(n.labelLine,["show"]);var t=n.labelLine.normal,i=n.labelLine.emphasis;t.show=t.show&&n.label.normal.show;i.show=i.show&&n.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{normal:{rotate:!1,show:!0,position:"outer"},emphasis:{}},labelLine:{normal:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderWidth:1},emphasis:{}},animationType:"expansion",animationEasing:"cubicOut",data:[]}});nt(wp,ttt);hlt=slt.prototype;hlt.updateData=function(n,t,i){function y(){r.stopAnimation(!0);r.animateTo({shape:{r:f.r+u.get("hoverOffset")}},300,"elasticOut")}function p(){r.stopAnimation(!0);r.animateTo({shape:{r:f.r}},300,"elasticOut")}var r=this.childAt(0),u=n.hostModel,e=n.getItemModel(t),f=n.getItemLayout(t),o=s({},f),a,h,v,c;if(o.label=null,i?(r.setShape(o),a=u.getShallow("animationType"),a==="scale"?(r.shape.r=f.r0,fr(r,{shape:{r:f.r}},u,t)):(r.shape.endAngle=f.startAngle,k(r,{shape:{endAngle:f.endAngle}},u,t))):k(r,{shape:o},u,t),h=e.getModel("itemStyle"),v=n.getItemVisual(t,"color"),r.useStyle(l({lineJoin:"bevel",fill:v},h.getModel("normal").getItemStyle())),r.hoverStyle=h.getModel("emphasis").getItemStyle(),c=e.getShallow("cursor"),c&&r.attr("cursor",c),voi(this,n.getItemLayout(t),e.get("selected"),u.get("selectedOffset"),u.get("animation")),r.off("mouseover").off("mouseout").off("emphasis").off("normal"),e.get("hoverAnimation")&&u.isAnimationEnabled())r.on("mouseover",y).on("mouseout",p).on("emphasis",y).on("normal",p);this._updateLabel(n,t);vt(this)};hlt._updateLabel=function(n,t){var r=this.childAt(1),u=this.childAt(2),s=n.hostModel,e=n.getItemModel(t),v=n.getItemLayout(t),i=v.label,h=n.getItemVisual(t,"color"),f;k(r,{shape:{points:i.linePoints||[[i.x,i.y],[i.x,i.y],[i.x,i.y]]}},s,t);k(u,{style:{x:i.x,y:i.y}},s,t);u.attr({rotation:i.rotation,origin:[i.x,i.y],z2:10});var c=e.getModel("label.normal"),l=e.getModel("label.emphasis"),o=e.getModel("labelLine.normal"),a=e.getModel("labelLine.emphasis"),h=n.getItemVisual(t,"color");gu(u.style,u.hoverStyle={},c,l,{labelFetcher:n.hostModel,labelDataIndex:t,defaultText:n.getName(t),autoColor:h,useInsideStyle:!!i.inside},{textAlign:i.textAlign,textVerticalAlign:i.verticalAlign,opacity:n.getItemVisual(t,"opacity")});u.ignore=u.normalIgnore=!c.get("show");u.hoverIgnore=!l.get("show");r.ignore=r.normalIgnore=!o.get("show");r.hoverIgnore=!a.get("show");r.setStyle({stroke:h,opacity:n.getItemVisual(t,"opacity")});r.setStyle(o.getModel("lineStyle").getLineStyle());r.hoverStyle=a.getModel("lineStyle").getLineStyle();f=o.get("smooth");f&&f===!0&&(f=.4);r.setShape({smooth:f})};st(slt,e);var wou=or.extend({type:"pie",init:function(){var n=new e;this._sectorGroup=n},render:function(n,t,i,r){if(!r||r.from!==this.uid){var u=n.getData(),e=this._data,f=this.group,c=t.get("animation"),l=!e,a=n.get("animationType"),v=o(war,this.uid,n,c,i),y=n.get("selectedMode");if(u.diff(e).add(function(n){var t=new slt(u,n);l&&a!=="scale"&&t.eachChild(function(n){n.stopAnimation(!0)});y&&t.on("click",v);u.setItemGraphicEl(n,t);f.add(t)}).update(function(n,t){var i=e.getItemGraphicEl(t);i.updateData(u,n);i.off("click");y&&i.on("click",v);f.add(i);u.setItemGraphicEl(n,i)}).remove(function(n){var t=e.getItemGraphicEl(n);f.remove(t)}).execute(),c&&l&&u.count()>0&&a!=="scale"){var s=u.getItemLayout(0),p=Math.max(i.getWidth(),i.getHeight())/2,w=h(f.removeClipPath,f);f.setClipPath(this._createClipPath(s.cx,s.cy,p,s.startAngle,s.clockwise,w,n))}this._data=u}},dispose:function(){},_createClipPath:function(n,t,i,r,u,f,e){var o=new ts({shape:{cx:n,cy:t,r0:0,r:i,startAngle:r,endAngle:r,clockwise:u}});return fr(o,{shape:{endAngle:r+(u?1:-1)*Math.PI*2}},e,f),o},containPoint:function(n,t){var e=t.getData(),i=e.getItemLayout(0);if(i){var r=n[0]-i.cx,u=n[1]-i.cy,f=Math.sqrt(r*r+u*u);return f<=i.r&&f>=i.r0}}}),yoi=function(n,i){t(i,function(t){t.update="updateView";ft(t,function(i,r){var u={};return r.eachComponent({mainType:"series",subType:n,query:i},function(n){n[t.method]&&n[t.method](i.name,i.dataIndex);var r=n.getData();r.each(function(t){var i=r.getName(t);u[i]=n.isSelected(i)||!1})}),{name:i.name,selected:u}})})},clt=function(n,t){var i={};t.eachRawSeriesByType(n,function(n){var r=n.getRawData(),f={},u;t.isSeriesFiltered(n)||(u=n.getData(),u.each(function(n){var t=u.getRawIndex(n);f[t]=n}),r.each(function(t){var e=f[t],s=e!=null&&u.getItemVisual(e,"color",!0),h,o;s?r.setItemVisual(t,"color",s):(h=r.getItemModel(t),o=h.get("itemStyle.normal.color")||n.getColorFromPalette(r.getName(t),i),r.setItemVisual(t,"color",o),e!=null&&u.setItemVisual(e,"color",o))}))})};var kar=function(n,t,i,r){var u=n.getData(),o=[],f,e,s=!1;u.each(function(i){var r=u.getItemLayout(i),d=u.getItemModel(i),g=d.getModel("label.normal"),l=g.get("position")||d.get("label.emphasis.position"),tt=d.getModel("labelLine.normal"),nt=tt.get("length"),it=tt.get("length2"),a=(r.startAngle+r.endAngle)/2,h=Math.cos(a),v=Math.sin(a),y,p,rt,w,c,b,k;if(f=r.cx,e=r.cy,c=l==="inside"||l==="inner",l==="center")y=r.cx,p=r.cy,w="center";else{if(b=(c?(r.r+r.r0)/2*h:r.r*h)+f,k=(c?(r.r+r.r0)/2*v:r.r*v)+e,y=b+h*3,p=k+v*3,!c){var ut=b+h*(nt+t-r.r),ft=k+v*(nt+t-r.r),et=ut+(h<0?-1:1)*it,ot=ft;y=et+(h<0?-5:5);p=ot;rt=[[b,k],[ut,ft],[et,ot]]}w=c?"center":h>0?"left":"right"}var ht=g.getFont(),st=g.get("rotate")?h<0?-a+Math.PI:-a:0,ct=n.getFormattedLabel(i,"normal")||u.getName(i),lt=ve(ct,ht,w,"top");s=!!st;r.label={x:y,y:p,position:l,height:lt.height,len:nt,len2:it,linePoints:rt,textAlign:w,verticalAlign:"middle",rotation:st,inside:c};c||o.push(r.label)});!s&&n.get("avoidLabelOverlap")&&bar(o,f,e,t,i,r)},itt=Math.PI*2,woi=Math.PI/180,dar=function(n,t,i){t.eachSeriesByType(n,function(n){var e=n.get("center"),o=n.get("radius"),p;r(o)||(o=[0,o]);r(e)||(e=[e,e]);var w=i.getWidth(),b=i.getHeight(),nt=Math.min(w,b),tt=u(e[0],w),it=u(e[1],b),k=u(o[0],nt/2),l=u(o[1],nt/2),t=n.getData(),a=-n.get("startAngle")*woi,s=n.get("minAngle")*woi,h=0;t.each("value",function(n){isNaN(n)||h++});var rt=t.getSum("value"),v=Math.PI/(rt||h)*2,d=n.get("clockwise"),g=n.get("roseType"),et=n.get("stillShowZeroSum"),ut=t.getDataExtent("value");ut[0]=0;var y=itt,ft=0,f=a,c=d?1:-1;t.each("value",function(n,i){var r,u;if(isNaN(n)){t.setItemLayout(i,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:d,cx:tt,cy:it,r0:k,r:g?NaN:l});return}r=g!=="area"?rt===0&&et?v:n*v:itt/h;r<s?(r=s,y-=s):ft+=n;u=f+c*r;t.setItemLayout(i,{angle:r,startAngle:f,endAngle:u,clockwise:d,cx:tt,cy:it,r0:k,r:g?ti(n,ut,[k,l]):l});f=u},!0);y<itt&&h&&(y<=.001?(p=itt/h,t.each("value",function(n,i){if(!isNaN(n)){var r=t.getItemLayout(i);r.angle=p;r.startAngle=a+c*i*p;r.endAngle=a+c*(i+1)*p}})):(v=y/ft,f=a,t.each("value",function(n,i){if(!isNaN(n)){var r=t.getItemLayout(i),u=r.angle===s?s:n*v;r.startAngle=f;r.endAngle=f+c*u;f+=c*u}})));kar(n,l,w,b)})},rtt=function(n,t){var i=t.findComponents({mainType:"legend"});i&&i.length&&t.eachSeriesByType(n,function(n){var t=n.getData();t.filterSelf(function(n){for(var u=t.getName(n),r=0;r<i.length;r++)if(!i[r].isSelected(u))return!1;return!0},this)},this)};for(yoi("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),pt(o(clt,"pie")),ni(o(dar,"pie")),tf(o(rtt,"pie")),ci.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(n,t){return os(n.data,this,t)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{normal:{opacity:.8}}}}),boi=yf({shape:{points:null,sizes:null},symbolProxy:null,buildPath:function(n,t){for(var r,i,e=t.points,s=t.sizes,o=this.symbolProxy,u=o.shape,f=0;f<e.length;f++)(r=e[f],isNaN(r[0])||isNaN(r[1]))||(i=s[f],i[0]<4?n.rect(r[0]-i[0]/2,r[1]-i[1]/2,i[0],i[1]):(u.x=r[0]-i[0]/2,u.y=r[1]-i[1]/2,u.width=i[0],u.height=i[1],o.buildPath(n,u,!0)))},findDataIndex:function(n,t){for(var u=this.shape,f=u.points,h=u.sizes,i=f.length-1;i>=0;i--){var e=f[i],r=h[i],o=e[0]-r[0]/2,s=e[1]-r[1]/2;if(n>=o&&t>=s&&n<=o+r[0]&&t<=s+r[1])return i}return-1}}),utt=koi.prototype,utt.updateData=function(n){var t,i,r;this.group.removeAll();t=this._symbolEl;i=n.hostModel;t.setShape({points:n.mapArray(n.getItemLayout),sizes:n.mapArray(function(t){var i=n.getItemVisual(t,"symbolSize");return i instanceof Array||(i=[i,i]),i})});t.symbolProxy=ru(n.getVisual("symbol"),0,0,0,0);t.setColor=t.symbolProxy.setColor;t.useStyle(i.getModel("itemStyle.normal").getItemStyle(["color"]));r=n.getVisual("color");r&&t.setColor(r);t.seriesIndex=i.seriesIndex;t.on("mousemove",function(n){t.dataIndex=null;var i=t.findDataIndex(n.offsetX,n.offsetY);i>=0&&(t.dataIndex=i)});this.group.add(t)},utt.updateLayout=function(n){var t=n.getData();this._symbolEl.setShape({points:t.mapArray(t.getItemLayout)})},utt.remove=function(){this.group.removeAll()},sr({type:"scatter",init:function(){this._normalSymbolDraw=new aa;this._largeSymbolDraw=new koi},render:function(n){var r=n.getData(),i=this._largeSymbolDraw,u=this._normalSymbolDraw,f=this.group,t=n.get("large")&&r.count()>n.get("largeThreshold")?i:u;this._symbolDraw=t;t.updateData(r);f.add(t.group);f.remove(t===i?u.group:i.group)},updateLayout:function(n){this._symbolDraw.updateLayout(n)},remove:function(n,t){this._symbolDraw&&this._symbolDraw.remove(t,!0)},dispose:function(){}}),pt(o(fc,"scatter","circle",null)),ni(o(yct,"scatter")),st(doi,ri),ne.prototype.getIndicatorAxes=function(){return this._indicatorAxes},ne.prototype.dataToPoint=function(n,t){var i=this._indicatorAxes[t];return this.coordToPoint(i.dataToCoord(n),t)},ne.prototype.coordToPoint=function(n,t){var r=this._indicatorAxes[t],i=r.angle,u=this.cx+n*Math.cos(i),f=this.cy-n*Math.sin(i);return[u,f]},ne.prototype.pointToData=function(n){var i=n[0]-this.cx,r=n[1]-this.cy,u=Math.sqrt(i*i+r*r),t,e,o;i/=u;r/=u;var c=Math.atan2(-r,i),s=Infinity,f,h=-1;for(t=0;t<this._indicatorAxes.length;t++)e=this._indicatorAxes[t],o=Math.abs(c-e.angle),o<s&&(f=e,h=t,s=o);return[h,+(f&&f.coodToData(u))]},ne.prototype.resize=function(n,i){var r=n.get("center"),f=i.getWidth(),e=i.getHeight(),o=Math.min(f,e)/2;this.cx=u(r[0],f);this.cy=u(r[1],e);this.startAngle=n.get("startAngle")*Math.PI/180;this.r=u(n.get("radius"),o);t(this._indicatorAxes,function(n,t){n.setExtent(0,this.r);var i=this.startAngle+t*Math.PI*2/this._indicatorAxes.length;i=Math.atan2(Math.sin(i),Math.cos(i));n.angle=i},this)},ne.prototype.update=function(n){function u(n){var i=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),t=n/i;return t===2?t=5:t*=2,t*i}var r=this._indicatorAxes,f=this._model,i;t(r,function(n){n.scale.setExtent(Infinity,-Infinity)});n.eachSeriesByType("radar",function(i){if(i.get("coordinateSystem")==="radar"&&n.getComponent("radar",i.get("radarIndex"))===f){var u=i.getData();t(r,function(n){n.scale.unionExtentFromData(u,n.dim)})}},this);i=f.get("splitNumber");t(r,function(n){var f=hfi(n.scale,n.model),s,h,v,c,l;ic(n.scale,n.model);var a=n.model,r=n.scale,e=a.getMin(),o=a.getMax(),t=r.getInterval();if(e!=null&&o!=null)r.setExtent(+e,+o),r.setInterval((o-e)/i);else if(e!=null){do s=e+t*i,r.setExtent(+e,s),r.setInterval(t),t=u(t);while(s<f[1]&&isFinite(s)&&isFinite(f[1]))}else if(o!=null){do h=o-t*i,r.setExtent(h,+o),r.setInterval(t),t=u(t);while(h>f[0]&&isFinite(h)&&isFinite(f[0]))}else v=r.getTicks().length-1,v>i&&(t=u(t)),c=Math.round((f[0]+f[1])/2/t)*t,l=Math.round(i/2),r.setExtent(lr(c-l*t),lr(c+(i-l)*t)),r.setInterval(t)})},ne.dimensions=[],ne.create=function(n,t){var i=[];return n.eachComponent("radar",function(r){var u=new ne(r,n,t);i.push(u);r.coordinateSystem=u}),n.eachSeriesByType("radar",function(n){n.get("coordinateSystem")==="radar"&&(n.coordinateSystem=i[n.get("radarIndex")||0])}),i},ir.register("radar",ne),wa=be.valueAxis,gar=iu({type:"radar",optionUpdated:function(){var r=this.get("boundaryGap"),u=this.get("splitNumber"),f=this.get("scale"),e=this.get("axisLine"),o=this.get("axisTick"),h=this.get("axisLabel"),t=this.get("name"),v=this.get("name.show"),n=this.get("name.formatter"),y=this.get("nameGap"),p=this.get("triggerEvent"),w=i(this.get("indicator")||[],function(i){var b,k,w;return i.max!=null&&i.max>0&&!i.min?i.min=0:i.min!=null&&i.min<0&&!i.max&&(i.max=0),b=t,i.color!=null&&(b=l({color:i.color},t)),i=a(c(i),{boundaryGap:r,splitNumber:u,scale:f,axisLine:e,axisTick:o,axisLabel:h,name:i.text,nameLocation:"end",nameGap:y,nameTextStyle:b,triggerEvent:p},!1),v||(i.name=""),typeof n=="string"?(k=i.name,i.name=n.replace("{value}",k!=null?k:"")):typeof n=="function"&&(i.name=n(i.name,i)),w=s(new it(i,null,this.ecModel),rc),w.mainType="radar",w.componentIndex=this.componentIndex,w},this);this.getIndicatorModels=function(){return w}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:a({lineStyle:{color:"#bbb"}},wa.axisLine),axisLabel:ftt(wa.axisLabel,!1),axisTick:ftt(wa.axisTick,!1),splitLine:ftt(wa.splitLine,!0),splitArea:ftt(wa.splitArea,!0),indicator:[]}}),goi=["axisLine","axisTickLabel","axisName"],yi({type:"radar",render:function(n){var t=this.group;t.removeAll();this._buildAxes(n);this._buildSplitLineAndArea(n)},_buildAxes:function(n){var r=n.coordinateSystem,u=r.getIndicatorAxes(),f=i(u,function(n){return new ki(n.model,{position:[r.cx,r.cy],rotation:n.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})});t(f,function(n){t(goi,n.add,n);this.group.add(n.getGroup())},this)},_buildSplitLineAndArea:function(n){function w(n,t,i){var r=i%t.length;return n[r]=n[r]||[],r}var y=n.coordinateSystem,p=y.getIndicatorAxes(),c,a,b,ot,k,u,h,d,s,st,ht;if(p.length){var ct=n.get("shape"),g=n.getModel("splitLine"),nt=n.getModel("splitArea"),tt=g.getModel("lineStyle"),it=nt.getModel("areaStyle"),rt=g.get("show"),ut=nt.get("show"),e=tt.get("color"),o=it.get("color");if(e=r(e)?e:[e],o=r(o)?o:[o],c=[],a=[],ct==="circle"){var v=p[0].getTicksCoords(),ft=y.cx,et=y.cy;for(u=0;u<v.length;u++)rt&&(s=w(c,e,u),c[s].push(new lh({shape:{cx:ft,cy:et,r:v[u]}}))),ut&&u<v.length-1&&(s=w(a,o,u),a[s].push(new vti({shape:{cx:ft,cy:et,r0:v[u],r:v[u+1]}})))}else for(ot=i(p,function(n,t){var r=n.getTicksCoords();return b=b==null?r.length-1:Math.min(r.length-1,b),i(r,function(n){return y.coordToPoint(n,t)})}),k=[],u=0;u<=b;u++){for(h=[],d=0;d<p.length;d++)h.push(ot[d][u]);h[0]?h.push(h[0].slice()):f&&console.error("Can't draw value axis "+u);rt&&(s=w(c,e,u),c[s].push(new af({shape:{points:h}})));ut&&k&&(s=w(a,o,u-1),a[s].push(new hu({shape:{points:h.concat(k)}})));k=h.slice().reverse()}st=tt.getLineStyle();ht=it.getAreaStyle();t(a,function(n,t){this.group.add(pf(n,{style:l({stroke:"none",fill:o[t%o.length]},ht),silent:!0}))},this);t(c,function(n,t){this.group.add(pf(n,{style:l({fill:"none",stroke:e[t%e.length]},st),silent:!0}))},this)}}}),nsi=ci.extend({type:"series.radar",dependencies:["radar"],init:function(){nsi.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(n){var t=n.data||[],r=rr([],t,{extraPrefix:"indicator_",extraFromZero:!0}),i=new yt(r,this);return i.initData(t),i},formatTooltip:function(n){var r=this.getRawValue(n),u=this.coordinateSystem,f=u.getIndicatorAxes(),t=this.getData().getName(n);return dt(t===""?this.name:t)+"<br/>"+i(f,function(n,t){return dt(n.name+" : "+r[t])}).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{normal:{width:2,type:"solid"}},label:{normal:{position:"top"}},symbol:"emptyCircle",symbolSize:4}}),sr({type:"radar",render:function(n){function h(n,t){var u=n.getItemVisual(t,"symbol")||"circle",f=n.getItemVisual(t,"color"),i,r;if(u!=="none")return i=nvr(n.getItemVisual(t,"symbolSize")),r=ru(u,-1,-1,2,2,f),r.attr({style:{strokeNoScale:!0},z2:100,scale:[i[0]/2,i[1]/2]}),r}function o(t,i,r,u,f,e){var o,s;for(r.removeAll(),o=0;o<i.length-1;o++)s=h(u,f),s&&(s.__dimIdx=o,t[o]?(s.attr("position",t[o]),nf[e?"initProps":"updateProps"](s,{position:i[o]},n,f)):s.attr("position",i[o]),r.add(s))}function s(n){return i(n,function(){return[u.cx,u.cy]})}var u=n.coordinateSystem,f=this.group,t=n.getData(),r=this._data;t.diff(r).add(function(i){var r=t.getItemLayout(i),u,c;if(r){var h=new hu,f=new af,l={shape:{points:r}};h.shape.points=s(r);f.shape.points=s(r);fr(h,l,n,i);fr(f,l,n,i);u=new e;c=new e;u.add(f);u.add(h);u.add(c);o(f.shape.points,r,c,t,i,!0);t.setItemGraphicEl(i,u)}}).update(function(i,u){var f=r.getItemGraphicEl(u),s=f.childAt(0),h=f.childAt(1),c=f.childAt(2),e={shape:{points:t.getItemLayout(i)}};e.shape.points&&(o(s.shape.points,e.shape.points,c,t,i,!1),k(s,e,n),k(h,e,n),t.setItemGraphicEl(i,f))}).remove(function(n){f.remove(r.getItemGraphicEl(n))}).execute();t.eachItemGraphicEl(function(n,i){function y(){u.attr("ignore",a)}function p(){u.attr("ignore",h)}var r=t.getItemModel(i),v=n.childAt(0),u=n.childAt(1),w=n.childAt(2),e=t.getItemVisual(i,"color");f.add(n);v.useStyle(l(r.getModel("lineStyle.normal").getLineStyle(),{fill:"none",stroke:e}));v.hoverStyle=r.getModel("lineStyle.emphasis").getLineStyle();var o=r.getModel("areaStyle.normal"),s=r.getModel("areaStyle.emphasis"),h=o.isEmpty()&&o.parentModel.isEmpty(),a=s.isEmpty()&&s.parentModel.isEmpty();a=a&&h;u.ignore=h;u.useStyle(l(o.getAreaStyle(),{fill:e,opacity:.7}));u.hoverStyle=s.getAreaStyle();var b=r.getModel("itemStyle.normal").getItemStyle(["color"]),k=r.getModel("itemStyle.emphasis").getItemStyle(),d=r.getModel("label.normal"),g=r.getModel("label.emphasis");w.eachChild(function(n){n.setStyle(b);n.hoverStyle=c(k);gu(n.style,n.hoverStyle,d,g,{labelFetcher:t.hostModel,labelDataIndex:i,labelDimIndex:n.__dimIdx,defaultText:t.get(t.dimensions[n.__dimIdx],i),autoColor:e,isRectText:!0})});n.off("mouseover").off("mouseout").off("normal").off("emphasis");n.on("emphasis",y).on("mouseover",y).on("normal",p).on("mouseout",p);vt(n)});this._data=t},remove:function(){this.group.removeAll();this._data=null},dispose:function(){}}),tsi=function(n){n.eachSeriesByType("radar",function(n){function e(n,r){t[r]=t[r]||[];t[r][i]=u.dataToPoint(n,i)}var r=n.getData(),t=[],u=n.coordinateSystem,i,f;if(u){for(i=0;i<u.getIndicatorAxes().length;i++)f=r.dimensions[i],r.each(f,e);r.each(function(n){t[n][0]&&t[n].push(t[n][0].slice());r.setItemLayout(n,t[n])})}})},isi=function(n){var i=n.polar,u;i&&(r(i)||(i=[i]),u=[],t(i,function(t){t.indicator?(t.type&&!t.shape&&(t.shape=t.type),n.radar=n.radar||[],r(n.radar)||(n.radar=[n.radar]),n.radar.push(t)):u.push(t)}),n.polar=u);t(n.series,function(n){n&&n.type==="radar"&&n.polarIndex&&(n.radarIndex=n.polarIndex)})},pt(o(clt,"radar")),pt(o(fc,"radar","circle",null)),ni(tsi),tf(o(rtt,"radar")),wi(isi),llt=lt,nt(alt,pu),oc.prototype={constructor:oc,type:"view",dimensions:["x","y"],setBoundingRect:function(n,t,i,r){return this._rect=new p(n,t,i,r),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(n,t,i,r){this.transformTo(n,t,i,r);this._viewRect=new p(n,t,i,r)},transformTo:function(n,t,i,r){var f=this.getBoundingRect(),u=this._viewTransform;u.transform=f.calculateTransform(new p(n,t,i,r));u.decomposeTransform();this._updateTransform()},setCenter:function(n){n&&(this._center=n,this._updateCenterAndZoom())},setZoom:function(n){n=n||1;var t=this.zoomLimit;t&&(t.max!=null&&(n=Math.min(t.max,n)),t.min!=null&&(n=Math.max(t.min,n)));this._zoom=n;this._updateCenterAndZoom()},getDefaultCenter:function(){var n=this.getBoundingRect(),t=n.x+n.width/2,i=n.y+n.height/2;return[t,i]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransform},_updateCenterAndZoom:function(){var r=this._viewTransform.getLocalTransform(),i=this._roamTransform,t=this.getDefaultCenter(),n=this.getCenter(),u=this.getZoom();n=lt([],n,r);t=lt([],t,r);i.origin=n;i.position=[t[0]-n[0],t[1]-n[1]];i.scale=[u,u];this._updateTransform()},_updateTransform:function(){var t=this._roamTransform,n=this._viewTransform;n.parent=t;t.updateTransform();n.updateTransform();n.transform&&uft(this.transform||(this.transform=[]),n.transform);this.transform?(this.invTransform=this.invTransform||[],yb(this.invTransform,this.transform)):this.invTransform=null;this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var n=this.getBoundingRect().clone();return n.applyTransform(this.transform),n},dataToPoint:function(n){var t=this.transform;return t?llt([],n,t):[n[0],n[1]]},pointToData:function(n){var t=this.invTransform;return t?llt([],n,t):[n[0],n[1]]},convertToPixel:o(rsi,"dataToPoint"),convertFromPixel:o(rsi,"pointToData"),containPoint:function(n){return this.getViewRectAfterRoam().contain(n[0],n[1])}},nt(oc,pu),ett=[126,25],as=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],vs=0;vs<as.length;vs++)for(sc=0;sc<as[vs].length;sc++)as[vs][sc][0]/=10.5,as[vs][sc][1]/=-10.5/.75,as[vs][sc][0]+=ett[0],as[vs][sc][1]+=ett[1];var tvr=function(n){n.map==="china"&&n.regions.push(new wn("南海诸岛",i(as,function(n){return{type:"polygon",exterior:n}}),ett))},ivr={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]},rvr=function(n){t(n.regions,function(n){var t=ivr[n.name],i;t&&(i=n.center,i[0]+=t[0]/10.5,i[1]+=-t[1]/(10.5/.75))})},uvr={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]},fvr=function(n){t(n.regions,function(n){var t=uvr[n.name],i;t&&(i=n.center,i[0]=t[0],i[1]=t[1])})},evr=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],ovr=function(n){if(n.map==="china")for(var t=0,i=n.regions.length;t<i;++t)n.regions[t].name==="台湾"&&n.regions[t].geometries.push({type:"polygon",exterior:evr[0]})},svr=[tvr,rvr,fvr,ovr];ba.prototype={constructor:ba,type:"geo",dimensions:["lng","lat"],containCoord:function(n){for(var i=this.regions,t=0;t<i.length;t++)if(i[t].contain(n))return!0;return!1},loadGeoJson:function(n,i,r){var e,s,f,u,o;try{this.regions=n?oct(n):[]}catch(h){throw"Invalid geoJson format\n"+h.message;}for(i=i||{},r=r||{},e=this.regions,s=ui(),f=0;f<e.length;f++)u=e[f].name,u=r.hasOwnProperty(u)?r[u]:u,e[f].name=u,s.set(u,e[f]),this.addGeoCoord(u,e[f].center),o=i[u],o&&e[f].transformTo(o.left,o.top,o.width,o.height);this._regionsMap=s;this._rect=null;t(svr,function(n){n(this)},this)},transformTo:function(n,t,i,r){var u=this.getBoundingRect(),f,e;u=u.clone();u.y=-u.y-u.height;f=this._viewTransform;f.transform=u.calculateTransform(new p(n,t,i,r));f.decomposeTransform();e=f.scale;e[1]=-e[1];f.updateTransform();this._updateTransform()},getRegion:function(n){return this._regionsMap.get(n)},getRegionByCoord:function(n){for(var i=this.regions,t=0;t<i.length;t++)if(i[t].contain(n))return i[t]},addGeoCoord:function(n,t){this._nameCoordMap.set(n,t)},getGeoCoord:function(n){return this._nameCoordMap.get(n)},getBoundingRect:function(){var n,i,t,r;if(this._rect)return this._rect;for(i=this.regions,t=0;t<i.length;t++)r=i[t].getBoundingRect(),n=n||r.clone(),n.union(r);return this._rect=n||new p(0,0,0,0)},dataToPoint:function(n){return typeof n=="string"&&(n=this.getGeoCoord(n)),n?oc.prototype.dataToPoint.call(this,n):void 0},convertToPixel:o(usi,"dataToPoint"),convertFromPixel:o(usi,"pointToData")};nt(ba,oc);f&&(ott=function(n){console.error("Map "+n+" not exists. You can download map file on http://echarts.baidu.com/download-map.html")});stt={dimensions:ba.prototype.dimensions,create:function(n,r){var e=[],u;return n.eachComponent("geo",function(n,t){var o=n.get("map"),u=tn(o),i;f&&(u||ott(o));i=new ba(o+t,o,u&&u.geoJson,u&&u.specialAreas,n.get("nameMap"));i.zoomLimit=n.get("scaleLimit");e.push(i);esi(i,n);n.coordinateSystem=i;i.model=n;i.resize=fsi;i.resize(n,r)}),n.eachSeries(function(n){var i=n.get("coordinateSystem"),t;i==="geo"&&(t=n.get("geoIndex")||0,n.coordinateSystem=e[t])}),u={},n.eachSeriesByType("map",function(n){if(!n.getHostGeoModel()){var t=n.getMapType();u[t]=u[t]||[];u[t].push(n)}}),t(u,function(n,u){var s=tn(u),h,o;f&&(s||ott(n[0].get("map")));h=i(n,function(n){return n.get("nameMap")});o=new ba(u,u,s&&s.geoJson,s&&s.specialAreas,bv(h));o.zoomLimit=kt.apply(null,i(n,function(n){return n.get("scaleLimit")}));e.push(o);o.resize=fsi;o.resize(n[0],r);t(n,function(n){n.coordinateSystem=o;esi(o,n)})}),e},getFilledRegions:function(n,t,i){var e=(n||[]).slice(),o,s,h,c,r,u;if(i=i||{},o=tn(t),s=o&&o.geoJson,!s)return f&&ott(t),n;for(h=ui(),c=s.features,r=0;r<e.length;r++)h.set(e[r].name,e[r]);for(r=0;r<c.length;r++)u=c[r].properties.name,h.get(u)||(i.hasOwnProperty(u)&&(u=i[u]),e.push({name:u}));return e}};bht("geo",stt);htt=ci.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],init:function(n){this._fillOption(n,this.getMapType());htt.superApply(this,"init",arguments);this.updateSelectedMap(n.data)},getInitialData:function(n){var i=rr(["value"],n.data||[]),t=new yt(i,this);return t.initData(n.data),t},mergeOption:function(n){this._fillOption(n,this.getMapType());htt.superApply(this,"mergeOption",arguments);this.updateSelectedMap(this.option.data)},getHostGeoModel:function(){var n=this.option.geoIndex;return n!=null?this.dependentModels.geo[n]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},_fillOption:function(n,t){n.data=stt.getFilledRegions(n.data,t,n.nameMap)},getRawValue:function(n){return this.getData().get("value",n)},getRegionModel:function(n){var t=this.getData();return t.getItemModel(t.indexOfName(n))},formatTooltip:function(n){for(var f,e=this.getData(),o=co(this.getRawValue(n)),r=e.getName(n),i=this.seriesGroup,u=[],t=0;t<i.length;t++)f=i[t].originalData.indexOfName(r),isNaN(i[t].originalData.get("value",f))||u.push(dt(i[t].name));return u.join(", ")+"<br />"+dt(r+" : "+o)},getTooltipPosition:function(n){if(n!=null){var r=this.getData().getName(n),t=this.coordinateSystem,i=t.getRegion(r);return i&&t.dataToPoint(i.center)}},setZoom:function(n){this.option.zoom=n},setCenter:function(n){this.option.center=n},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,color:"#000"},emphasis:{show:!0,color:"rgb(100,0,0)"}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{areaColor:"rgba(255,215,0,0.8)"}}}});nt(htt,ttt);vlt='\0_ec_interaction_mutex';ft({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){});nt(bp,hi);asi={axisPointer:1,tooltip:1,brush:1};ctt.prototype={constructor:ctt,draw:function(n,i,r,u,f){var c=n.mainType==="geo",o=n.getData&&n.getData();c&&i.eachComponent({mainType:"series",subType:"map"},function(t){o||t.getHostGeoModel()!==n||(o=t.getData())});var l=n.coordinateSystem,s=this.group,h=l.scale,a={position:l.position,scale:h};!s.childAt(0)||f?s.attr(a):k(s,a,n);s.removeAll();var y=["itemStyle","normal"],p=["itemStyle","emphasis"],w=["label","normal"],d=["label","emphasis"],v=ui();t(l.regions,function(i){var r=v.get(i.name)||v.set(i.name,new e),u=new gti({shape:{paths:[]}}),k,rt,ut,a,f,ft;r.add(u);var f=n.getRegionModel(i.name)||n,et=f.getModel(y),ot=f.getModel(p),g=vsi(et,h),st=vsi(ot,h),nt=f.getModel(w),tt=f.getModel(d),l;o&&(l=o.indexOfName(i.name),k=o.getItemVisual(l,"color",!0),k&&(g.fill=k));t(i.geometries,function(n){if(n.type==="polygon"){u.shape.paths.push(new hu({shape:{points:n.exterior}}));for(var t=0;t<(n.interiors?n.interiors.length:0);t++)u.shape.paths.push(new hu({shape:{points:n.interiors[t]}}))}});u.setStyle(g);u.style.strokeNoScale=!0;u.culling=!0;var ht=nt.get("show"),ct=tt.get("show"),lt=o&&isNaN(o.get("value",l)),it=o&&o.getItemLayout(l);(c||lt&&(ht||ct)||it&&it.showLabel)&&(rt=c?i.name:l,(!o||l>=0)&&(ut=n),a=new b({position:i.center.slice(),scale:[1/h[0],1/h[1]],z2:10,silent:!0}),gu(a.style,a.hoverStyle={},nt,tt,{labelFetcher:ut,labelDataIndex:rt,defaultText:i.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),r.add(a));o?o.setItemGraphicEl(l,r):(f=n.getRegionModel(i.name),u.eventData={componentType:"geo",geoIndex:n.componentIndex,name:i.name,region:f&&f.option||{}});ft=r.__regions||(r.__regions=[]);ft.push(i);vt(r,st,{hoverSilentOnTouch:!!n.get("selectedMode")});s.add(r)});this._updateController(n,i,r);wvr(this,n,s,r,u);ysi(n,s)},remove:function(){this.group.removeAll();this._controller.dispose();this._controllerHost={}},_updateController:function(n,t,i){function o(){var t={type:"geoRoam",componentType:f};return t[f+"Id"]=n.id,t}var e=n.coordinateSystem,r=this._controller,u=this._controllerHost,f;u.zoomLimit=n.get("scaleLimit");u.zoom=e.getZoom();r.enable(n.get("roam")||!1);f=n.mainType;r.off("pan").on("pan",function(n,t){this._mouseDownFlag=!1;csi(u,n,t);i.dispatchAction(s(o(),{dx:n,dy:t}))},this);r.off("zoom").on("zoom",function(n,t,r){if(this._mouseDownFlag=!1,lsi(u,n,t,r),i.dispatchAction(s(o(),{zoom:n,originX:t,originY:r})),this._updateGroup){var f=this.group,e=f.scale;f.traverse(function(n){n.type==="text"&&n.attr("scale",[1/e[0],1/e[1]])})}},this);r.setPointerChecker(function(t,r,u){return e.getViewRectAfterRoam().contain(r,u)&&!plt(t,i,n)})}};sr({type:"map",render:function(n,t,i,r){var f,u;r&&r.type==="mapToggleSelect"&&r.from===this.uid||(f=this.group,f.removeAll(),n.getHostGeoModel())||(r&&r.type==="geoRoam"&&r.componentType==="series"&&r.seriesId===n.id?(u=this._mapDraw,u&&f.add(u.group)):n.needsDrawMap?(u=this._mapDraw||new ctt(i,!0),f.add(u.group),u.draw(n,t,i,this,r),this._mapDraw=u):(this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null),n.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(n,t,i))},remove:function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null;this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null},_renderSymbols:function(n){var t=n.originalData,i=this.group;t.each("value",function(r,u){var e;if(!isNaN(r)&&(e=t.getItemLayout(u),e&&e.point)){var c=e.point,o=e.offset,f=new lh({style:{fill:n.getData().getVisual("color")},shape:{cx:c[0]+o*9,cy:c[1],r:3},silent:!0,z2:o?8:10});if(!o){var l=n.mainSeries.getData(),a=t.getName(u),b=l.indexOfName(a),v=t.getItemModel(u),s=v.getModel("label.normal"),y=v.getModel("label.emphasis"),k=l.getItemGraphicEl(b),p=si(n.getFormattedLabel(u,"normal"),a),d=si(n.getFormattedLabel(u,"emphasis"),p),w=function(){var n=gt({},y,{text:y.get("show")?d:null},{isRectText:!0,useInsideStyle:!1},!0);f.style.extendFrom(n);f.__mapOriginalZ2=f.z2;f.z2+=1},h=function(){gt(f.style,s,{text:s.get("show")?p:null,textPosition:s.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1});f.__mapOriginalZ2!=null&&(f.z2=f.__mapOriginalZ2,f.__mapOriginalZ2=null)};k.on("mouseover",w).on("mouseout",h).on("emphasis",w).on("normal",h);h()}i.add(f)}})}});ft({type:"geoRoam",event:"geoRoam",update:"updateLayout"},function(n,i){var r=n.componentType||"series";i.eachComponent({mainType:r,query:n},function(i){var f=i.coordinateSystem,u;f.type==="geo"&&(u=psi(f,n,i.get("scaleLimit")),i.setCenter&&i.setCenter(u.center),i.setZoom&&i.setZoom(u.zoom),r==="series"&&t(i.seriesGroup,function(n){n.setCenter(u.center);n.setZoom(u.zoom)}))})});wsi=function(n){var i={};n.eachSeriesByType("map",function(r){var e=r.getMapType(),f,u;r.getHostGeoModel()||i[e]||(f={},t(r.seriesGroup,function(t){var r=t.coordinateSystem,i=t.originalData;t.get("showLegendSymbol")&&n.getComponent("legend")&&i.each("value",function(n,t){var u=i.getName(t),o=r.getRegion(u),e,s;o&&!isNaN(n)&&(e=f[u]||0,s=r.dataToPoint(o.center),f[u]=e+1,i.setItemLayout(t,{point:s,offset:e}))})}),u=r.getData(),u.each(function(n){var i=u.getName(n),t=u.getItemLayout(n)||{};t.showLabel=!f[i];u.setItemLayout(n,t)}),i[e]=!0)})};bsi=function(n){n.eachSeriesByType("map",function(n){var t=n.get("color"),i=n.getModel("itemStyle.normal"),r=i.get("areaColor"),u=i.get("color")||t[n.seriesIndex%t.length];n.getData().setVisual({areaColor:r,color:u})})};ksi=function(n){var r={};n.eachSeriesByType("map",function(n){var t=n.getHostGeoModel(),i=t?"o"+t.id:"i"+n.getMapType();(r[i]=r[i]||[]).push(n)});t(r,function(n){for(var r=bvr(i(n,function(n){return n.getData()}),n[0].get("mapValueCalculation")),t=0;t<n.length;t++)n[t].originalData=n[t].getData();for(t=0;t<n.length;t++)n[t].seriesGroup=n,n[t].needsDrawMap=t===0&&!n[t].getHostGeoModel(),n[t].setData(r.cloneShallow()),n[t].mainSeries=n[0]})};dsi=function(n){var i=[];t(n.series,function(n){n&&n.type==="map"&&(i.push(n),n.map=n.map||n.mapType,l(n,n.mapLocation))})};ni(wsi);pt(bsi);tf(ea.PROCESSOR.STATISTIC,ksi);wi(dsi);yoi("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]);var kp=t,dp='\0__link_datas',ltt='\0__link_mainData';att=function(n,t){this.name=n||"";this.depth=0;this.height=0;this.parentNode=null;this.dataIndex=-1;this.children=[];this.viewChildren=[];this.hostTree=t};att.prototype={constructor:att,isRemoved:function(){return this.dataIndex<0},eachNode:function(n,t,i){var u,f,e,r;for(typeof n=="function"&&(i=t,t=n,n=null),n=n||{},li(n)&&(n={order:n}),u=n.order||"preorder",f=this[n.attr||"children"],u==="preorder"&&(e=t.call(i,this)),r=0;!e&&r<f.length;r++)f[r].eachNode(n,t,i);u==="postorder"&&t.call(i,this)},updateDepthAndHeight:function(n){var r=0,t,i;for(this.depth=n,t=0;t<this.children.length;t++)i=this.children[t],i.updateDepthAndHeight(n+1),i.height>r&&(r=i.height);this.height=r+1},getNodeById:function(n){var i;if(this.getId()===n)return this;for(var t=0,r=this.children,u=r.length;t<u;t++)if(i=r[t].getNodeById(n),i)return i},contains:function(n){var i;if(n===this)return!0;for(var t=0,r=this.children,u=r.length;t<u;t++)if(i=r[t].contains(n),i)return i},getAncestors:function(n){for(var i=[],t=n?this:this.parentNode;t;)i.push(t),t=t.parentNode;return i.reverse(),i},getValue:function(n){var t=this.hostTree.data;return t.get(t.getDimension(n||"value"),this.dataIndex)},setLayout:function(n,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,n,t)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(n){if(!(this.dataIndex<0)){var t=this.hostTree,u=t.data.getItemModel(this.dataIndex),i=this.getLevelModel(),r;return i||this.children.length!==0&&(this.children.length===0||this.isExpand!==!1)||(r=this.getLeavesModel()),u.getModel(n,(i||r||t.hostModel).getModel(n))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(n,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,n,t)},getVisual:function(n,t){return this.hostTree.data.getItemVisual(this.dataIndex,n,t)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)}};ka.prototype={constructor:ka,type:"tree",eachNode:function(n,t,i){this.root.eachNode(n,t,i)},getNodeByDataIndex:function(n){var t=this.data.getRawIndex(n);return this._nodes[t]},getNodeByName:function(n){return this.root.getNodeByName(n)},update:function(){for(var r=this.data,t=this._nodes,n=0,i=t.length;n<i;n++)t[n].dataIndex=-1;for(n=0,i=r.count();n<i;n++)t[r.getRawIndex(n)].dataIndex=n},clearLayouts:function(){this.data.clearItemLayouts()}};ka.createTree=function(n,t,i){function s(n,t){var c=n.value,i,o,h;if(e=Math.max(e,r(c)?c.length:1),f.push(n),i=new att(n.name,u),t?iyr(i,t):u.root=i,u._nodes.push(i),o=n.children,o)for(h=0;h<o.length;h++)s(o[h],i)}var u=new ka(t,i.levels,i.leaves),f=[],e=1,h,o;return s(n),u.root.updateDepthAndHeight(0),h=rr([{name:"value"}],f,{dimCount:e}),o=new yt(h,t),o.initData(f),gsi({mainData:o,struct:u,structAttr:"tree"}),u.update(),u};ci.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(n){var e={name:n.name,children:n.data},o=n.leaves||{},r={},t,i,u,f;return r.leaves=o,t=ka.createTree(e,this,r),i=0,t.eachNode("preorder",function(n){n.depth>i&&(i=n.depth)}),u=n.expandAndCollapse,f=u&&n.initialTreeDepth>=0?n.initialTreeDepth:i,t.root.eachNode("preorder",function(n){var t=n.hostTree.data.getRawDataItem(n.dataIndex);n.isExpand=t&&t.collapsed!=null?!t.collapsed:n.depth<=f}),t.data},formatTooltip:function(n){for(var u=this.getData().tree,f=u.root.children[0],t=u.getNodeByDataIndex(n),i=t.getValue(),r=t.name;t&&t!==f;)r=t.parentNode.name+"."+r,t=t.parentNode;return dt(r+(isNaN(i)||i==null?"":" : "+i))},defaultOption:{zlevel:0,z:2,left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",orient:"horizontal",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{normal:{color:"#ccc",width:1.5,curveness:.5}},itemStyle:{normal:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5}},label:{normal:{show:!0,color:"#555"}},leaves:{label:{normal:{show:!0}}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}});sr({type:"tree",init:function(){this._oldTree;this._mainGroup=new e;this.group.add(this._mainGroup)},render:function(n,t,i){var r=n.getData(),u=n.layoutInfo,f=this._mainGroup,s=n.get("layout"),o,e;s==="radial"?f.attr("position",[u.x+u.width/2,u.y+u.height/2]):f.attr("position",[u.x,u.y]);o=this._data;e={expandAndCollapse:n.get("expandAndCollapse"),layout:s,orient:n.get("orient"),curvature:n.get("lineStyle.normal.curveness"),symbolRotate:n.get("symbolRotate"),symbolOffset:n.get("symbolOffset"),hoverAnimation:n.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};r.diff(o).add(function(t){ihi(r,t)&&uhi(r,t,null,f,n,e)}).update(function(t,i){var u=o.getItemGraphicEl(i);if(!ihi(r,t)){u&&fhi(r,t,u,f,n,e);return}uhi(r,t,u,f,n,e)}).remove(function(t){var i=o.getItemGraphicEl(t);fhi(r,t,i,f,n,e)}).execute();e.expandAndCollapse===!0&&r.eachItemGraphicEl(function(t,r){t.off("click").on("click",function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:n.id,dataIndex:r})})});this._data=r},dispose:function(){},remove:function(){this._mainGroup.removeAll();this._data=null}});ft({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(n,t){t.eachComponent({mainType:"series",subType:"tree",query:n},function(t){var r=n.dataIndex,u=t.getData().tree,i=u.getNodeByDataIndex(r);i.isExpand=!i.isExpand})});var ehi=function(n,t){var h=eyr(n,t),p,i;n.layoutInfo=h;var b=n.get("layout"),c=0,l=0,y=null;b==="radial"?(c=2*Math.PI,l=Math.min(h.height,h.width)/2,y=thi(function(n,t){return(n.parentNode===t.parentNode?1:2)/n.depth})):(c=h.width,l=h.height,y=thi());p=n.getData().tree.root;i=p.children[0];ryr(p);ayr(i,uyr,y);p.hierNode.modifier=-i.hierNode.prelim;nw(i,fyr);var a=i,r=i,v=i;nw(i,function(n){var t=n.getLayout().x;t<a.getLayout().x&&(a=n);t>r.getLayout().x&&(r=n);n.depth>v.depth&&(v=n)});var w=a===r?1:y(a,r)/2,e=w-a.getLayout().x,o=0,s=0,u=0,f=0;b==="radial"?(o=c/(r.getLayout().x+w+e),s=l/(v.depth-1||1),nw(i,function(n){u=(n.getLayout().x+e)*o;f=(n.depth-1)*s;var t=gp(u,f);n.setLayout({x:t.x,y:t.y,rawX:u,rawY:f},!0)})):n.get("orient")==="horizontal"?(s=l/(r.getLayout().x+w+e),o=c/(v.depth-1||1),nw(i,function(n){f=(n.getLayout().x+e)*s;u=(n.depth-1)*o;n.setLayout({x:u,y:f},!0)})):(o=c/(r.getLayout().x+w+e),s=l/(v.depth-1||1),nw(i,function(n){u=(n.getLayout().x+e)*o;f=(n.depth-1)*s;n.setLayout({x:u,y:f},!0)}))},vyr=function(n,t){n.eachSeriesByType("tree",function(n){ehi(n,t)})},yyr=function(n,t){n.eachSeriesByType("tree",function(n){ehi(n,t)})};pt(o(fc,"tree","circle",null));ni(vyr);ni(yyr);ci.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:Infinity,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.32*.32,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{normal:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}}},label:{normal:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0}},upperLabel:{normal:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},emphasis:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},itemStyle:{normal:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(n,t){var u={name:n.name,children:n.data},i,r;return chi(u),i=n.levels||[],i=n.levels=pyr(i,t),r={},r.levels=i,ka.createTree(u,this,r).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(n){var i=this.getData(),t=this.getRawValue(n),u=r(t)?co(t[0]):co(t),f=i.getName(n);return dt(f+": "+u)},getDataParams:function(n){var t=ci.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(n);return t.treePathInfo=hhi(i,this),t},setLayoutInfo:function(n){this.layoutInfo=this.layoutInfo||{};s(this.layoutInfo,n)},mapIdToIndex:function(n){var t=this._idIndexMap,i;return t||(t=this._idIndexMap=ui(),this._idIndexMapCount=0),i=t.get(n),i==null&&t.set(n,i=this._idIndexMapCount++),i},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(n){n?this._viewRoot=n:n=this._viewRoot;var t=this.getData().tree.root;n&&(n===t||t.contains(n))||(this._viewRoot=t)}});var wyr=8,lhi=8,nat=5;tat.prototype={constructor:tat,render:function(n,t,i,r){var u=n.getModel("breadcrumb"),e=this.group;if(e.removeAll(),u.get("show")&&i){var o=u.getModel("itemStyle.normal"),s=o.getModel("textStyle"),f={pos:{left:u.get("left"),right:u.get("right"),top:u.get("top"),bottom:u.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:u.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(i,f,s);this._renderContent(n,f,o,s,r);eg(e,f.pos,f.box)}},_prepare:function(n,t,i){for(var r=n;r;r=r.parentNode){var u=r.getModel().get("name"),e=i.getTextRect(u),f=Math.max(e.width+wyr*2,t.emptyItemWidth);t.totalWidth+=f+lhi;t.renderList.push({node:r,text:u,width:f})}},_renderContent:function(n,t,i,r,u){for(var c,a=0,v=t.emptyItemWidth,b=n.get("breadcrumb.height"),k=aor(t.pos,t.box),y=t.totalWidth,s=t.renderList,f=s.length-1;f>=0;f--){var h=s[f],p=h.node,e=h.width,w=h.text;y>k.width&&(y-=e-v,e=v,w=null);c=new hu({shape:{points:byr(a,0,e,b,f===s.length-1,f===0)},style:l(i.getItemStyle(),{lineJoin:"bevel",text:w,textFill:r.getTextColor(),textFont:r.getFont()}),z:10,onclick:o(u,p)});this.group.add(c);kyr(c,n,p);a+=e+lhi}},remove:function(){this.group.removeAll()}};var vtt=h,ahi=e,vhi=ot,te=t,yhi=3,gyr=["label","normal"],npr=["label","emphasis"],tpr=["upperLabel","normal"],ipr=["upperLabel","emphasis"],rpr=10,upr=1,fpr=2,iat=kl([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),phi=function(n){var t=iat(n);return t.stroke=t.fill=t.lineWidth=null,t};for(sr({type:"treemap",init:function(){this._containerGroup;this._storage=tw();this._oldTree;this._breadcrumb;this._controller;this._state="ready"},render:function(n,t,i,r){var c=t.findComponents({mainType:"series",subType:"treemap",query:r});if(!(w(c,n)<0)){this.seriesModel=n;this.api=i;this.ecModel=t;var f=glt(r,n),u=r&&r.type,l=n.layoutInfo,a=!this._oldTree,e=this._storage,o=u==="treemapRootToNode"&&f&&e?{rootNodeGroup:e.nodeGroup[f.node.getRawIndex()],direction:r.direction}:null,s=this._giveContainerGroup(l),h=this._doRender(s,n,o);!a&&(!u||u==="treemapZoomToNode"||u==="treemapRootToNode")?this._doAnimation(s,h,n,o):h.renderFinally();this._resetController(i);this._renderBreadcrumb(n,i,f)}},_giveContainerGroup:function(n){var t=this._containerGroup;return t||(t=this._containerGroup=new ahi,this._initEvents(t),this.group.add(t)),t.attr("position",[n.x,n.y]),t},_doRender:function(n,t,i){function l(n,t,i,r,u){function e(n){return n.getId()}function f(f,e){var o=f!=null?n[f]:null,s=e!=null?t[e]:null,h=a(o,s,i,u);h&&l(o&&o.viewChildren||[],s&&s.viewChildren||[],h,r,u+1)}r?(t=n,te(n,function(n,t){n.isRemoved()||f(t,t)})):new es(t,n,e,e).add(f).update(f).remove(o(f,null)).execute()}function v(n){var t=tw();return n&&te(n,function(n,i){var r=t[i];te(n,function(n){n&&(r.push(n),n.__tmWillDelete=1)})}),t}function y(){te(f,function(n){te(n,function(n){n.parent&&n.parent.remove(n)})});te(c,function(n){n.invisible=!0;n.dirty()})}var u=t.getData().tree,r=this._oldTree,e=tw(),s=tw(),h=this._storage,c=[],a=o(epr,t,s,h,i,e,c),f;return l(u.root?[u.root]:[],r&&r.root?[r.root]:[],n,u===r||!r,0),f=v(h),this._oldTree=u,this._storage=s,{lastsForAnimation:e,willDeleteEls:f,renderFinally:y}},_doAnimation:function(n,t,i,r){if(i.get("animation")){var f=i.get("animationDurationUpdate"),e=i.get("animationEasing"),u=dyr();te(t.willDeleteEls,function(n,t){te(n,function(n){var i,o,s,h;n.invisible||(i=n.parent,r&&r.direction==="drillDown"?o=i===r.rootNodeGroup?{shape:{x:0,y:0,width:i.__tmNodeWidth,height:i.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}}:(s=0,h=0,i.__tmWillDelete||(s=i.__tmNodeWidth/2,h=i.__tmNodeHeight/2),o=t==="nodeGroup"?{position:[s,h],style:{opacity:0}}:{shape:{x:s,y:h,width:0,height:0},style:{opacity:0}}),o&&u.add(n,o,f,e))})});te(this._storage,function(n,i){te(n,function(n,r){var o=t.lastsForAnimation[i][r],h={};o&&(i==="nodeGroup"?o.old&&(h.position=n.position.slice(),n.attr("position",o.old)):(o.old&&(h.shape=s({},n.shape),n.setShape(o.old)),o.fadein?(n.setStyle("opacity",0),h.style={opacity:1}):n.style.opacity!==1&&(h.style={opacity:1})),u.add(n,h,f,e))})},this);this._state="animating";u.done(vtt(function(){this._state="ready";t.renderFinally()},this)).start()}},_resetController:function(n){var t=this._controller,i;if(!t){t=this._controller=new bp(n.getZr());t.enable(this.seriesModel.get("roam"));t.on("pan",vtt(this._onPan,this));t.on("zoom",vtt(this._onZoom,this))}i=new p(0,0,n.getWidth(),n.getHeight());t.setPointerChecker(function(n,t,r){return i.contain(t,r)})},_clearController:function(){var n=this._controller;n&&(n.dispose(),n=null)},_onPan:function(n,t){var r,i;if(this._state!=="animating"&&(Math.abs(n)>yhi||Math.abs(t)>yhi)){if(r=this.seriesModel.getData().tree.root,!r)return;if(i=r.getLayout(),!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+n,y:i.y+t,width:i.width,height:i.height}})}},_onZoom:function(n,t,i){var e,u,f,o,r;if(this._state!=="animating"){if(e=this.seriesModel.getData().tree.root,!e)return;if(u=e.getLayout(),!u)return;f=new p(u.x,u.y,u.width,u.height);o=this.seriesModel.layoutInfo;t-=o.x;i-=o.y;r=ce();ff(r,r,[-t,-i]);vb(r,r,[n,n]);ff(r,r,[t,i]);f.applyTransform(r);this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:f.x,y:f.y,width:f.width,height:f.height}})}},_initEvents:function(n){n.on("click",function(n){var i,t,r;if(this._state==="ready"&&(i=this.seriesModel.get("nodeClick",!0),i)&&(t=this.findTarget(n.offsetX,n.offsetY),t))if(r=t.node,r.getLayout().isLeafRoot)this._rootToNode(t);else if(i==="zoomToNode")this._zoomToNode(t);else if(i==="link"){var u=r.hostTree.data.getItemModel(r.dataIndex),f=u.get("link",!0),e=u.get("target",!0)||"blank";f&&window.open(f,e)}},this)},_renderBreadcrumb:function(n,t,i){function r(t){this._state!=="animating"&&(shi(n.getViewRoot(),t)?this._rootToNode({node:t}):this._zoomToNode({node:t}))}i||(i=n.get("leafDepth",!0)!=null?{node:n.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2),i||(i={node:n.getData().tree.root}));(this._breadcrumb||(this._breadcrumb=new tat(this.group))).render(n,t,i.node,vtt(r,this))},remove:function(){this._clearController();this._containerGroup&&this._containerGroup.removeAll();this._storage=tw();this._state="ready";this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(n){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:n.node})},_rootToNode:function(n){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:n.node})},findTarget:function(n,t){var i,r=this.seriesModel.getViewRoot();return r.eachNode({attr:"viewChildren",order:"preorder"},function(r){var e=this._storage.background[r.getRawIndex()],u,f;if(e)if(u=e.transformCoordToLocal(n,t),f=e.shape,f.x<=u[0]&&u[0]<=f.x+f.width&&f.y<=u[1]&&u[1]<=f.y+f.height)i={node:r,offsetX:u[0],offsetY:u[1]};else return!1},this),i}}),whi=function(){},rat=["treemapZoomToNode","treemapRender","treemapMove"],ytt=0;ytt<rat.length;ytt++)ft({type:rat[ytt],update:"updateView"},whi);ft({type:"treemapRootToNode",update:"updateView"},function(n,t){function i(t){var i=glt(n,t),r;i&&(r=t.getViewRoot(),r&&(n.direction=shi(r,i.node)?"rollUp":"drillDown"),t.resetViewRoot(i.node))}t.eachComponent({mainType:"series",subType:"treemap",query:n},i)});var iw=t,bhi=y,ptt=-1,et=function(n){var i=n.mappingMethod,u=n.type,t=this.option=c(n),r;this.type=u;this.mappingMethod=i;this._normalizeData=ghi[i];r=da[u];this.applyVisual=r.applyVisual;this.getColorMapper=r.getColorMapper;this._doMap=r._doMap[i];i==="piecewise"?(uat(t),spr(t)):i==="category"?t.categories?hpr(t):uat(t,!0):(ct(i!=="linear"||t.dataExtent),uat(t))};et.prototype={constructor:et,mapValueToVisual:function(n){var t=this._normalizeData(n);return this._doMap(t,n)},getNormalizer:function(){return h(this._normalizeData,this)}};da=et.visualHandlers={color:{applyVisual:fat("color"),getColorMapper:function(){var n=this.option;return h(n.mappingMethod==="category"?function(n,t){return t||(n=this._normalizeData(n)),btt.call(this,n)}:function(t,i,r){var u=!!r;return i||(t=this._normalizeData(t)),r=fy(t,n.parsedVisual,r),u?r:le(r,"rgba")},this)},_doMap:{linear:function(n){return le(fy(n,this.option.parsedVisual),"rgba")},category:btt,piecewise:function(n,t){var i=sat.call(this,t);return i==null&&(i=le(fy(n,this.option.parsedVisual),"rgba")),i},fixed:eat}},colorHue:wtt(function(n,t){return pl(n,t)}),colorSaturation:wtt(function(n,t){return pl(n,null,t)}),colorLightness:wtt(function(n,t){return pl(n,null,null,t)}),colorAlpha:wtt(function(n,t){return pb(n,t)}),opacity:{applyVisual:fat("opacity"),_doMap:oat([0,1])},symbol:{applyVisual:function(n,t,i){var r=this.mapValueToVisual(n),u;if(li(r))i("symbol",r);else if(bhi(r))for(u in r)r.hasOwnProperty(u)&&i(u,r[u])},_doMap:{linear:khi,category:btt,piecewise:function(n,t){var i=sat.call(this,t);return i==null&&(i=khi.call(this,n)),i},fixed:eat}},symbolSize:{applyVisual:fat("symbolSize"),_doMap:oat([0,1])}};ghi={linear:function(n){return ti(n,this.option.dataExtent,[0,1],!0)},piecewise:function(n){var t=this.option.pieceList,i=et.findPieceIndex(n,t,!0);if(i!=null)return ti(i,[0,t.length-1],[0,1],!0)},category:function(n){var t=this.option.categories?this.option.categoryMap[n]:n;return t==null?ptt:t},fixed:pi};et.listVisualTypes=function(){var n=[];return t(da,function(t,i){n.push(i)}),n};et.addVisualHandler=function(n,t){da[n]=t};et.isValidType=function(n){return da.hasOwnProperty(n)};et.eachVisual=function(n,i,r){y(n)?t(n,i,r):i.call(r,n)};et.mapVisual=function(n,t,i){var f,u=r(n)?[]:y(n)?{}:(f=!0,null);return et.eachVisual(n,function(n,r){var e=t.call(i,n,r);f?u=e:u[r]=e}),u};et.retrieveVisuals=function(n){var t={},i;return n&&iw(da,function(r,u){n.hasOwnProperty(u)&&(t[u]=n[u],i=!0)}),i?t:null};et.prepareVisualTypes=function(n){if(bhi(n)){var t=[];iw(n,function(n,i){t.push(i)});n=t}else if(r(n))n=n.slice();else return[];return n.sort(function(n,t){return t==="color"&&n!=="color"&&n.indexOf("color")===0?1:-1}),n};et.dependsOn=function(n,t){return t==="color"?!!(n&&n.indexOf(t)===0):n===t};et.findPieceIndex=function(n,t,i){function s(t,i){var r=Math.abs(t-n);r<c&&(c=r,h=i)}for(var f,h,c=Infinity,r=0,o=t.length;r<o;r++)if(f=t[r].value,f!=null){if(f===n||typeof f=="string"&&f===n+"")return r;i&&s(f,r)}for(r=0,o=t.length;r<o;r++){var l=t[r],u=l.interval,e=l.close;if(u){if(u[0]===-Infinity){if(ktt(e[1],n,u[1]))return r}else if(u[1]===Infinity){if(ktt(e[0],u[0],n))return r}else if(ktt(e[0],u[0],n)&&ktt(e[1],n,u[1]))return r;i&&s(u[0],r);i&&s(u[1],r)}}if(i)return n===Infinity?t.length-1:n===-Infinity?0:h};var cpr=r,hat="itemStyle.normal",lpr=function(n,t,r){var u={mainType:"series",subType:"treemap",query:r};n.eachComponent(u,function(n){var t=n.getData().tree,r=t.root,f=n.getModel(hat),u;r.isRemoved()||(u=i(t.levelModels,function(n){return n?n.get(hat):null}),nci(r,{},u,f,n.getViewRoot().getAncestors(),n))})};var rw=Math.max,dtt=Math.min,ici=kt,aat=t,rci=["itemStyle","normal","borderWidth"],wpr=["itemStyle","normal","gapWidth"],bpr=["upperLabel","normal","show"],kpr=["upperLabel","normal","height"],dpr=function(n,t,i){var r={mainType:"series",subType:"treemap",query:i};n.eachComponent(r,function(n){var w=t.getWidth(),b=t.getHeight(),h=n.option,f=ai(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),k=h.size||[],d=u(ici(f.width,k[0]),w),g=u(ici(f.height,k[1]),b),c=i&&i.type,nt=glt(i,n),l=c==="treemapRender"||c==="treemapMove"?i.rootRect:null,r=n.getViewRoot(),v=ohi(r),o,e,tt,a,y;c!=="treemapMove"&&(o=c==="treemapZoomToNode"?uwr(n,nt,r,d,g):l?[l.width,l.height]:[d,g],e=h.sort,e&&e!=="asc"&&e!=="desc"&&(e="desc"),tt={squareRatio:h.squareRatio,sort:e,leafDepth:h.leafDepth},r.hostTree.clearLayouts(),a={x:0,y:0,width:o[0],height:o[1],area:o[0]*o[1]},r.setLayout(a),uci(r,tt,!1,0),a=r.getLayout(),aat(v,function(n,t){var i=(v[t+1]||r).getValue();n.setLayout(s({dataExtent:[i,i],borderWidth:0,upperHeight:0},a))}));y=n.getData().tree.root;y.setLayout(fwr(f,l,nt),!0);n.setLayoutInfo(f);eci(y,new p(-f.x,-f.y,w,b),v,r,0)})};pt(lpr);ni(dpr);nv=function(n){this._directed=n||!1;this.nodes=[];this.edges=[];this._nodesMap={};this._edgesMap={};this.data;this.edgeData};kr=nv.prototype;kr.type="graph";kr.isDirected=function(){return this._directed};kr.addNode=function(n,t){var r,i;if(n=n||""+t,r=this._nodesMap,r[ga(n)]){f&&console.error("Graph nodes have duplicate name or id");return}return i=new ie(n,t),i.hostGraph=this,this.nodes.push(i),r[ga(n)]=i,i};kr.getNodeByIndex=function(n){var t=this.data.getRawIndex(n);return this.nodes[t]};kr.getNodeById=function(n){return this._nodesMap[ga(n)]};kr.addEdge=function(n,t,i){var f=this._nodesMap,e=this._edgesMap,u,r;if(typeof n=="number"&&(n=this.nodes[n]),typeof t=="number"&&(t=this.nodes[t]),n instanceof ie||(n=f[ga(n)]),t instanceof ie||(t=f[ga(t)]),n&&t)return(u=n.id+"-"+t.id,e[u])?void 0:(r=new gtt(n,t,i),r.hostGraph=this,this._directed&&(n.outEdges.push(r),t.inEdges.push(r)),n.edges.push(r),n!==t&&t.edges.push(r),this.edges.push(r),e[u]=r,r)};kr.getEdgeByIndex=function(n){var t=this.edgeData.getRawIndex(n);return this.edges[t]};kr.getEdge=function(n,t){n instanceof ie&&(n=n.id);t instanceof ie&&(t=t.id);var i=this._edgesMap;return this._directed?i[n+"-"+t]:i[n+"-"+t]||i[t+"-"+n]};kr.eachNode=function(n,t){for(var r=this.nodes,u=r.length,i=0;i<u;i++)r[i].dataIndex>=0&&n.call(t,r[i],i)};kr.eachEdge=function(n,t){for(var r=this.edges,u=r.length,i=0;i<u;i++)r[i].dataIndex>=0&&r[i].node1.dataIndex>=0&&r[i].node2.dataIndex>=0&&n.call(t,r[i],i)};kr.breadthFirstTraverse=function(n,t,i,r){var c,e,o,h,u,s,f;if(t instanceof ie||(t=this._nodesMap[ga(t)]),t){for(c=i==="out"?"outEdges":i==="in"?"inEdges":"edges",u=0;u<this.nodes.length;u++)this.nodes[u].__visited=!1;if(!n.call(r,t,null))for(e=[t];e.length;)for(o=e.shift(),h=o[c],u=0;u<h.length;u++)if(s=h[u],f=s.node1===o?s.node2:s.node1,!f.__visited){if(n.call(r,f,o))return;e.push(f);f.__visited=!0}}};kr.update=function(){for(var f=this.data,i=this.edgeData,u=this.nodes,r=this.edges,n=0,t=u.length;n<t;n++)u[n].dataIndex=-1;for(n=0,t=f.count();n<t;n++)u[f.getRawIndex(n)].dataIndex=n;for(i.filterSelf(function(n){var t=r[i.getRawIndex(n)];return t.node1.dataIndex>=0&&t.node2.dataIndex>=0}),n=0,t=r.length;n<t;n++)r[n].dataIndex=-1;for(n=0,t=i.count();n<t;n++)r[i.getRawIndex(n)].dataIndex=n};kr.clone=function(){for(var t,i=new nv(this._directed),r=this.nodes,u=this.edges,n=0;n<r.length;n++)i.addNode(r[n].id,r[n].dataIndex);for(n=0;n<u.length;n++)t=u[n],i.addEdge(t.node1.id,t.node2.id,t.dataIndex);return i};ie.prototype={constructor:ie,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(n){if(!(this.dataIndex<0)){var t=this.hostGraph,i=t.data.getItemModel(this.dataIndex);return i.getModel(n)}}};gtt.prototype.getModel=function(n){if(!(this.dataIndex<0)){var t=this.hostGraph,i=t.edgeData.getItemModel(this.dataIndex);return i.getModel(n)}};vat=function(n,t){return{getValue:function(i){var r=this[n][t];return r.get(r.getDimension(i||"value"),this.dataIndex)},setVisual:function(i,r){this.dataIndex>=0&&this[n][t].setItemVisual(this.dataIndex,i,r)},getVisual:function(i,r){return this[n][t].getItemVisual(this.dataIndex,i,r)},setLayout:function(i,r){this.dataIndex>=0&&this[n][t].setItemLayout(this.dataIndex,i,r)},getLayout:function(){return this[n][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[n][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[n][t].getRawIndex(this.dataIndex)}}};nt(ie,vat("hostGraph","data"));nt(gtt,vat("hostGraph","edgeData"));nv.Node=ie;nv.Edge=gtt;var sci=function(n,t,i,r,u){for(var h,e,c,b,l,o=new nv(r),f=0;f<n.length;f++)o.addNode(kt(n[f].id,n[f].name,f),f);var a=[],v=[],y=0;for(f=0;f<t.length;f++){var s=t[f],p=s.source,w=s.target;o.addEdge(p,w,y)&&(v.push(s),a.push(kt(s.id,p+" > "+w)),y++)}return h=i.get("coordinateSystem"),h==="cartesian2d"||h==="polar"?e=os(n,i,i.ecModel):(c=ir.get(h),b=rr((c&&c.type!=="view"?c.dimensions||[]:[]).concat(["value"]),n),e=new yt(b,i),e.initData(n)),l=new yt(["value"],i),l.initData(v,a),u&&u(e,l),gsi({mainData:e,struct:o,structAttr:"graph",datas:{node:e,edge:l},datasAttr:{node:"data",edge:"edgeData"}}),o.update(),o},uw=sp({type:"series.graph",init:function(n){uw.superApply(this,"init",arguments);this.legendDataProvider=function(){return this._categoriesData};this.fillDataTextStyle(n.edges||n.links);this._updateCategoriesData()},mergeOption:function(n){uw.superApply(this,"mergeOption",arguments);this.fillDataTextStyle(n.edges||n.links);this._updateCategoriesData()},mergeDefaultAndTheme:function(n){uw.superApply(this,"mergeDefaultAndTheme",arguments);wh(n.edgeLabel,["show"])},getInitialData:function(n,t){function f(n,i){function e(n){return n=this.parsePath(n),n&&n[0]==="label"?f:this.parentModel}n.wrapMethod("getItemModel",function(n){var i=u._categoriesModels,r=n.getShallow("category"),t=i[r];return t&&(t.parentModel=n.parentModel,n.parentModel=t),n});var r=u.getModel("edgeLabel"),f=new it({label:r.option},r.parentModel,t);i.wrapMethod("getItemModel",function(n){return n.customizeGetParent(e),n})}var i=n.edges||n.links||[],r=n.data||n.nodes||[],u=this;if(r&&i)return sci(r,i,this,!0,f).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(n,t,i){if(i==="edge"){var u=this.getData(),f=this.getDataParams(n,i),e=u.graph.getEdgeByIndex(n),o=u.getName(e.node1.dataIndex),s=u.getName(e.node2.dataIndex),r=[];return o!=null&&r.push(o),s!=null&&r.push(s),r=dt(r.join(" > ")),f.value&&(r+=" : "+dt(f.value)),r}return uw.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var t=i(this.option.categories||[],function(n){return n.value!=null?n:s({value:0},n)}),n=new yt(["value"],this);n.initData(t);this._categoriesData=n;this._categoriesModels=n.mapArray(function(t){return n.getItemModel(t,!0)})},setZoom:function(n){this.option.zoom=n},setCenter:function(n){this.option.center=n},isAnimationEnabled:function(){return uw.superCall(this,"isAnimationEnabled")&&!(this.get("layout")==="force"&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{normal:{position:"middle"},emphasis:{}},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{normal:{show:!1,formatter:"{b}"},emphasis:{show:!0}},itemStyle:{normal:{},emphasis:{}},lineStyle:{normal:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{}}}}),hci=cu.prototype,yat=est.prototype;cci=yf({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(n,t){(pat(t)?hci:yat).buildPath(n,t)},pointAt:function(n){return pat(this.shape)?hci.pointAt.call(this,n):yat.pointAt.call(this,n)},tangentAt:function(n){var t=this.shape,i=pat(t)?[t.x2-t.x1,t.y2-t.y1]:yat.tangentAt.call(this,n);return cl(i,i)}});nit=["fromSymbol","toSymbol"];de=fw.prototype;de.beforeUpdate=owr;de._createLine=function(n,i,r){var e=n.hostModel,o=n.getItemLayout(i),u=ewr(o),f;u.shape.percent=0;fr(u,{shape:{percent:1}},e,i);this.add(u);f=new b({name:"label"});this.add(f);t(nit,function(t){var r=aci(t,n,i);this.add(r);this[lci(t)]=n.getItemVisual(i,t)},this);this._updateCommonStl(n,i,r)};de.updateData=function(n,i,r){var f=n.hostModel,e=this.childOfName("line"),o=n.getItemLayout(i),u={shape:{}};wat(u.shape,o);k(e,u,f,i);t(nit,function(t){var r=n.getItemVisual(i,t),u=lci(t),f;this[u]!==r&&(this.remove(this.childOfName(t)),f=aci(t,n,i),this.add(f));this[u]=r},this);this._updateCommonStl(n,i,r)};de._updateCommonStl=function(n,i,r){var c=n.hostModel,d=this.childOfName("line"),a=r&&r.lineStyle,g=r&&r.hoverLineStyle,s=r&&r.labelModel,u=r&&r.hoverLabelModel,e,h,v,o,k;(!r||n.hasItemOption)&&(e=n.getItemModel(i),a=e.getModel("lineStyle.normal").getLineStyle(),g=e.getModel("lineStyle.emphasis").getLineStyle(),s=e.getModel("label.normal"),u=e.getModel("label.emphasis"));h=n.getItemVisual(i,"color");v=nh(n.getItemVisual(i,"opacity"),a.opacity,1);d.useStyle(l({strokeNoScale:!0,fill:"none",stroke:h,opacity:v},a));d.hoverStyle=g;t(nit,function(n){var t=this.childOfName(n);t&&(t.setColor(h),t.setStyle({opacity:v}))},this);var y=s.getShallow("show"),p=u.getShallow("show"),f=this.childOfName("label"),nt,w,b,tt;(y||p)&&(o=c.getRawValue(i),w=o==null?w=n.getName(i):isFinite(o)?lr(o):o,nt=h||"#000",b=si(c.getFormattedLabel(i,"normal",n.dataType),w),tt=si(c.getFormattedLabel(i,"emphasis",n.dataType),b));y?(k=gt(f.style,s,{text:b},{autoColor:nt}),f.__textAlign=k.textAlign,f.__verticalAlign=k.textVerticalAlign,f.__position=s.get("position")||"middle"):f.setStyle("text",null);f.hoverStyle=p?{text:tt,textFill:u.getTextColor(!0),fontStyle:u.getShallow("fontStyle"),fontWeight:u.getShallow("fontWeight"),fontSize:u.getShallow("fontSize"),fontFamily:u.getShallow("fontFamily")}:{text:null};f.ignore=!y&&!p;vt(this)};de.highlight=function(){this.trigger("emphasis")};de.downplay=function(){this.trigger("normal")};de.updateLayout=function(n,t){this.setLinePoints(n.getItemLayout(t))};de.setLinePoints=function(n){var t=this.childOfName("line");wat(t.shape,n);t.dirty()};st(fw,e);iit=tit.prototype;iit.updateData=function(n){var r=this._lineData,t=this.group,f=this._ctor,i=n.hostModel,u={lineStyle:i.getModel("lineStyle.normal").getLineStyle(),hoverLineStyle:i.getModel("lineStyle.emphasis").getLineStyle(),labelModel:i.getModel("label.normal"),hoverLabelModel:i.getModel("label.emphasis")};n.diff(r).add(function(i){if(yci(n.getItemLayout(i))){var r=new f(n,i,u);n.setItemGraphicEl(i,r);t.add(r)}}).update(function(i,e){var o=r.getItemGraphicEl(e);if(!yci(n.getItemLayout(i))){t.remove(o);return}o?o.updateData(n,i,u):o=new f(n,i,u);n.setItemGraphicEl(i,o);t.add(o)}).remove(function(n){t.remove(r.getItemGraphicEl(n))}).execute();this._lineData=n};iit.updateLayout=function(){var n=this._lineData;n.eachItemGraphicEl(function(t,i){t.updateLayout(n,i)},this)};iit.remove=function(){this.group.removeAll()};var bat=[],kat=[],dat=[],tv=nr,gat=oe,pci=Math.abs;var nvt=function(n,t){function o(n){var t=n.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),t}var r=[],e=pot,i=[[],[],[]],u=[[],[]],f=[];t/=2;n.eachEdge(function(n){var s=n.getLayout(),a=n.getVisual("fromSymbol"),v=n.getVisual("toSymbol"),h,l,c;s.__original||(s.__original=[yu(s[0]),yu(s[1])],s[2]&&s.__original.push(yu(s[2])));h=s.__original;s[2]!=null?(di(i[0],h[0]),di(i[1],h[2]),di(i[2],h[1]),a&&a!="none"&&(c=o(n.node1),l=wci(i,h[0],c*t),e(i[0][0],i[1][0],i[2][0],l,r),i[0][0]=r[3],i[1][0]=r[4],e(i[0][1],i[1][1],i[2][1],l,r),i[0][1]=r[3],i[1][1]=r[4]),v&&v!="none"&&(c=o(n.node2),l=wci(i,h[1],c*t),e(i[0][0],i[1][0],i[2][0],l,r),i[1][0]=r[1],i[2][0]=r[2],e(i[0][1],i[1][1],i[2][1],l,r),i[1][1]=r[1],i[2][1]=r[2]),di(s[0],i[0]),di(s[1],i[2]),di(s[2],i[1])):(di(u[0],h[0]),di(u[1],h[1]),ee(f,u[1],u[0]),cl(f,f),a&&a!="none"&&(c=o(n.node1),dv(u[0],u[0],f,c*t)),v&&v!="none"&&(c=o(n.node2),dv(u[1],u[1],f,-c*t)),di(s[0],u[0]),di(s[1],u[1]))})},hc=["itemStyle","normal","opacity"],rit=["lineStyle","normal","opacity"];sr({type:"graph",init:function(n,t){var r=new aa,u=new tit,i=this.group;this._controller=new bp(t.getZr());this._controllerHost={target:i};i.add(r.group);i.add(u.group);this._symbolDraw=r;this._lineDraw=u;this._firstRender=!0},render:function(n,t,i){var f=n.coordinateSystem,e,r,h,u,o;this._model=n;this._nodeScaleRatio=n.get("nodeScaleRatio");var l=this._symbolDraw,a=this._lineDraw,s=this.group;f.type==="view"&&(e={position:f.position,scale:f.scale},this._firstRender?s.attr(e):k(s,e,n));nvt(n.getGraph(),this._getNodeGlobalScale(n));r=n.getData();l.updateData(r);h=n.getEdgeData();a.updateData(h);this._updateNodeAndLinkScale();this._updateController(n,t,i);clearTimeout(this._layoutTimeout);u=n.forceLayout;o=n.get("force.layoutAnimation");u&&this._startForceLayoutIteration(u,o);r.eachItemGraphicEl(function(t,f){var s=r.getItemModel(f),e;if(t.off("drag").off("dragend"),e=r.getItemModel(f).get("draggable"),e)t.on("drag",function(){u&&(u.warmUp(),this._layouting||this._startForceLayoutIteration(u,o),u.setFixed(f),r.setItemLayout(f,t.position))},this).on("dragend",function(){u&&u.setUnfixed(f)},this);if(t.setDraggable(e&&u),t.off("mouseover",t.__focusNodeAdjacency),t.off("mouseout",t.__unfocusNodeAdjacency),s.get("focusNodeAdjacency")){t.on("mouseover",t.__focusNodeAdjacency=function(){i.dispatchAction({type:"focusNodeAdjacency",seriesId:n.id,dataIndex:t.dataIndex})});t.on("mouseout",t.__unfocusNodeAdjacency=function(){i.dispatchAction({type:"unfocusNodeAdjacency",seriesId:n.id})})}},this);r.graph.eachEdge(function(t){var r=t.getGraphicEl();if(r.off("mouseover",r.__focusNodeAdjacency),r.off("mouseout",r.__unfocusNodeAdjacency),t.getModel().get("focusNodeAdjacency")){r.on("mouseover",r.__focusNodeAdjacency=function(){i.dispatchAction({type:"focusNodeAdjacency",seriesId:n.id,edgeDataIndex:t.dataIndex})});r.on("mouseout",r.__unfocusNodeAdjacency=function(){i.dispatchAction({type:"unfocusNodeAdjacency",seriesId:n.id})})}});var v=n.get("layout")==="circular"&&n.get("circular.rotateLabel"),c=r.getLayout("cx"),y=r.getLayout("cy");r.eachItemGraphicEl(function(n,t){var u=n.getSymbolPath(),f,i,e,o;v?(f=r.getItemLayout(t),i=Math.atan2(f[1]-y,f[0]-c),i<0&&(i=Math.PI*2+i),e=f[0]<c,e&&(i=i-Math.PI),o=e?"left":"right",u.setStyle({textRotation:-i,textPosition:o,textOrigin:"center"}),u.hoverStyle&&(u.hoverStyle.textPosition=o)):u.setStyle({textRotation:0})});this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose();this._controllerHost={}},focusNodeAdjacency:function(n,i,r,u){var s=this._model.getData(),e=s.graph,h=u.dataIndex,c=u.edgeDataIndex,o=e.getNodeByIndex(h),f=e.getEdgeByIndex(c);(o||f)&&(e.eachNode(function(n){uit(n,hc,.1)}),e.eachEdge(function(n){uit(n,rit,.1)}),o&&(cc(o,hc),t(o.edges,function(n){n.dataIndex<0||(cc(n,rit),cc(n.node1,hc),cc(n.node2,hc))})),f&&(cc(f,rit),cc(f.node1,hc),cc(f.node2,hc)))},unfocusNodeAdjacency:function(){var n=this._model.getData().graph;n.eachNode(function(n){uit(n,hc)});n.eachEdge(function(n){uit(n,rit)})},_startForceLayoutIteration:function(n,t){var i=this;(function r(){n.step(function(n){i.updateLayout(i._model);(i._layouting=!n)&&(t?i._layoutTimeout=setTimeout(r,16):r())})})()},_updateController:function(n,t,i){var r=this._controller,u=this._controllerHost,f=this.group;if(r.setPointerChecker(function(t,r,u){var e=f.getBoundingRect();return e.applyTransform(f.transform),e.contain(r,u)&&!plt(t,i,n)}),n.coordinateSystem.type!=="view"){r.disable();return}r.enable(n.get("roam"));u.zoomLimit=n.get("scaleLimit");u.zoom=n.coordinateSystem.getZoom();r.off("pan").off("zoom").on("pan",function(t,r){csi(u,t,r);i.dispatchAction({seriesId:n.id,type:"graphRoam",dx:t,dy:r})}).on("zoom",function(t,r,f){lsi(u,t,r,f);i.dispatchAction({seriesId:n.id,type:"graphRoam",zoom:t,originX:r,originY:f});this._updateNodeAndLinkScale();nvt(n.getGraph(),this._getNodeGlobalScale(n));this._lineDraw.updateLayout()},this)},_updateNodeAndLinkScale:function(){var n=this._model,i=n.getData(),t=this._getNodeGlobalScale(n),r=[t,t];i.eachItemGraphicEl(function(n){n.attr("scale",r)})},_getNodeGlobalScale:function(n){var t=n.coordinateSystem;if(t.type!=="view")return 1;var r=this._nodeScaleRatio,i=t.scale,u=i&&i[0]||1,f=t.getZoom(),e=(f-1)*r+1;return e/u},updateLayout:function(n){nvt(n.getGraph(),this._getNodeGlobalScale(n));this._symbolDraw.updateLayout();this._lineDraw.updateLayout()},remove:function(){this._symbolDraw&&this._symbolDraw.remove();this._lineDraw&&this._lineDraw.remove()}});kci={type:"graphRoam",event:"graphRoam",update:"none"};ft(kci,function(n,t){t.eachComponent({mainType:"series",query:n},function(t){var r=t.coordinateSystem,i=psi(r,n);t.setCenter&&t.setCenter(i.center);t.setZoom&&t.setZoom(i.zoom)})});ft({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series.graph:focusNodeAdjacency"},function(){});ft({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series.graph:unfocusNodeAdjacency"},function(){});dci=function(n){var t=n.findComponents({mainType:"legend"});t&&t.length&&n.eachSeriesByType("graph",function(n){var i=n.getCategoriesData(),u=n.getGraph(),r=u.data,f=i.mapArray(i.getName);r.filterSelf(function(n){var e=r.getItemModel(n),i=e.getShallow("category"),u;if(i!=null)for(typeof i=="number"&&(i=f[i]),u=0;u<t.length;u++)if(!t[u].isSelected(i))return!1;return!0})},this)};gci=function(n){var t={};n.eachSeriesByType("graph",function(n){var i=n.getCategoriesData(),r=n.getData(),u={};i.each(function(r){var f=i.getName(r),e,o;u["ec-"+f]=r;e=i.getItemModel(r);o=e.get("itemStyle.normal.color")||n.getColorFromPalette(f,t);i.setItemVisual(r,"color",o)});i.count()&&r.each(function(n){var f=r.getItemModel(n),t=f.getShallow("category");t!=null&&(typeof t=="string"&&(t=u["ec-"+t]),r.getItemVisual(n,"color",!0)||r.setItemVisual(n,"color",i.getItemVisual(t,"color")))})})};nli=function(n){n.eachSeriesByType("graph",function(n){var e=n.getGraph(),t=n.getEdgeData(),i=fit(n.get("edgeSymbol")),r=fit(n.get("edgeSymbolSize")),u="lineStyle.normal.color".split("."),f="lineStyle.normal.opacity".split(".");t.setVisual("fromSymbol",i&&i[0]);t.setVisual("toSymbol",i&&i[1]);t.setVisual("fromSymbolSize",r&&r[0]);t.setVisual("toSymbolSize",r&&r[1]);t.setVisual("color",n.get(u));t.setVisual("opacity",n.get(f));t.each(function(n){var r=t.getItemModel(n),i=e.getEdgeByIndex(n),o=fit(r.getShallow("symbol",!0)),s=fit(r.getShallow("symbolSize",!0)),h=r.get(u),c=r.get(f);switch(h){case"source":h=i.node1.getVisual("color");break;case"target":h=i.node2.getVisual("color")}o[0]&&i.setVisual("fromSymbol",o[0]);o[1]&&i.setVisual("toSymbol",o[1]);s[0]&&i.setVisual("fromSymbolSize",s[0]);s[1]&&i.setVisual("toSymbolSize",s[1]);i.setVisual("color",h);i.setVisual("opacity",c)})})};rli=function(n){n.eachSeriesByType("graph",function(n){var u=n.get("layout"),i=n.coordinateSystem,t,r;i&&i.type!=="view"?(t=n.getData(),r=i.dimensions,t.each(r,function(){for(var f,e,n=arguments,o=[],u=0;u<r.length;u++)isNaN(n[u])||(e=!0),o.push(n[u]);f=n[n.length-1];e?t.setItemLayout(f,i.dataToPoint(o)):t.setItemLayout(f,[NaN,NaN])}),ili(t.graph)):u&&u!=="none"||tli(n)})};fli=function(n){n.eachSeriesByType("graph",function(n){n.get("layout")==="circular"&&uli(n)})};lc=dv;eli=function(n){n.eachSeriesByType("graph",function(n){var h=n.coordinateSystem;if(!h||h.type==="view")if(n.get("layout")==="force"){var c=n.preservedPoints||{},f=n.getGraph(),i=f.data,a=f.edgeData,o=n.getModel("force"),l=o.get("initLayout");n.preservedPoints?i.each(function(n){var t=i.getId(n);i.setItemLayout(n,c[t]||[NaN,NaN])}):l&&l!=="none"?l==="circular"&&uli(n):tli(n);var v=i.getDataExtent("value"),y=a.getDataExtent("value"),u=o.get("repulsion"),t=o.get("edgeLength");r(u)||(u=[u,u]);r(t)||(t=[t,t]);t=[t[1],t[0]];var e=i.mapArray("value",function(n,t){var r=i.getItemLayout(t),f=ti(n,v,u);return isNaN(f)&&(f=(u[0]+u[1])/2),{w:f,rep:f,fixed:i.getItemModel(t).get("fixed"),p:!r||isNaN(r[0])||isNaN(r[1])?null:r}}),p=a.mapArray("value",function(n,i){var r=f.getEdgeByIndex(i),u=ti(n,y,t);return isNaN(u)&&(u=(t[0]+t[1])/2),{n1:e[r.node1.dataIndex],n2:e[r.node2.dataIndex],d:u,curveness:r.getModel().get("lineStyle.normal.curveness")||0}}),h=n.coordinateSystem,w=h.getBoundingRect(),s=swr(e,p,{rect:w,gravity:o.get("gravity")}),b=s.step;s.step=function(n){for(var t=0,r=e.length;t<r;t++)e[t].fixed&&di(e[t].p,f.getNodeByIndex(t).getLayout());b(function(t,r,u){for(var e=0,a=t.length;e<a;e++)t[e].fixed||f.getNodeByIndex(e).setLayout(t[e].p),c[i.getId(e)]=t[e].p;for(e=0,a=r.length;e<a;e++){var s=r[e],v=f.getEdgeByIndex(e),h=s.n1.p,l=s.n2.p,o=v.getLayout();o=o?o.slice():[];o[0]=o[0]||[];o[1]=o[1]||[];di(o[0],h);di(o[1],l);+s.curveness&&(o[2]=[(h[0]+l[0])/2-(h[1]-l[1])*s.curveness,(h[1]+l[1])/2-(l[0]-h[0])*s.curveness]);v.setLayout(o)}n&&n(u)})};n.forceLayout=s;n.preservedPoints=c;s.step()}else n.forceLayout=null})};oli=function(n,t){var i=[];return n.eachSeriesByType("graph",function(n){var s=n.get("coordinateSystem"),o,u;if(!s||s==="view"){var h=n.getData(),c=h.mapArray(function(n){var t=h.getItemModel(n);return[+t.get("x"),+t.get("y")]}),r=[],f=[];tti(c,r,f);f[0]-r[0]==0&&(f[0]+=1,r[0]-=1);f[1]-r[1]==0&&(f[1]+=1,r[1]-=1);o=(f[0]-r[0])/(f[1]-r[1]);u=hwr(n,t,o);isNaN(o)&&(r=[u.x,u.y],f=[u.x+u.width,u.y+u.height]);var l=f[0]-r[0],a=f[1]-r[1],v=u.width,y=u.height,e=n.coordinateSystem=new oc;e.zoomLimit=n.get("scaleLimit");e.setBoundingRect(r[0],r[1],l,a);e.setViewRect(u.x,u.y,v,y);e.setCenter(n.get("center"));e.setZoom(n.get("zoom"));i.push(e)}}),i};tf(dci);pt(o(fc,"graph","circle",null));pt(gci);pt(nli);ni(rli);ni(fli);ni(eli);bht("graphView",{create:oli});cwr=ci.extend({type:"series.gauge",getInitialData:function(n){var i=new yt(["value"],this),t=n.data||[];return r(t)||(t=[t]),i.initData(t),i},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{normal:{color:"auto"}},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}});sli=tt.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(n,t){var u=Math.cos,f=Math.sin,e=t.r,i=t.width,r=t.angle,o=t.x-u(r)*i*(i>=e/3?1:2),s=t.y-f(r)*i*(i>=e/3?1:2);r=t.angle-Math.PI/2;n.moveTo(o,s);n.lineTo(t.x+u(r)*i,t.y+f(r)*i);n.lineTo(t.x+u(t.angle)*e,t.y+f(t.angle)*e);n.lineTo(t.x-u(r)*i,t.y-f(r)*i);n.lineTo(o,s);return}});var awr=Math.PI*2,bou=or.extend({type:"gauge",render:function(n,t,i){this.group.removeAll();var r=n.get("axisLine.lineStyle.color"),u=lwr(n,i);this._renderMain(n,t,i,r,u)},dispose:function(){},_renderMain:function(n,t,i,r,u){for(var o,v,y=this.group,p=n.getModel("axisLine"),l=p.getModel("lineStyle"),s=n.get("clockwise"),f=-n.get("startAngle")/180*Math.PI,e=-n.get("endAngle")/180*Math.PI,w=(e-f)%awr,a=f,b=l.get("width"),h=0;h<r.length;h++){var k=Math.min(Math.max(r[h][0],0),1),e=f+w*k,c=new ts({shape:{startAngle:a,endAngle:e,cx:u.cx,cy:u.cy,clockwise:s,r0:u.r-b,r:u.r},silent:!0});c.setStyle({fill:r[h][1]});c.setStyle(l.getLineStyle(["color","borderWidth","borderColor"]));y.add(c);a=e}o=function(n){if(n<=0)return r[0][1];for(var t=0;t<r.length;t++)if(r[t][0]>=n&&(t===0?0:r[t-1][0])<n)return r[t][1];return r[t-1][1]};s||(v=f,f=e,e=v);this._renderTicks(n,t,i,o,u,f,e,s);this._renderPointer(n,t,i,o,u,f,e,s);this._renderTitle(n,t,i,o,u);this._renderDetail(n,t,i,o,u)},_renderTicks:function(n,t,i,r,f,e,o){for(var h,c,rt,g,nt=this.group,y=f.cx,p=f.cy,s=f.r,ut=+n.get("min"),at=+n.get("max"),tt=n.getModel("splitLine"),w=n.getModel("axisTick"),k=n.getModel("axisLabel"),l=n.get("splitNumber"),it=w.get("splitNumber"),d=u(tt.get("length"),s),ft=u(w.get("length"),s),a=e,et=(o-e)/l,ot=et/it,st=tt.getModel("lineStyle").getLineStyle(),ht=w.getModel("lineStyle").getLineStyle(),v=0;v<=l;v++){if(h=Math.cos(a),c=Math.sin(a),tt.get("show")&&(rt=new cu({shape:{x1:h*s+y,y1:c*s+p,x2:h*(s-d)+y,y2:c*(s-d)+p},style:st,silent:!0}),st.stroke==="auto"&&rt.setStyle({stroke:r(v/l)}),nt.add(rt)),k.get("show")){var vt=hli(lr(v/l*(at-ut)+ut),k.get("formatter")),ct=k.get("distance"),yt=r(v/l);nt.add(new b({style:gt({},k,{text:vt,x:h*(s-d-ct)+y,y:c*(s-d-ct)+p,textVerticalAlign:c<-.4?"top":c>.4?"bottom":"middle",textAlign:h<-.4?"left":h>.4?"right":"center"},{autoColor:yt}),silent:!0}))}if(w.get("show")&&v!==l){for(g=0;g<=it;g++){var h=Math.cos(a),c=Math.sin(a),lt=new cu({shape:{x1:h*s+y,y1:c*s+p,x2:h*(s-ft)+y,y2:c*(s-ft)+p},silent:!0,style:ht});ht.stroke==="auto"&&lt.setStyle({stroke:r((v+g/it)/l)});nt.add(lt);a+=ot}a-=ot}else a+=et}},_renderPointer:function(n,t,i,r,f,e,o){var c=this.group,h=this._data;if(!n.get("pointer.show")){h&&h.eachItemGraphicEl(function(n){c.remove(n)});return}var l=[+n.get("min"),+n.get("max")],a=[e,o],s=n.getData();s.diff(h).add(function(t){var i=new sli({shape:{angle:e}});fr(i,{shape:{angle:ti(s.get("value",t),l,a,!0)}},n);c.add(i);s.setItemGraphicEl(t,i)}).update(function(t,i){var r=h.getItemGraphicEl(i);k(r,{shape:{angle:ti(s.get("value",t),l,a,!0)}},n);c.add(r);s.setItemGraphicEl(t,r)}).remove(function(n){var t=h.getItemGraphicEl(n);c.remove(t)}).execute();s.eachItemGraphicEl(function(n,t){var i=s.getItemModel(t),e=i.getModel("pointer");n.setShape({x:f.cx,y:f.cy,width:u(e.get("width"),f.r),r:u(e.get("length"),f.r)});n.useStyle(i.getModel("itemStyle.normal").getItemStyle());n.style.fill==="auto"&&n.setStyle("fill",r(ti(s.get("value",t),l,[0,1],!0)));vt(n,i.getModel("itemStyle.emphasis").getItemStyle())});this._data=s},_renderTitle:function(n,t,i,r,f){var e=n.getModel("title");if(e.get("show")){var o=e.get("offsetCenter"),s=f.cx+u(o[0],f.r),h=f.cy+u(o[1],f.r),c=+n.get("min"),l=+n.get("max"),a=n.getData().get("value",0),v=r(ti(a,[c,l],[0,1],!0));this.group.add(new b({silent:!0,style:gt({},e,{x:s,y:h,text:n.getData().getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:v,forceRich:!0})}))}},_renderDetail:function(n,t,i,r,f){var e=n.getModel("detail"),l=+n.get("min"),a=+n.get("max");if(e.get("show")){var o=e.get("offsetCenter"),v=f.cx+u(o[0],f.r),y=f.cy+u(o[1],f.r),s=u(e.get("width"),f.r),h=u(e.get("height"),f.r),c=n.getData().get("value",0),p=r(ti(c,[l,a],[0,1],!0));this.group.add(new b({silent:!0,style:gt({},e,{x:v,y:y,text:hli(c,e.get("formatter")),textWidth:isNaN(s)?null:s,textHeight:isNaN(h)?null:h,textAlign:"center",textVerticalAlign:"middle"},{autoColor:p,forceRich:!0})}))}}}),cli=sp({type:"series.funnel",init:function(n){cli.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()};this._defaultLabelLine(n)},getInitialData:function(n){var i=rr(["value"],n.data),t=new yt(i,this);return t.initData(n.data),t},_defaultLabelLine:function(n){wh(n.labelLine,["show"]);var t=n.labelLine.normal,i=n.labelLine.emphasis;t.show=t.show&&n.label.normal.show;i.show=i.show&&n.label.emphasis.show},getDataParams:function(n){var i=this.getData(),t=cli.superCall(this,"getDataParams",n),r=i.getSum("value");return t.percent=r?+(i.get("value",n)/r*100).toFixed(2):0,t.$vars.push("percent"),t},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{normal:{show:!0,position:"outer"},emphasis:{show:!0}},labelLine:{normal:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},emphasis:{}},itemStyle:{normal:{borderColor:"#fff",borderWidth:1},emphasis:{}}}});ivt=tvt.prototype;lli=["itemStyle","normal","opacity"];ivt.updateData=function(n,t,i){var r=this.childAt(0),e=n.hostModel,h=n.getItemModel(t),o=n.getItemLayout(t),u=n.getItemModel(t).get(lli),f,s;u=u==null?1:u;r.useStyle({});i?(r.setShape({points:o.points}),r.setStyle({opacity:0}),fr(r,{style:{opacity:u}},e,t)):k(r,{style:{opacity:u},shape:{points:o.points}},e,t);f=h.getModel("itemStyle");s=n.getItemVisual(t,"color");r.setStyle(l({lineJoin:"round",fill:s},f.getModel("normal").getItemStyle(["opacity"])));r.hoverStyle=f.getModel("emphasis").getItemStyle();this._updateLabel(n,t);vt(this)};ivt._updateLabel=function(n,t){var r=this.childAt(1),u=this.childAt(2),e=n.hostModel,f=n.getItemModel(t),a=n.getItemLayout(t),i=a.label,o=n.getItemVisual(t,"color");k(r,{shape:{points:i.linePoints||i.linePoints}},e,t);k(u,{style:{x:i.x,y:i.y}},e,t);u.attr({rotation:i.rotation,origin:[i.x,i.y],z2:10});var s=f.getModel("label.normal"),h=f.getModel("label.emphasis"),c=f.getModel("labelLine.normal"),l=f.getModel("labelLine.emphasis"),o=n.getItemVisual(t,"color");gu(u.style,u.hoverStyle={},s,h,{labelFetcher:n.hostModel,labelDataIndex:t,defaultText:n.getName(t),autoColor:o,useInsideStyle:!!i.inside},{textAlign:i.textAlign,textVerticalAlign:i.verticalAlign});u.ignore=u.normalIgnore=!s.get("show");u.hoverIgnore=!h.get("show");r.ignore=r.normalIgnore=!c.get("show");r.hoverIgnore=!l.get("show");r.setStyle({stroke:o});r.setStyle(c.getModel("lineStyle").getLineStyle());r.hoverStyle=l.getModel("lineStyle").getLineStyle()};st(tvt,e);vwr=or.extend({type:"funnel",render:function(n){var t=n.getData(),i=this._data,r=this.group;t.diff(i).add(function(n){var i=new tvt(t,n);t.setItemGraphicEl(n,i);r.add(i)}).update(function(n,u){var f=i.getItemGraphicEl(u);f.updateData(t,n);r.add(f);t.setItemGraphicEl(n,f)}).remove(function(n){var t=i.getItemGraphicEl(n);r.remove(t)}).execute();this._data=t},remove:function(){this.group.removeAll();this._data=null},dispose:function(){}});ali=function(n,t){n.eachSeriesByType("funnel",function(n){var r=n.getData(),a=n.get("sort"),i=ywr(n,t),f=pwr(r,a),w=[u(n.get("minSize"),i.width),u(n.get("maxSize"),i.width)],v=r.getDataExtent("value"),c=n.get("min"),l=n.get("max"),e;c==null&&(c=Math.min(v[0],0));l==null&&(l=v[1]);var b=n.get("funnelAlign"),o=n.get("gap"),s=(i.height-o*(r.count()-1))/r.count(),h=i.y,y=function(n,t){var e=r.get("value",n)||0,f=ti(e,[c,l],w,!0),u;switch(b){case"left":u=i.x;break;case"center":u=i.x+(i.width-f)/2;break;case"right":u=i.x+i.width-f}return[[u,t],[u+f,t]]};for(a==="ascending"&&(s=-s,o=-o,h+=i.height,f=f.reverse()),e=0;e<f.length;e++){var p=f[e],k=f[e+1],d=y(p,h),g=y(k,h+s);h+=s+o;r.setItemLayout(p,{points:d.concat(g.slice().reverse())})}wwr(r)})};pt(o(clt,"funnel"));ni(ali);tf(o(rtt,"funnel"));vli=function(n){bwr(n);kwr(n)};ew=function(n,t,i,r,u){ri.call(this,n,t,i);this.type=r||"value";this.axisIndex=u};ew.prototype={constructor:ew,model:null,isHorizontal:function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"}};st(ew,ri);ac=function(n,t,i,r,u,f){var c,o,h,s,e;return t[0]=eit(t[0],i),t[1]=eit(t[1],i),n=n||0,c=i[1]-i[0],u!=null&&(u=eit(u,[0,c])),f!=null&&(f=Math.max(f,u!=null?u:0)),r==="all"&&(u=f=Math.abs(t[1]-t[0]),r=0),o=rvt(t,r),t[r]+=n,h=u||0,s=i.slice(),o.sign<0?s[0]+=h:s[1]-=h,t[r]=eit(t[r],s),e=rvt(t,r),u!=null&&(e.sign!==o.sign||e.span<u)&&(t[1-r]=t[r]+o.sign*u),e=rvt(t,r),f!=null&&e.span>f&&(t[1-r]=t[r]+e.sign*f),t};var uvt=t,yli=Math.min,pli=Math.max,wli=Math.floor,dwr=Math.ceil,bli=lr,gwr=Math.PI;fvt.prototype={type:"parallel",constructor:fvt,_init:function(n,t){var i=n.dimensions,r=n.parallelAxisIndex;uvt(i,function(n,i){var e=r[i],u=t.getComponent("parallelAxis",e),f=this._axesMap.set(n,new ew(n,ca(u),[0,0],u.get("type"),e)),o=f.type==="category";f.onBand=o&&u.get("boundaryGap");f.inverse=u.get("inverse");u.axis=f;f.model=u;f.coordinateSystem=u.coordinateSystem=this},this)},update:function(n){this._updateAxesFromSeries(this._model,n)},containPoint:function(n){var t=this._makeLayoutInfo(),i=t.axisBase,r=t.layoutBase,u=t.pixelDimIndex,f=n[1-u],e=n[u];return f>=i&&f<=i+t.axisLength&&e>=r&&e<=r+t.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(n,t){t.eachSeries(function(i){if(n.contains(i,t)){var r=i.getData();uvt(this.dimensions,function(n){var t=this._axesMap.get(n);t.scale.unionExtentFromData(r,n);ic(t.scale,t.model)},this)}},this)},resize:function(n,t){this._rect=ai(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var i=this._model,o=this._rect,l=["x","y"],a=["width","height"],v=i.get("layout"),f=v==="horizontal"?0:1,s=o[a[f]],c=[0,s],r=this.dimensions.length,t=oit(i.get("axisExpandWidth"),c),h=oit(i.get("axisExpandCount")||0,[0,r]),b=i.get("axisExpandable")&&r>3&&r>h&&h>1&&t>0&&s>0,n=i.get("axisExpandWindow"),u,y,e,p,w;return n?(u=oit(n[1]-n[0],c),n[1]=n[0]+u):(u=oit(t*(h-1),c),y=i.get("axisExpandCenter")||wli(r/2),n=[t*y-u/2],n[1]=n[0]+u),e=(s-u)/(r-h),e<3&&(e=0),p=[wli(bli(n[0]/t,1))+1,dwr(bli(n[1]/t,1))-1],w=e/t*n[0],{layout:v,pixelDimIndex:f,layoutBase:o[l[f]],layoutLength:s,axisBase:o[l[1-f]],axisLength:o[a[1-f]],axisExpandable:b,axisExpandWidth:t,axisCollapseWidth:e,axisExpandWindow:n,axisCount:r,winInnerIndices:p,axisExpandWindow0Pos:w}},_layoutAxes:function(){var i=this._rect,r=this._axesMap,u=this.dimensions,n=this._makeLayoutInfo(),t=n.layout;r.each(function(t){var i=[0,n.axisLength],r=t.inverse?1:0;t.setExtent(i[r],i[1-r])});uvt(u,function(u,f){var e=(n.axisExpandable?tbr:nbr)(f,n),s={horizontal:{x:e.position,y:n.axisLength},vertical:{x:0,y:e.position}},l={horizontal:gwr/2,vertical:0},h=[s[t].x+i.x,s[t].y+i.y],c=l[t],o=ce();rh(o,o,c);ff(o,o,h);this._axesLayout[u]={position:h,rotation:c,transform:o,axisNameAvailableWidth:e.axisNameAvailableWidth,axisLabelShow:e.axisLabelShow,nameTruncateMaxWidth:e.nameTruncateMaxWidth,tickDirection:1,labelDirection:1,labelInterval:r.get(u).getLabelInterval()}},this)},getAxis:function(n){return this._axesMap.get(n)},dataToPoint:function(n,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(n),t)},eachActiveState:function(n,t,i){for(var o,f,r,s,h,c,e=this.dimensions,l=this._axesMap,a=this.hasAxisBrushed(),u=0,v=n.count();u<v;u++){if(o=n.getValues(e,u),a){for(f="active",r=0,s=e.length;r<s;r++)if(h=e[r],c=l.get(h).model.getActiveState(o[r],r),c==="inactive"){f="inactive";break}}else f="normal";t.call(i,f,u)}},hasAxisBrushed:function(){for(var t=this.dimensions,r=this._axesMap,i=!1,n=0,u=t.length;n<u;n++)r.get(t[n]).model.getActiveState()!=="normal"&&(i=!0);return i},axisCoordToPoint:function(n,t){var i=this._axesLayout[t];return bf([n,0],i.transform)},getAxisLayout:function(n){return c(this._axesLayout[n])},getSlidedAxisExpandWindow:function(n){var r=this._makeLayoutInfo(),a=r.pixelDimIndex,t=r.axisExpandWindow.slice(),i=t[1]-t[0],h=[0,r.axisExpandWidth*(r.axisCount-1)],l;if(!this.containPoint(n))return{behavior:"none",axisExpandWindow:t};var f=n[a]-r.layoutBase-r.axisExpandWindow0Pos,u,o="slide",s=r.axisCollapseWidth,e=this._model.get("axisExpandSlideTriggerArea"),c=e[0]!=null;return s?(c&&s&&f<i*e[0]?(o="jump",u=f-i*e[2]):c&&s&&f>i*(1-e[0])?(o="jump",u=f-i*(1-e[2])):(u=f-i*e[1])>=0&&(u=f-i*(1-e[1]))<=0&&(u=0),u*=r.axisExpandWidth/s,u?ac(u,t,h,"all"):o="none"):(i=t[1]-t[0],l=h[1]*f/i,t=[pli(0,l-i/2)],t[1]=yli(h[1],t[0]+i),t[0]=t[1]-i),{axisExpandWindow:t,behavior:o}}};ir.register("parallel",{create:ibr});evt=g.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return kl([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(n){var i=this.activeIntervals=c(n),t;if(i)for(t=i.length-1;t>=0;t--)sh(i[t])},getActiveState:function(n){var i=this.activeIntervals,t,r;if(!i.length)return"normal";if(n==null)return"inactive";for(t=0,r=i.length;t<r;t++)if(i[t][0]<=n&&n<=i[t][1])return"active";return"inactive"}});kli={type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};a(evt.prototype,rc);va("parallel",evt,rbr,kli);g.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){g.prototype.init.apply(this,arguments);this.mergeOption({})},mergeOption:function(n){var t=this.option;n&&a(t,n,!0);this._initDimensions()},contains:function(n,t){var i=n.get("parallelIndex");return i!=null&&t.getComponent("parallel",i)===this},setAxisExpand:function(n){t(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(t){n.hasOwnProperty(t)&&(this.option[t]=n[t])},this)},_initDimensions:function(){var n=this.dimensions=[],i=this.parallelAxisIndex=[],r=hr(this.dependentModels.parallelAxis,function(n){return(n.get("parallelIndex")||0)===this.componentIndex},this);t(r,function(t){n.push("dim"+t.get("dim"));i.push(t.componentIndex)})}});dli={type:"axisAreaSelect",event:"axisAreaSelected",update:"updateVisual"};ft(dli,function(n,t){t.eachComponent({mainType:"parallelAxis",query:n},function(t){t.axis.model.setActiveIntervals(n.intervals)})});ft("parallelAxisExpand",function(n,t){t.eachComponent({mainType:"parallel",query:n},function(t){t.setAxisExpand(n)})});var ys=o,re=t,ubr=i,ow=Math.min,iv=Math.max,fbr=Math.pow,ebr=1e4,obr=6,sbr=6,gli="globalPan",hbr={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},cbr={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},nai={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},lbr=0;rv.prototype={constructor:rv,enableBrush:function(n){return f&&ct(this._mounted),this._brushType&&vbr(this),n.brushType&&abr(this,n),this},setPanels:function(n){if(n&&n.length){var i=this._panels={};t(n,function(n){i[n.panelId]=c(n)})}else this._panels=null;return this},mount:function(n){n=n||{};f&&(this._mounted=!0);this._enableGlobalPan=n.enableGlobalPan;var t=this.group;return this._zr.add(t),t.attr({position:n.position||[0,0],rotation:n.rotation||0,scale:n.scale||[1,1]}),this._transform=t.getLocalTransform(),this},eachCover:function(n,t){re(this._covers,n,t)},updateCovers:function(n){function o(n,t){return(n.id!=null?n.id:h+t)+"-"+n.brushType}function l(n,t){return o(n.__brushOption,t)}function s(i,f){var o=n[i],s;f!=null&&t[f]===e?u[i]=t[f]:(s=u[i]=f!=null?(t[f].__brushOption=o,t[f]):iai(r,tai(r,o)),ovt(r,s))}function v(n){t[n]!==e&&r.group.remove(t[n])}f&&ct(this._mounted);n=i(n,function(n){return a(c(nai),n,!0)});var h='\0-brush-index-',t=this._covers,u=this._covers=[],r=this,e=this._creatingCover;return new es(t,n,l,o).add(s).update(s).remove(v).execute(),this},unmount:function(){if(!f||this._mounted)return this.enableBrush(!1),cvt(this),this._zr.remove(this.group),f&&(this._mounted=!1),this},dispose:function(){this.unmount();this.off()}};nt(rv,hi);yai={mousedown:function(n){var t,i;this._dragging?pai.call(this,n):n.target&&n.target.draggable||(pvt(n),t=this.group.transformCoordToLocal(n.offsetX,n.offsetY),this._creatingCover=null,i=this._creatingPanel=hvt(this,n,t),i&&(this._dragging=!0,this._track=[t.slice()]))},mousemove:function(n){var i=this.group.transformCoordToLocal(n.offsetX,n.offsetY),t;kbr(this,n,i);this._dragging&&(pvt(n),t=aai(this,n,i,!1),t&&vc(this,t))},mouseup:pai};sw={lineX:wai(0),lineY:wai(1),rect:{createCover:function(n,t){return oai(ys(cai,function(n){return n},function(n){return n}),n,t,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(n){var t=eai(n);return hai(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(n,t,i,r){sai(n,t,i,r)},updateCommon:lvt,contain:wvt},polygon:{createCover:function(n,t){var i=new e;return i.add(new af({name:"main",style:avt(t),silent:!0})),i},getCreatingRange:function(n){return n},endCreating:function(n,t){t.remove(t.childAt(0));t.add(new hu({name:"main",draggable:!0,drift:ys(wbr,n,t),ondragend:ys(vc,n,{isEnd:!0})}))},updateCoverShape:function(n,t,i){t.childAt(0).setShape({points:yvt(n,t,i)})},updateCommon:lvt,contain:wvt}};gai=["axisLine","axisTickLabel","axisName"];nvi=yi({type:"parallelAxis",init:function(n,t){nvi.superApply(this,"init",arguments);(this._brushController=new rv(t.getZr())).on("brush",h(this._onBrush,this))},render:function(n,i,r,u){var o,v;if(!dbr(n,i,u)&&(this.axisModel=n,this.api=r,this.group.removeAll(),o=this._axisGroup,this._axisGroup=new e,this.group.add(this._axisGroup),n.get("show"))){var h=gbr(n,i),y=h.coordinateSystem,c=n.getAreaSelectStyle(),l=c.width,p=n.axis.dim,w=y.getAxisLayout(p),a=s({strokeContainThreshold:l},w),f=new ki(n,a);t(gai,f.add,f);this._axisGroup.add(f.getGroup());this._refreshBrushController(a,c,n,h,l,r);v=u&&u.animation===!1?null:n;cst(o,this._axisGroup,v)}},updateVisual:function(n){this._brushController&&this._brushController.updateCovers(tvi(n))},_refreshBrushController:function(n,t,i,r,u,f){var o=i.axis.getExtent(),s=o[1]-o[0],h=Math.min(30,Math.abs(s)*.1),e=p.create({x:o[0],y:-u/2,width:s,height:u});e.x-=h;e.width+=2*h;this._brushController.mount({enableGlobalPan:!0,rotation:n.rotation,position:n.position}).setPanels([{panelId:"pl",clipPath:bai(e),isTargetByCursor:dai(e,f,r),getLinearBrushOtherExtent:kai(e,0)}]).enableBrush({brushType:"lineX",brushStyle:t,removeOnClick:!0}).updateCovers(tvi(i))},_onBrush:function(n,t){var r=this.axisModel,u=r.axis,f=i(n,function(n){return[u.coordToData(n.range[0],!0),u.coordToData(n.range[1],!0)]});(!r.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:r.id,intervals:f})},dispose:function(){this._brushController.dispose()}});ivi=5;yi({type:"parallel",render:function(n,i,r){this._model=n;this._api=r;this._handlers||(this._handlers={},t(rvi,function(n,t){r.getZr().on(t,this._handlers[t]=h(n,this))},this));up(this,"_throttledDispatchExpand",n.get("axisExpandRate"),"fixRate")},dispose:function(n,i){t(this._handlers,function(n,t){i.getZr().off(t,n)});this._handlers=null},_throttledDispatchExpand:function(n){this._dispatchExpand(n)},_dispatchExpand:function(n){n&&this._api.dispatchAction(s({type:"parallelAxisExpand"},n))}});rvi={mousedown:function(n){kvt(this,"click")&&(this._mouseDownPoint=[n.offsetX,n.offsetY])},mouseup:function(n){var t=this._mouseDownPoint,i,u,r;if(kvt(this,"click")&&t){if(i=[n.offsetX,n.offsetY],u=Math.pow(t[0]-i[0],2)+Math.pow(t[1]-i[1],2),u>ivi)return;r=this._model.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]);r.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:r.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(n){if(!this._mouseDownPoint&&kvt(this,"mousemove")){var i=this._model,r=i.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]),t=r.behavior;t==="jump"&&this._throttledDispatchExpand.debounceNextCall(i.get("axisExpandDebounce"));this._throttledDispatchExpand(t==="none"?null:{axisExpandWindow:r.axisExpandWindow,animation:t==="jump"?null:!1})}}};wi(vli);ci.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.normal.color",getInitialData:function(n,t){var u=t.getComponent("parallel",this.get("parallelIndex")),o=u.parallelAxisIndex,r=n.data,f=u.dimensions,s=tkr(f,r),h=i(s,function(n,i){var u=w(f,n),e=u>=0&&t.getComponent("parallelAxis",o[u]);return e&&e.get("type")==="category"?(nkr(e,n,r),{name:n,type:"ordinal"}):u<0?rr.guessOrdinal(r,i)?{name:n,type:"ordinal"}:n:n}),e=new yt(h,this);return e.initData(r),this.option.progressive&&(this.option.animation=!1),e},getRawIndicesByActiveState:function(n){var r=this.coordinateSystem,t=this.getData(),i=[];return r.eachActiveState(t,function(r,u){n===r&&i.push(t.getRawIndex(u))}),i},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{normal:{show:!1},emphasis:{show:!1}},inactiveOpacity:.05,activeOpacity:1,lineStyle:{normal:{width:1,opacity:.45,type:"solid"}},progressive:!1,smooth:!1,animationEasing:"linear"}});fvi=.3;ikr=or.extend({type:"parallel",init:function(){this._dataGroup=new e;this.group.add(this._dataGroup);this._data},render:function(n,t,i,r){this._renderForNormal(n,r)},dispose:function(){},_renderForNormal:function(n,t){function c(n){ukr(i,r,n,e,u,null,o)}function l(r,o){var s=f.getItemGraphicEl(o),c=evi(i,r,e,u),h;i.setItemGraphicEl(r,s);h=t&&t.animation===!1?null:n;k(s,{shape:{points:c}},h,r)}function a(n){var t=f.getItemGraphicEl(n);r.remove(t)}var r=this._dataGroup,i=n.getData(),f=this._data,u=n.coordinateSystem,e=u.dimensions,h=n.option,o=h.smooth?fvi:null,s;i.diff(f).add(c).update(l).remove(a).execute();fkr(i,o);this._data||(s=rkr(u,n,function(){setTimeout(function(){r.removeClipPath()})}),r.setClipPath(s));this._data=i},remove:function(){this._dataGroup&&this._dataGroup.removeAll();this._data=null}});ovi=["lineStyle","normal","opacity"];svi=function(n){n.eachSeriesByType("parallel",function(t){var u=t.getModel("itemStyle.normal"),f=t.getModel("lineStyle.normal"),r=n.get("color"),e=f.get("color")||u.get("color")||r[t.seriesIndex%r.length],o=t.get("inactiveOpacity"),s=t.get("activeOpacity"),h=t.getModel("lineStyle.normal").getLineStyle(),c=t.coordinateSystem,i=t.getData(),l={normal:h.opacity,active:s,inactive:o};c.eachActiveState(i,function(n,t){var f=i.getItemModel(t),u=l[n],r;n==="normal"&&(r=f.get(ovi,!0),r!=null&&(u=r));i.setItemVisual(t,"opacity",u)});i.setVisual("color",e)})};pt(svi);hvi=ci.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(n){var t=n.edges||n.links,i=n.data||n.nodes,r;if(i&&t)return r=sci(i,t,this,!0),r.data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(n,t,i){if(i==="edge"){var r=this.getDataParams(n,i),u=r.data,f=u.source+" -- "+u.target;return r.value&&(f+=" : "+r.value),dt(f)}return hvi.superCall(this,"formatTooltip",n,t)},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{normal:{show:!0,position:"right",color:"#000",fontSize:12},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:1,borderColor:"#333"}},lineStyle:{normal:{color:"#314656",opacity:.2,curveness:.5},emphasis:{opacity:.6}},animationEasing:"linear",animationDuration:1e3}});cvi=yf({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(n,t){var i=t.extent/2;n.moveTo(t.x1,t.y1-i);n.bezierCurveTo(t.cpx1,t.cpy1-i,t.cpx2,t.cpy2-i,t.x2,t.y2-i);n.lineTo(t.x2,t.y2+i);n.bezierCurveTo(t.cpx2,t.cpy2+i,t.cpx1,t.cpy1+i,t.x1,t.y1+i);n.closePath()}});sr({type:"sankey",_model:null,render:function(n){var i=n.getGraph(),t=this.group,r=n.layoutInfo,u=n.getData(),f=n.getData("edge");this._model=n;t.removeAll();t.attr("position",[r.x,r.y]);i.eachEdge(function(i){var r=new cvi;r.dataIndex=i.dataIndex;r.seriesIndex=n.seriesIndex;r.dataType="edge";var c=i.getModel("lineStyle.normal"),e=c.get("curveness"),o=i.node1.getLayout(),l=i.node2.getLayout(),u=i.getLayout();r.shape.extent=Math.max(1,u.dy);var s=o.x+o.dx,a=o.y+u.sy+u.dy/2,h=l.x,v=l.y+u.ty+u.dy/2,y=s*(1-e)+h*e,p=a,w=s*e+h*(1-e),b=v;r.setShape({x1:s,y1:a,x2:h,y2:v,cpx1:y,cpy1:p,cpx2:w,cpy2:b});r.setStyle(c.getItemStyle());switch(r.style.fill){case"source":r.style.fill=i.node1.getVisual("color");break;case"target":r.style.fill=i.node2.getVisual("color")}vt(r,i.getModel("lineStyle.emphasis").getItemStyle());t.add(r);f.setItemGraphicEl(i.dataIndex,r)});i.eachNode(function(i){var e=i.getLayout(),f=i.getModel(),s=f.getModel("label.normal"),h=f.getModel("label.emphasis"),r=new ot({shape:{x:e.x,y:e.y,width:i.getLayout().dx,height:i.getLayout().dy},style:f.getModel("itemStyle.normal").getItemStyle()}),o=i.getModel("itemStyle.emphasis").getItemStyle();gu(r.style,o,s,h,{labelFetcher:n,labelDataIndex:i.dataIndex,defaultText:i.id,isRectText:!0});r.setStyle("fill",i.getVisual("color"));vt(r,o);t.add(r);u.setItemGraphicEl(i.dataIndex,r);r.dataType="node"});!this._data&&n.get("animation")&&t.setClipPath(okr(t.getBoundingRect(),n,function(){t.removeClipPath()}));this._data=n.getData()},dispose:function(){}});lvi=function(n,t){n.eachSeriesByType("sankey",function(n){var o=n.get("nodeWidth"),s=n.get("nodeGap"),i=skr(n,t),f,e;n.layoutInfo=i;var h=i.width,c=i.height,u=n.getGraph(),r=u.nodes,l=u.edges;ckr(r);f=hr(r,function(n){return n.getLayout().value===0});e=f.length!==0?0:n.get("layoutIterations");hkr(r,l,o,s,h,c,e)})};avi=function(n){n.eachSeriesByType("sankey",function(n){var f=n.getGraph(),i=f.nodes,r,u;i.sort(function(n,t){return n.getLayout().value-t.getLayout().value});r=i[0].getLayout().value;u=i[i.length-1].getLayout().value;t(i,function(t){var e=new et({type:"color",mappingMethod:"linear",dataExtent:[r,u],visual:n.get("color")}),o=e.mapValueToVisual(t.getLayout().value),f,i;t.setVisual("color",o);f=t.getModel();i=f.get("itemStyle.normal.color");i!=null&&t.setVisual("color",i)})})};ni(lvi);pt(avi);vvi=tt.extend({type:"whiskerInBox",shape:{},buildPath:function(n,t){var r,i;for(r in t)t.hasOwnProperty(r)&&r.indexOf("ends")===0&&(i=t[r],n.moveTo(i[0][0],i[0][1]),n.lineTo(i[1][0],i[1][1]))}});nyt=cit.prototype;nyt._createContent=function(n,t,r){var u=n.getItemLayout(t),f=u.chartLayout==="horizontal"?1:0,e=0,o;this.add(new hu({shape:{points:r?yvi(u.bodyEnds,f,u):u.bodyEnds},style:{strokeNoScale:!0},z2:100}));this.bodyIndex=e++;o=i(u.whiskerEnds,function(n){return r?yvi(n,f,u):n});this.add(new vvi({shape:pvi(o),style:{strokeNoScale:!0},z2:100}));this.whiskerIndex=e++};nyt.updateData=function(n,t,i){var r=this._seriesModel=n.hostModel,u=n.getItemLayout(t),f=nf[i?"initProps":"updateProps"];f(this.childAt(this.bodyIndex),{shape:{points:u.bodyEnds}},r,t);f(this.childAt(this.whiskerIndex),{shape:pvi(u.whiskerEnds)},r,t);this.styleUpdater.call(null,this,n,t)};st(cit,e);tyt=wvi.prototype;tyt.updateData=function(n){var t=this.group,i=this._data,r=this.styleUpdater;n.diff(i).add(function(i){if(n.hasValue(i)){var u=new cit(n,i,r,!0);n.setItemGraphicEl(i,u);t.add(u)}}).update(function(u,f){var e=i.getItemGraphicEl(f);if(!n.hasValue(u)){t.remove(e);return}e?e.updateData(n,u):e=new cit(n,u,r);t.add(e);n.setItemGraphicEl(u,e)}).remove(function(n){var r=i.getItemGraphicEl(n);r&&t.remove(r)}).execute();this._data=n};tyt.remove=function(){var t=this.group,n=this._data;this._data=null;n&&n.eachItemGraphicEl(function(n){n&&t.remove(n)})};var bvi={_baseAxisDim:null,getInitialData:function(n,i){var u,c=i.getComponent("xAxis",this.get("xAxisIndex")),l=i.getComponent("yAxis",this.get("yAxisIndex")),y=c.get("type"),p=l.get("type"),e,s,f,h;y==="category"?(n.layout="horizontal",u=c.getCategories(),e=!0):p==="category"?(n.layout="vertical",u=l.getCategories(),e=!0):n.layout=n.layout||"horizontal";var a=["x","y"],v=n.layout==="horizontal"?0:1,w=this._baseAxisDim=a[v],b=a[1-v],o=n.data;return e&&t(o,function(n,t){n.value&&r(n.value)?n.value.unshift(t):r(n)&&n.unshift(t)}),s=this.defaultValueDimensions,f=[{name:w,otherDims:{tooltip:!1},dimsDef:["base"]},{name:b,dimsDef:s.slice()}],f=rr(f,o,{encodeDef:this.get("encode"),dimsDef:this.get("dimensions"),dimCount:s.length+1}),h=new yt(f,this),h.initData(o,u?u.slice():null),h},getBaseAxis:function(){var n=this._baseAxisDim;return this.ecModel.getComponent(n+"Axis",this.get(n+"AxisIndex")).axis}},kvi={init:function(){var n=this._whiskerBoxDraw=new wvi(this.getStyleUpdater());this.group.add(n.group)},render:function(n){this._whiskerBoxDraw.updateData(n.getData())},remove:function(){this._whiskerBoxDraw.remove()}},udr=ci.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["min","Q1","median","Q3","max"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{normal:{color:"#fff",borderWidth:1},emphasis:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});nt(udr,bvi,!0);dvi=or.extend({type:"boxplot",getStyleUpdater:function(){return fdr},dispose:pi});nt(dvi,kvi,!0);gvi=["itemStyle","normal"];nyi=["itemStyle","emphasis"];var tyi=["itemStyle","normal","borderColor"],edr=function(n){var t=n.get("color");n.eachRawSeriesByType("boxplot",function(i){var u=t[i.seriesIndex%t.length],r=i.getData();r.setVisual({legendSymbol:"roundRect",color:i.get(tyi)||u});n.isSeriesFiltered(i)||r.each(function(n){var t=r.getItemModel(n);r.setItemVisual(n,{color:t.get(tyi,!0)})})})},hw=t,odr=function(n){var t=sdr(n);hw(t,function(n){var t=n.seriesModels;t.length&&(hdr(n),hw(t,function(t,i){cdr(t,n.boxOffsetList[i],n.boxWidthList[i])}))})};pt(edr);ni(odr);iyi=ci.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["open","close","lowest","highest"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{normal:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(n,t,i){var r=t.getItemLayout(n);return i.rect(r.brushRect)}});nt(iyi,bvi,!0);ryi=or.extend({type:"candlestick",getStyleUpdater:function(){return ldr},dispose:pi});nt(ryi,kvi,!0);uyi=["itemStyle","normal"];fyi=["itemStyle","emphasis"];var adr=function(n){n&&r(n.series)&&t(n.series,function(n){y(n)&&n.type==="k"&&(n.type="candlestick")})},vdr=["itemStyle","normal","borderColor"],ydr=["itemStyle","normal","borderColor0"],pdr=["itemStyle","normal","color"],wdr=["itemStyle","normal","color0"],bdr=function(n){n.eachRawSeriesByType("candlestick",function(t){var i=t.getData();i.setVisual({legendSymbol:"roundRect"});n.isSeriesFiltered(t)||i.each(function(n){var t=i.getItemModel(n),r=i.getItemLayout(n).sign;i.setItemVisual(n,{color:t.get(r>0?pdr:wdr),borderColor:t.get(r>0?vdr:ydr)})})})},eyi=si,kdr=function(n){n.eachSeriesByType("candlestick",function(n){var l=n.coordinateSystem,r=n.getData(),u=ddr(n,r),h=n.get("layout"),i=h==="horizontal"?0:1,f=1-i,c=["x","y"],e=[],s,o;(t(r.dimensions,function(n){var u=r.getDimensionInfo(n),t=u.coordDim;t===c[f]?e.push(n):t===c[i]&&(s=n)}),s==null||e.length<4)||(o=0,r.each([s].concat(e),function(){function c(n){var t=[];return t[i]=k,t[f]=n,isNaN(k)||isNaN(n)?[NaN,NaN]:l.dataToPoint(t)}function g(n,t){var r=n.slice(),f=n.slice();r[i]=wf(r[i]+u/2,1,!1);f[i]=wf(f[i]-u/2,1,!0);t?b.push(r,f):b.push(f,r)}function et(){var r=c(Math.min(t,n,v,y)),e=c(Math.max(t,n,v,y));return r[i]-=u/2,e[i]-=u/2,{x:r[0],y:r[1],width:f?u:e[0]-r[0],height:f?e[1]-r[1]:u}}function a(n){return n[i]=wf(n[i],1),n}var s=arguments,k=s[0],nt=s[e.length+1],t=s[1],n=s[2],v=s[3],y=s[4],tt=Math.min(t,n),it=Math.max(t,n),p=c(tt),w=c(it),rt=c(v),ut=c(y),ft=[[a(ut),a(w)],[a(rt),a(p)]],b=[],d;g(w,0);g(p,1);d=t>n?-1:t<n?1:o>0?r.getItemModel(o-1).get()[2]<=n?1:-1:1;r.setItemLayout(nt,{chartLayout:h,sign:d,initBaseline:t>n?w[f]:p[f],bodyEnds:b,whiskerEnds:ft,brushRect:et()});++o},!0))})};wi(adr);pt(bdr);ni(kdr);ci.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(n,t){return os(n.data,this,t)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});iyt=3;ps=ryt.prototype;ps.stopEffectAnimation=function(){this.childAt(1).removeAll()};ps.startEffectAnimation=function(n){for(var t,r,f=n.symbolType,e=n.color,u=this.childAt(1),i=0;i<iyt;i++)t=ru(f,-1,-1,2,2,e),t.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]}),r=-i/iyt*n.period+n.effectOffset,t.animate("",!0).when(n.period,{scale:[n.rippleScale/2,n.rippleScale/2]}).delay(r).start(),t.animateStyle(!0).when(n.period,{opacity:0}).delay(r).start(),u.add(t);oyi(u,n)};ps.updateEffectAnimation=function(n){for(var i,u=this._effectCfg,f=this.childAt(1),r=["symbolType","period","rippleScale"],t=0;t<r.length;t++)if(i=r[t],u[i]!==n[i]){this.stopEffectAnimation();this.startEffectAnimation(n);return}oyi(f,n)};ps.highlight=function(){this.trigger("emphasis")};ps.downplay=function(){this.trigger("normal")};ps.updateData=function(n,t){var v=n.hostModel,e,s,i;this.childAt(0).updateData(n,t);var f=this.childAt(1),r=n.getItemModel(t),y=n.getItemVisual(t,"symbol"),o=gdr(n.getItemVisual(t,"symbolSize")),h=n.getItemVisual(t,"color");if(f.attr("scale",o),f.traverse(function(n){n.attr({fill:h})}),e=r.getShallow("symbolOffset"),e&&(s=f.position,s[0]=u(e[0],o[0]),s[1]=u(e[1],o[1])),f.rotation=(r.getShallow("symbolRotate")||0)*Math.PI/180||0,i={},i.showEffectOn=v.get("showEffectOn"),i.rippleScale=r.get("rippleEffect.scale"),i.brushType=r.get("rippleEffect.brushType"),i.period=r.get("rippleEffect.period")*1e3,i.effectOffset=t/n.count(),i.z=r.getShallow("z")||0,i.zlevel=r.getShallow("zlevel")||0,i.symbolType=y,i.color=h,this.off("mouseover").off("mouseout").off("emphasis").off("normal"),i.showEffectOn==="render")this._effectCfg?this.updateEffectAnimation(i):this.startEffectAnimation(i),this._effectCfg=i;else{this._effectCfg=null;this.stopEffectAnimation();var c=this.childAt(0),l=function(){c.highlight();i.showEffectOn!=="render"&&this.startEffectAnimation(i)},a=function(){c.downplay();i.showEffectOn!=="render"&&this.stopEffectAnimation()};this.on("mouseover",l,this).on("mouseout",a,this).on("emphasis",l,this).on("normal",a,this)}this._effectCfg=i};ps.fadeOut=function(n){this.off("mouseover").off("mouseout").off("emphasis").off("normal");n&&n()};st(ryt,e);sr({type:"effectScatter",init:function(){this._symbolDraw=new aa(ryt)},render:function(n){var i=n.getData(),t=this._symbolDraw;t.updateData(i);this.group.add(t.group)},updateLayout:function(){this._symbolDraw.updateLayout()},remove:function(n,t){this._symbolDraw&&this._symbolDraw.remove(t)},dispose:function(){}});pt(o(fc,"effectScatter","circle",null));ni(o(yct,"effectScatter"));uyt=ci.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.normal.color",init:function(n){syi(n);uyt.superApply(this,"init",arguments)},mergeOption:function(n){syi(n);uyt.superApply(this,"mergeOption",arguments)},getInitialData:function(n){var i,t;if(f&&(i=ir.get(n.coordinateSystem),!i))throw new Error("Unkown coordinate system "+n.coordinateSystem);return t=new yt(["value"],this),t.hasItemOption=!1,t.initData(n.data,[],function(n,i,r,u){if(n instanceof Array)return NaN;t.hasItemOption=!0;var f=n.value;if(f!=null)return f instanceof Array?f[u]:f}),t},formatTooltip:function(n){var e=this.getData(),t=e.getItemModel(n),r=t.get("name");if(r)return r;var u=t.get("fromName"),f=t.get("toName"),i=[];return u!=null&&i.push(u),f!=null&&i.push(f),dt(i.join(" > "))},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,label:{normal:{show:!1,position:"end"}},lineStyle:{normal:{opacity:.5}}}});no=cw.prototype;no.createLine=function(n,t,i){return new fw(n,t,i)};no._updateEffectSymbol=function(n,t){var s=n.getItemModel(t),f=s.getModel("effect"),u=f.get("symbolSize"),o=f.get("symbol"),e,i;(r(u)||(u=[u,u]),e=f.get("color")||n.getItemVisual(t,"color"),i=this.childAt(1),this._symbolType!==o&&(this.remove(i),i=ru(o,-.5,-.5,1,1,e),i.z2=100,i.culling=!0,this.add(i)),i)&&(i.setStyle("shadowColor",e),i.setStyle(f.getItemStyle(["color"])),i.attr("scale",u),i.setColor(e),i.attr("scale",u),this._symbolType=o,this._updateEffectAnimation(n,f,t))};no._updateEffectAnimation=function(n,t,i){var r=this.childAt(1),e,s;if(r){var h=this,l=n.getItemLayout(i),u=t.get("period")*1e3,f=t.get("loop"),c=t.get("constantSpeed"),o=kt(t.get("delay"),function(t){return t/n.count()*u/3}),a=typeof o=="function";r.ignore=!0;this.updateAnimationPoints(r,l);c>0&&(u=this.getLineLength(r)/c*1e3);(u!==this._period||f!==this._loop)&&(r.stopAnimation(),e=o,a&&(e=o(i)),r.__t>0&&(e=-u*r.__t),r.__t=0,s=r.animate("",f).when(u,{__t:1}).delay(e).during(function(){h.updateSymbolPosition(r)}),f||s.done(function(){h.remove(r)}),s.start());this._period=u;this._loop=f}};no.getLineLength=function(n){return oo(n.__p1,n.__cp1)+oo(n.__cp1,n.__p2)};no.updateAnimationPoints=function(n,t){n.__p1=t[0];n.__p2=t[1];n.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]};no.updateData=function(n,t,i){this.childAt(0).updateData(n,t,i);this._updateEffectSymbol(n,t)};no.updateSymbolPosition=function(n){var t=n.__p1,i=n.__p2,r=n.__cp1,u=n.__t,f=n.position,e=nr,o=yot,s,h;f[0]=e(t[0],r[0],i[0],u);f[1]=e(t[1],r[1],i[1],u);s=o(t[0],r[0],i[0],u);h=o(t[1],r[1],i[1],u);n.rotation=-Math.atan2(h,s)-Math.PI/2;n.ignore=!1};no.updateLayout=function(n,t){this.childAt(0).updateLayout(n,t);var i=n.getItemModel(t).getModel("effect");this._updateEffectAnimation(n,i,t)};st(cw,e);lw=lit.prototype;lw._createPolyline=function(n,t,i){var r=n.getItemLayout(t),u=new af({shape:{points:r}});this.add(u);this._updateCommonStl(n,t,i)};lw.updateData=function(n,t,i){var r=n.hostModel,u=this.childAt(0),f={shape:{points:n.getItemLayout(t)}};k(u,f,r,t);this._updateCommonStl(n,t,i)};lw._updateCommonStl=function(n,t,i){var r=this.childAt(0),u=n.getItemModel(t),o=n.getItemVisual(t,"color"),f=i&&i.lineStyle,e=i&&i.hoverLineStyle;(!i||n.hasItemOption)&&(f=u.getModel("lineStyle.normal").getLineStyle(),e=u.getModel("lineStyle.emphasis").getLineStyle());r.useStyle(l({strokeNoScale:!0,fill:"none",stroke:o},f));r.hoverStyle=e;vt(this)};lw.updateLayout=function(n,t){var i=this.childAt(0);i.setShape("points",n.getItemLayout(t))};st(lit,e);aw=fyt.prototype;aw.createLine=function(n,t,i){return new lit(n,t,i)};aw.updateAnimationPoints=function(n,t){var u,r,f,e,i;for(this._points=t,u=[0],r=0,i=1;i<t.length;i++)f=t[i-1],e=t[i],r+=oo(f,e),u.push(r);if(r!==0){for(i=0;i<u.length;i++)u[i]/=r;this._offsets=u;this._length=r}};aw.getLineLength=function(){return this._length};aw.updateSymbolPosition=function(n){var u=n.__t,i=this._points,r=this._offsets,f=i.length,e,o,t,s,h;if(r){if(e=this._lastFrame,u<this._lastFramePercent){for(o=Math.min(e+1,f-1),t=o;t>=0;t--)if(r[t]<=u)break;t=Math.min(t,f-2)}else{for(t=e;t<f;t++)if(r[t]>u)break;t=Math.min(t-1,f-2)}gkt(n.position,i[t],i[t+1],(u-r[t])/(r[t+1]-r[t]));s=i[t+1][0]-i[t][0];h=i[t+1][1]-i[t][1];n.rotation=-Math.atan2(h,s)-Math.PI/2;this._lastFrame=t;this._lastFramePercent=u;n.ignore=!1}};st(fyt,cw);hyi=yf({shape:{polyline:!1,segs:[]},buildPath:function(n,t){for(var i,r,f=t.segs,e=t.polyline,u=0;u<f.length;u++)if(i=f[u],e)for(n.moveTo(i[0][0],i[0][1]),r=1;r<i.length;r++)n.lineTo(i[r][0],i[r][1]);else n.moveTo(i[0][0],i[0][1]),i.length>2?n.quadraticCurveTo(i[2][0],i[2][1],i[1][0],i[1][1]):n.lineTo(i[1][0],i[1][1])},findDataIndex:function(n,t){for(var i,r,e=this.shape,o=e.segs,s=e.polyline,f=Math.max(this.style.lineWidth,1),u=0;u<o.length;u++)if(i=o[u],s){for(r=1;r<i.length;r++)if(bo(i[r-1][0],i[r-1][1],i[r][0],i[r][1],f,n,t))return u}else if(i.length>2){if(fti(i[0][0],i[0][1],i[2][0],i[2][1],i[1][0],i[1][1],f,n,t))return u}else if(bo(i[0][0],i[0][1],i[1][0],i[1][1],f,n,t))return u;return-1}});ait=cyi.prototype;ait.updateData=function(n){var t,i,r;this.group.removeAll();t=this._lineEl;i=n.hostModel;t.setShape({segs:n.mapArray(n.getItemLayout),polyline:i.get("polyline")});t.useStyle(i.getModel("lineStyle.normal").getLineStyle());r=n.getVisual("color");r&&t.setStyle("stroke",r);t.setStyle("fill");t.seriesIndex=i.seriesIndex;t.on("mousemove",function(n){t.dataIndex=null;var i=t.findDataIndex(n.offsetX,n.offsetY);i>0&&(t.dataIndex=i)});this.group.add(t)};ait.updateLayout=function(n){var t=n.getData();this._lineEl.setShape({segs:t.mapArray(t.getItemLayout)})};ait.remove=function(){this.group.removeAll()};sr({type:"lines",init:function(){},render:function(n,t,i){var a=n.getData(),u=this._lineDraw,r=n.get("effect.show"),h=n.get("polyline"),e=n.get("large")&&a.count()>=n.get("largeThreshold"),l;f&&r&&e&&console.warn("Large lines not support effect");(r!==this._hasEffet||h!==this._isPolyline||e!==this._isLarge)&&(u&&u.remove(),u=this._lineDraw=e?new cyi:new tit(h?r?fyt:lit:r?cw:fw),this._hasEffet=r,this._isPolyline=h,this._isLarge=e);var o=n.get("zlevel"),v=n.get("effect.trailLength"),s=i.getZr(),c=s.painter.getType()==="svg";c||s.painter.getLayer(o).clear(!0);this._lastZlevel==null||c||s.configLayer(this._lastZlevel,{motionBlur:!1});r&&v&&(f&&(l=!1,t.eachSeries(function(t){t!==n&&t.get("zlevel")===o&&(l=!0)}),l&&console.warn("Lines with trail effect should have an individual zlevel")),c||s.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(v/10+.9,1),0)}));this.group.add(u.group);u.updateData(a);this._lastZlevel=o},updateLayout:function(n,t,i){this._lineDraw.updateLayout(n);var r=i.getZr(),u=r.painter.getType()==="svg";u||r.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(n,t){this._lineDraw&&this._lineDraw.remove(t,!0);var i=t.getZr(),r=i.painter.getType()==="svg";r||i.painter.getLayer(this._lastZlevel).clear(!0)},dispose:function(){}});lyi=function(n){n.eachSeriesByType("lines",function(n){var t=n.coordinateSystem,i=n.getData();i.each(function(r){var o=i.getItemModel(r),e=o.option instanceof Array?o.option:o.get("coords"),u,s,h;if(f&&!(e instanceof Array&&e.length>0&&e[0]instanceof Array))throw new Error("Invalid coords "+JSON.stringify(e)+". Lines must have 2d coords array in data item.");if(u=[],n.get("polyline"))for(s=0;s<e.length;s++)u.push(t.dataToPoint(e[s]));else u[0]=t.dataToPoint(e[0]),u[1]=t.dataToPoint(e[1]),h=o.get("lineStyle.normal.curveness"),+h&&(u[2]=[(u[0][0]+u[1][0])/2-(u[0][1]-u[1][1])*h,(u[0][1]+u[1][1])/2-(u[1][0]-u[0][0])*h]);i.setItemLayout(r,u)})})};ayi=function(n){n.eachSeriesByType("lines",function(n){var t=n.getData(),i=vit(n.get("symbol")),r=vit(n.get("symbolSize")),u="lineStyle.normal.opacity".split(".");t.setVisual("fromSymbol",i&&i[0]);t.setVisual("toSymbol",i&&i[1]);t.setVisual("fromSymbolSize",r&&r[0]);t.setVisual("toSymbolSize",r&&r[1]);t.setVisual("opacity",n.get(u));t.each(function(n){var f=t.getItemModel(n),i=vit(f.getShallow("symbol",!0)),r=vit(f.getShallow("symbolSize",!0)),e=f.get(u);i[0]&&t.setItemVisual(n,"fromSymbol",i[0]);i[1]&&t.setItemVisual(n,"toSymbol",i[1]);r[0]&&t.setItemVisual(n,"fromSymbolSize",r[0]);r[1]&&t.setItemVisual(n,"toSymbolSize",r[1]);t.setItemVisual(n,"opacity",e)})})};ni(lyi);pt(ayi);ci.extend({type:"series.heatmap",getInitialData:function(n,t){return os(n.data,this,t)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});vyi=256;yyi.prototype={update:function(n,t,i,r,u,f){var k=this._getBrush(),d=this._getGradient(n,u,"inRange"),g=this._getGradient(n,u,"outOfRange"),p=this.pointSize+this.blurSize,e=this.canvas,a=e.getContext("2d"),nt=n.length,v,o,c,l;for(e.width=t,e.height=i,v=0;v<nt;++v){var y=n[v],tt=y[0],it=y[1],rt=y[2],o=r(rt);a.globalAlpha=o;a.drawImage(k,tt-p,it-p)}if(!e.width||!e.height)return e;for(var w=a.getImageData(0,0,e.width,e.height),h=w.data,s=0,ut=h.length,b=this.minOpacity,ft=this.maxOpacity,et=ft-b;s<ut;)o=h[s+3]/256,c=Math.floor(o*(vyi-1))*4,o>0?(l=f(o)?d:g,o>0&&(o=o*et+b),h[s++]=l[c],h[s++]=l[c+1],h[s++]=l[c+2],h[s++]=l[c+3]*o*256):s+=4;return a.putImageData(w,0,0),e},_getBrush:function(){var i=this._brushCanvas||(this._brushCanvas=ds()),r=this.pointSize+this.blurSize,t=r*2,n;return i.width=t,i.height=t,n=i.getContext("2d"),n.clearRect(0,0,t,t),n.shadowOffsetX=t,n.shadowBlur=this.blurSize,n.shadowColor="#000",n.beginPath(),n.arc(-r,r,this.pointSize,0,Math.PI*2,!0),n.closePath(),n.fill(),i},_getGradient:function(n,t,i){for(var o=this._gradientPixels,r=o[i]||(o[i]=new Uint8ClampedArray(1024)),u=[0,0,0,0],f=0,e=0;e<256;e++)t[i](e/255,!0,u),r[f++]=u[0],r[f++]=u[1],r[f++]=u[2],r[f++]=u[3];return r}};sr({type:"heatmap",render:function(n,t,i){var u,r;if(t.eachComponent("visualMap",function(t){t.eachTargetSeries(function(i){i===n&&(u=t)})}),f&&!u)throw new Error("Heatmap must use with visualMap");this.group.removeAll();r=n.coordinateSystem;r.type==="cartesian2d"||r.type==="calendar"?this._renderOnCartesianAndCalendar(r,n,i):igr(r)&&this._renderOnGeo(r,n,u,i)},dispose:function(){},_renderOnCartesianAndCalendar:function(n,t){var u,e,h,c;if(n.type==="cartesian2d"){if(u=n.getAxis("x"),e=n.getAxis("y"),f){if(!(u.type==="category"&&e.type==="category"))throw new Error("Heatmap on cartesian must have two category axes");if(!(u.onBand&&e.onBand))throw new Error("Heatmap on cartesian must have two axes with boundaryGap true");}h=u.getBandWidth();c=e.getBandWidth()}var b=this.group,i=t.getData(),a="itemStyle.normal",v="itemStyle.emphasis",k="label.normal",d="label.emphasis",l=t.getModel(a).getItemStyle(["color"]),o=t.getModel(v).getItemStyle(),y=t.getModel("label.normal"),p=t.getModel("label.emphasis"),w=n.type,r=w==="cartesian2d"?[t.coordDimToDataDim("x")[0],t.coordDimToDataDim("y")[0],t.coordDimToDataDim("value")[0]]:[t.coordDimToDataDim("time")[0],t.coordDimToDataDim("value")[0]];i.each(function(u){var f,nt,e,g,tt;if(w==="cartesian2d"){if(isNaN(i.get(r[2],u)))return;nt=n.dataToPoint([i.get(r[0],u),i.get(r[1],u)]);f=new ot({shape:{x:nt[0]-h/2,y:nt[1]-c/2,width:h,height:c},style:{fill:i.getItemVisual(u,"color"),opacity:i.getItemVisual(u,"opacity")}})}else{if(isNaN(i.get(r[1],u)))return;f=new ot({z2:1,shape:n.dataToRect([i.get(r[0],u)]).contentShape,style:{fill:i.getItemVisual(u,"color"),opacity:i.getItemVisual(u,"opacity")}})}e=i.getItemModel(u);i.hasItemOption&&(l=e.getModel(a).getItemStyle(["color"]),o=e.getModel(v).getItemStyle(),y=e.getModel(k),p=e.getModel(d));g=t.getRawValue(u);tt="-";g&&g[2]!=null&&(tt=g[2]);gu(l,o,y,p,{labelFetcher:t,labelDataIndex:u,defaultText:tt,isRectText:!0});f.setStyle(l);vt(f,i.hasItemOption?o:s({},o));b.add(f);i.setItemGraphicEl(u,f)})},_renderOnGeo:function(n,t,i,r){var s=i.targetVisuals.inRange,y=i.targetVisuals.outOfRange,p=t.getData(),f=this._hmLayer||this._hmLayer||new yyi,u,h,v;f.blurSize=t.get("blurSize");f.pointSize=t.get("pointSize");f.minOpacity=t.get("minOpacity");f.maxOpacity=t.get("maxOpacity");u=n.getViewRect().clone();h=n.getRoamTransform().transform;u.applyTransform(h);var e=Math.max(u.x,0),o=Math.max(u.y,0),w=Math.min(u.width+u.x,r.getWidth()),b=Math.min(u.height+u.y,r.getHeight()),c=w-e,l=b-o,k=p.mapArray(["lng","lat","value"],function(t,i,r){var u=n.dataToPoint([t,i]);return u[0]-=e,u[1]-=o,u.push(r),u}),a=i.getExtent(),d=i.type==="visualMap.continuous"?tgr(a,i.option.range):ngr(a,i.getPieceList(),i.option.selected);f.update(k,c,l,s.color.getNormalizer(),{inRange:s.color.getColorMapper(),outOfRange:y.color.getColorMapper()},d);v=new gi({style:{width:c,height:l,x:e,y:o,image:f.canvas},silent:!0});this.group.add(v)}});var rgr=flt.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(n){return n.stack=null,rgr.superApply(this,"getInitialData",arguments)}}),ugr=["itemStyle","normal","borderWidth"],pyi=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],eyt=new lh,kou=sr({type:"pictorialBar",render:function(n,t,i){var e=this.group,r=n.getData(),o=this._data,s=n.coordinateSystem,c=s.getBaseAxis(),h=!!c.isHorizontal(),f=s.grid.getRect(),u={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:n,coordSys:s,coordSysExtent:[[f.x,f.x+f.width],[f.y,f.y+f.height]],isHorizontal:h,valueDim:pyi[+h],categoryDim:pyi[1-h]};return r.diff(o).add(function(n){if(r.hasValue(n)){var f=tpi(r,n),i=wyi(r,n,f,u),t=ipi(r,u,i);r.setItemGraphicEl(n,t);e.add(t);fpi(t,u,i)}}).update(function(n,t){var i=o.getItemGraphicEl(t);if(!r.hasValue(n)){e.remove(i);return}var s=tpi(r,n),f=wyi(r,n,s,u),h=upi(r,f);i&&h!==i.__pictorialShapeStr&&(e.remove(i),r.setItemGraphicEl(n,null),i=null);i?lgr(i,u,f):i=ipi(r,u,f,!0);r.setItemGraphicEl(n,i);i.__pictorialSymbolMeta=f;e.add(i);fpi(i,u,f)}).remove(function(n){var t=o.getItemGraphicEl(n);t&&rpi(o,n,t.__pictorialSymbolMeta.animationModel,t)}).execute(),this._data=r,this.group},dispose:pi,remove:function(n){var i=this.group,t=this._data;n.get("animation")?t&&t.eachItemGraphicEl(function(i){rpi(t,i.dataIndex,n,i)}):i.removeAll()}});ni(o(ntt,"pictorialBar"));pt(o(fc,"pictorialBar","roundRect",null));yw=function(n,t,i,r,u){ri.call(this,n,t,i);this.type=r||"value";this.position=u||"bottom";this.orient=null;this._labelInterval=null};yw.prototype={constructor:yw,model:null,isHorizontal:function(){var n=this.position;return n==="top"||n==="bottom"},pointToData:function(n,t){return this.coordinateSystem.pointToData(n,t)[0]},toGlobalCoord:null,toLocalCoord:null};st(yw,ri);yit.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:yit,_init:function(n){var i=this.dimension,t=new yw(i,ca(n),[0,0],n.get("type"),n.get("position")),r=t.type==="category";t.onBand=r&&n.get("boundaryGap");t.inverse=n.get("inverse");t.orient=n.get("orient");n.axis=t;t.model=n;t.coordinateSystem=this;this._axis=t},update:function(n){n.eachSeries(function(n){if(n.coordinateSystem===this){var t=n.getData(),i=this.dimension;this._axis.scale.unionExtentFromData(t,n.coordDimToDataDim(i));ic(this._axis.scale,this._axis.model)}},this)},resize:function(n,t){this._rect=ai({left:n.get("left"),top:n.get("top"),right:n.get("right"),bottom:n.get("bottom"),width:n.get("width"),height:n.get("height")},{width:t.getWidth(),height:t.getHeight()});this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var n=this._rect,t=this._axis,i=t.isHorizontal(),r=i?[0,n.width]:[0,n.height],u=t.reverse?1:0;t.setExtent(r[u],r[1-u]);this._updateAxisTransform(t,i?n.x:n.y)},_updateAxisTransform:function(n,t){var i=n.getExtent(),r=i[0]+i[1],u=n.isHorizontal();n.toGlobalCoord=u?function(n){return n+t}:function(n){return r-n+t};n.toLocalCoord=u?function(n){return n-t}:function(n){return r-n+t}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(n){var t=this.getRect(),i=this.getAxis(),r=i.orient;return r==="horizontal"?i.contain(i.toLocalCoord(n[0]))&&n[1]>=t.y&&n[1]<=t.y+t.height:i.contain(i.toLocalCoord(n[1]))&&n[0]>=t.y&&n[0]<=t.y+t.height},pointToData:function(n){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(n[t.orient==="horizontal"?0:1]))]},dataToPoint:function(n){var i=this.getAxis(),t=this.getRect(),r=[],u=i.orient==="horizontal"?0:1;return n instanceof Array&&(n=n[0]),r[u]=i.toGlobalCoord(i.dataToCoord(+n)),r[1-u]=u===0?t.y+t.height/2:t.x+t.width/2,r}};ir.register("single",{create:agr,dimensions:yit.prototype.dimensions});var vgr=ki.getInterval,ygr=ki.ifIgnoreOnTick,pgr=["axisLine","axisTickLabel","axisName"],opi="splitLine",wgr=br.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(n,i,r,u){var o=this.group,e,f;o.removeAll();e=hyt(n);f=new ki(n,e);t(pgr,f.add,f);o.add(f.getGroup());n.get(opi+".show")&&this["_"+opi](n,e.labelInterval);wgr.superCall(this,"render",n,i,r,u)},_splitLine:function(n,t){var o=n.axis,h,c,i;if(!o.scale.isBlank()){var y=n.getModel("splitLine"),l=y.getModel("lineStyle"),a=l.get("width"),r=l.get("color"),p=vgr(y,t);r=r instanceof Array?r:[r];var u=n.coordinateSystem.getRect(),w=o.isHorizontal(),s=[],b=0,v=o.getTicksCoords(),f=[],e=[],k=n.get("axisLabel.showMinLabel"),d=n.get("axisLabel.showMaxLabel");for(i=0;i<v.length;++i)ygr(o,i,p,v.length,k,d)||(h=o.toGlobalCoord(v[i]),w?(f[0]=h,f[1]=u.y,e[0]=h,e[1]=u.y+u.height):(f[0]=u.x,f[1]=h,e[0]=u.x+u.width,e[1]=h),c=b++%r.length,s[c]=s[c]||[],s[c].push(new cu(vh({shape:{x1:f[0],y1:f[1],x2:e[0],y2:e[1]},style:{lineWidth:a},silent:!0}))));for(i=0;i<s.length;++i)this.group.add(pf(s[i],{style:{stroke:r[i%r.length],lineDash:l.getLineDash(a),lineWidth:a},silent:!0}))}}}),spi=g.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}});a(spi.prototype,rc);va("single",spi,bgr,{left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:2,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}});var hpi=function(n,t){var h=[],l=n.seriesIndex,u,c,f,o,s,e;return l==null||!(u=t.getSeriesByIndex(l))?{point:[]}:(c=u.getData(),f=ig(c,n),f==null||r(f))?{point:[]}:(o=c.getItemGraphicEl(f),s=u.coordinateSystem,u.getTooltipPosition?h=u.getTooltipPosition(f)||[]:s&&s.dataToPoint?h=s.dataToPoint(c.getValues(i(s.dimensions,function(n){return u.coordDimToDataDim(n)[0]}),f,!0))||[]:o&&(e=o.getBoundingRect().clone(),e.applyTransform(o.transform),h=[e.x+e.width/2,e.y+e.height/2]),{point:h,el:o})},ue=t,cpi=o,lpi=rg(),kgr=function(n,t,i){var w=n.currTrigger,r=[n.x,n.y],s=n,l=n.dispatchAction||h(i.dispatchAction,i),u=t.getComponent("axisPointer").coordSysAxesInfo,c;if(u){pit(r)&&(r=hpi({seriesIndex:s.seriesIndex,dataIndex:s.dataIndex},t).point);var a=pit(r),v=s.axesInfo,f=u.axesInfo,b=w==="leave"||pit(r),e={},o={},y={list:[],map:{}},p={showPointer:cpi(ggr,o),showTooltip:cpi(nnr,y)};return ue(u.coordSysMap,function(n,t){var i=a||n.containPoint(r);ue(u.coordSysAxesInfo[t],function(n){var f=n.axis,u=unr(v,n),t;!b&&i&&(!v||u)&&(t=u&&u.value,t!=null||a||(t=f.pointToData(r)),t!=null&&api(n,t,p,!1,e))})}),c={},ue(f,function(n,t){var i=n.linkGroup;i&&!o[t]&&ue(i.axesInfo,function(t,r){var f=o[r],u;t!==n&&f&&(u=f.value,i.mapper&&(u=n.axis.scale.parse(i.mapper(u,vpi(t),vpi(n)))),c[n.key]=u)})}),ue(c,function(n,t){api(f[t],n,p,!0,e)}),tnr(o,f,e),inr(y,r,n,l),rnr(f,l,i),e}};var dou=iu({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),to=rg(),fnr=t;var wpi=yi({type:"axisPointer",render:function(n,t,i){var r=t.getComponent("tooltip"),u=n.get("triggerOn")||r&&r.get("triggerOn")||"mousemove|click";ypi("axisPointer",i,function(n,t,i){u!=="none"&&(n==="leave"||u.indexOf(n)>=0)&&i({type:"updateAxisPointer",currTrigger:n,x:t&&t.offsetX,y:t&&t.offsetY})})},remove:function(n,t){cyt(t.getZr(),"axisPointer");wpi.superApply(this._model,"remove",arguments)},dispose:function(n,t){cyt("axisPointer",t);wpi.superApply(this._model,"dispose",arguments)}}),yc=rg(),bpi=c,lyt=h;pc.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(n,t,i,r){var h=t.get("value"),c=t.get("status"),u,s,f,l,v,a;if(this._axisModel=n,this._axisPointerModel=t,this._api=i,r||this._lastValue!==h||this._lastStatus!==c){if(this._lastValue=h,this._lastStatus=c,u=this._group,s=this._handle,!c||c==="hide"){u&&u.hide();s&&s.hide();return}u&&u.show();s&&s.show();f={};this.makeElOption(f,h,n,t,i);l=f.graphicKey;l!==this._lastGraphicKey&&this.clear(i);this._lastGraphicKey=l;v=this._moveAnimation=this.determineAnimation(n,t);u?(a=o(kpi,t,v),this.updatePointerEl(u,f,a,t),this.updateLabelEl(u,f,a,t)):(u=this._group=new e,this.createPointerEl(u,f,n,t),this.createLabelEl(u,f,n,t),i.getZr().add(u));nwi(u,t,!0);this._renderHandle(h)}},remove:function(n){this.clear(n)},dispose:function(n){this.clear(n)},determineAnimation:function(n,t){var i=t.get("animation"),r=n.axis,e=r.type==="category",o=t.get("snap"),u,s,f;return!o&&!e?!1:i==="auto"||i==null?(u=this.animationThreshold,e&&r.getBandWidth()>u)?!0:o?(s=tlt(n).seriesDataCount,f=r.getExtent(),Math.abs(f[0]-f[1])/s>u):!1:i===!0},makeElOption:function(){},createPointerEl:function(n,t){var i=t.pointer,r;i&&(r=yc(n).pointerEl=new nf[i.type](bpi(t.pointer)),n.add(r))},createLabelEl:function(n,t,i,r){if(t.label){var u=yc(n).labelEl=new ot(bpi(t.label));n.add(u);gpi(u,r)}},updatePointerEl:function(n,t,i){var r=yc(n).pointerEl;r&&(r.setStyle(t.pointer.style),i(r,{shape:t.pointer.shape}))},updateLabelEl:function(n,t,i,r){var u=yc(n).labelEl;u&&(u.setStyle(t.label.style),i(u,{shape:t.label.shape,position:t.label.position}),gpi(u,r))},_renderHandle:function(n){var s,h,i;if(!this._dragging&&this.updateHandleTransform){var f=this._axisPointerModel,e=this._api.getZr(),t=this._handle,u=f.getModel("handle"),o=f.get("status");if(!u.get("show")||!o||o==="hide"){t&&e.remove(t);this._handle=null;return}this._handle||(s=!0,t=this._handle=tp(u.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(n){ye(n.event)},onmousedown:lyt(this._onHandleDragMove,this,0,0),drift:lyt(this._onHandleDragMove,this),ondragend:lyt(this._onHandleDragEnd,this)}),e.add(t));nwi(t,f,!1);h=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];t.setStyle(u.getItemStyle(null,h));i=u.get("size");r(i)||(i=[i,i]);t.attr("scale",[i[0]/2,i[1]/2]);up(this,"_doDispatchAxisPointer",u.get("throttle")||0,"fixRate");this._moveHandleToValue(n,s)}},_moveHandleToValue:function(n,t){kpi(this._axisPointerModel,!t&&this._moveAnimation,this._handle,ayt(this.getHandleTransform(n,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(n,t){var i=this._handle,r;i&&(this._dragging=!0,r=this.updateHandleTransform(ayt(i),[n,t],this._axisModel,this._axisPointerModel),this._payloadInfo=r,i.stopAnimation(),i.attr(ayt(r)),yc(i).lastProp=null,this._doDispatchAxisPointer())},_doDispatchAxisPointer:function(){var i=this._handle,n,t;i&&(n=this._payloadInfo,t=this._axisModel,this._api.dispatchAction({type:"updateAxisPointer",x:n.cursorPoint[0],y:n.cursorPoint[1],tooltipOption:n.tooltipOption,axesInfo:[{axisDim:t.axis.dim,axisIndex:t.componentIndex}]}))},_onHandleDragEnd:function(){var n,t;(this._dragging=!1,n=this._handle,n)&&(t=this._axisPointerModel.get("value"),this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"}))},getHandleTransform:null,updateHandleTransform:null,clear:function(n){this._lastValue=null;this._lastStatus=null;var t=n.getZr(),i=this._group,r=this._handle;t&&i&&(this._lastGraphicKey=null,i&&t.remove(i),r&&t.remove(r),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(n,t,i){return i=i||0,{x:n[i],y:n[1-i],width:t[i],height:t[1-i]}}};pc.prototype.constructor=pc;by(pc);ewi=pc.extend({makeElOption:function(n,t,i,r,u){var f=i.axis,h=f.grid,o=r.get("type"),l=owi(h,f).getOtherAxis(f).getGlobalExtent(),a=f.toGlobalCoord(f.dataToCoord(t,!0)),s,e,c;o&&o!=="none"&&(s=vyt(r),e=swi[o](f,a,l,s),e.style=s,n.graphicKey=e.type,n.pointer=e);c=rlt(h.model,i);rwi(t,n,c,i,r,u)},getHandleTransform:function(n,t,i){var r=rlt(t.axis.grid.model,t,{labelInside:!1});return r.labelMargin=i.get("handle.margin"),{position:yyt(t.axis,n,r),rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(n,t,i){var f=i.axis,l=f.grid,s=f.getGlobalExtent(!0),h=owi(l,f).getOtherAxis(f).getGlobalExtent(),r=f.dim==="x"?0:1,u=n.position,e,o,c;return u[r]+=t[r],u[r]=Math.min(s[1],u[r]),u[r]=Math.max(s[0],u[r]),e=(h[1]+h[0])/2,o=[e,e],o[r]=u[r],c=[{verticalAlign:"middle"},{align:"center"}],{position:u,rotation:n.rotation,cursorPoint:o,tooltipOption:c[r]}}});swi={line:function(n,t,i,r){var u=pyt([t,i[0]],[t,i[1]],hwi(n));return vh({shape:u,style:r}),{type:"Line",shape:u}},shadow:function(n,t,i){var r=n.getBandWidth(),u=i[1]-i[0];return{type:"Rect",shape:uwi([t-r/2,i[0]],[r,u],hwi(n))}}};br.registerAxisPointerClass("CartesianAxisPointer",ewi);wi(function(n){if(n){n.axisPointer&&n.axisPointer.length!==0||(n.axisPointer={});var t=n.axisPointer.link;t&&!r(t)&&(n.axisPointer.link=[t])}});tf(ea.PROCESSOR.STATISTIC,function(n,t){n.getComponent("axisPointer").coordSysAxesInfo=nar(n,t)});ft({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},kgr);var cwi=["x","y"],lnr=["width","height"],anr=pc.extend({makeElOption:function(n,t,i,r,u){var e=i.axis,h=e.coordinateSystem,l=wyt(h,1-wit(e)),a=h.dataToPoint(t)[0],o=r.get("type"),s,f,c;o&&o!=="none"&&(s=vyt(r),f=vnr[o](e,a,l,s),f.style=s,n.graphicKey=f.type,n.pointer=f);c=hyt(i);rwi(t,n,c,i,r,u)},getHandleTransform:function(n,t,i){var r=hyt(t,{labelInside:!1});return r.labelMargin=i.get("handle.margin"),{position:yyt(t.axis,n,r),rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(n,t,i){var f=i.axis,e=f.coordinateSystem,r=wit(f),o=wyt(e,r),u=n.position;u[r]+=t[r];u[r]=Math.min(o[1],u[r]);u[r]=Math.max(o[0],u[r]);var s=wyt(e,1-r),h=(s[1]+s[0])/2,c=[h,h];return c[r]=u[r],{position:u,rotation:n.rotation,cursorPoint:c,tooltipOption:{verticalAlign:"middle"}}}}),vnr={line:function(n,t,i,r){var u=pyt([t,i[0]],[t,i[1]],wit(n));return vh({shape:u,style:r}),{type:"Line",shape:u}},shadow:function(n,t,i){var r=n.getBandWidth(),u=i[1]-i[0];return{type:"Rect",shape:uwi([t-r/2,i[0]],[r,u],wit(n))}}};br.registerAxisPointerClass("SingleAxisPointer",anr);yi({type:"single"});bit=2;lwi=ci.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(){lwi.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()}},fixData:function(n){for(var c,t,a,o,f,p,u=n.length,w=dvt().key(function(n){return n[2]}).entries(n),r=i(w,function(n){return{name:n.key,dataList:n.values}}),l=r.length,s=-1,h=-1,e=0;e<l;++e)c=r[e].dataList.length,c>s&&(s=c,h=e);for(t=0;t<l;++t)if(t!==h)for(a=r[t].name,o=0;o<s;++o){var v=r[h].dataList[o][0],b=r[t].dataList.length,y=-1;for(f=0;f<b;++f)if(p=r[t].dataList[f][0],p===v){y=f;break}y===-1&&(n[u]=[],n[u][0]=v,n[u][1]=0,n[u][2]=a,u++)}return n},getInitialData:function(n,t){var u=[],c=t.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0],e=c.get("type"),r,f;u=[{name:"time",type:e==="category"?"ordinal":e==="time"?"time":"float"},{name:"value",type:"float"},{name:"name",type:"ordinal"}];var l=hr(n.data,function(n){return n[2]!==undefined}),i=this.fixData(l||[]),o=[],s=this.nameMap=ui(),h=0;for(r=0;r<i.length;++r)o.push(i[r][bit]),s.get(i[r][bit])||(s.set(i[r][bit],h),h++);return u=rr(u,i),f=new yt(u,this),f.initData(i,o),f},coordDimToDataDim:function(){return["time"]},getLayerSeries:function(){function s(t,i){return n.get("time",t)-n.get("time",i)}for(var e,r,u,n=this.getData(),o=n.count(),f=[],t=0;t<o;++t)f[t]=t;for(e=dvt().key(function(t){return n.get("name",t)}).entries(f),r=i(e,function(n){return{name:n.key,indices:n.values}}),u=0;u<r.length;++u)r[u].indices.sort(s);return r},getAxisTooltipData:function(n,t){var i,u,e,o;r(n)||(n=n?[n]:[]);var a=this.getData(),f=this.getLayerSeries(),s=[],v=f.length,h;for(i=0;i<v;++i){var c=Number.MAX_VALUE,l=-1,y=f[i].indices.length;for(u=0;u<y;++u)e=a.get(n[0],f[i].indices[u]),o=Math.abs(e-t),o<=c&&(h=e,c=o,l=f[i].indices[u]);s.push(l)}return{dataIndices:s,nestestValue:h}},formatTooltip:function(n){var i=this.getData(),r=i.get("name",n),t=i.get("value",n);return(isNaN(t)||t==null)&&(t="-"),dt(r+" : "+t)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{normal:{margin:4,textAlign:"right",show:!0,position:"left",color:"#000",fontSize:11},emphasis:{show:!0}}}});sr({type:"themeRiver",init:function(){this._layers=[]},render:function(n){function c(n){return n.name}function f(f,o,h){var it=this._layers,a,l,ot,st;if(f==="remove"){i.remove(it[o]);return}var w=[],d=[],rt,v=u[o].indices;for(a=0;a<v.length;a++){var g=t.getItemLayout(v[a]),ut=g.x,ft=g.y0,ht=g.y;w.push([ut,ft]);d.push([ut,ft+ht]);rt=t.getItemVisual(v[a],"color")}var c,p,y=t.getItemLayout(v[0]),nt=t.getItemModel(v[a-1]),tt=nt.getModel("label.normal"),et=tt.get("margin");f==="add"?(l=r[o]=new e,c=new vct({shape:{points:w,stackedOnPoints:d,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),p=new b({style:{x:y.x-et,y:y.y0+y.y/2}}),l.add(c),l.add(p),i.add(l),c.setClipPath(ynr(c.getBoundingRect(),n,function(){c.removeClipPath()}))):(l=it[h],c=l.childAt(0),p=l.childAt(1),i.add(l),r[o]=l,k(c,{shape:{points:w,stackedOnPoints:d}},n),k(p,{style:{x:y.x-et,y:y.y0+y.y/2}},n));ot=nt.getModel("itemStyle.emphasis");st=nt.getModel("itemStyle.normal");gt(p.style,tt,{text:tt.get("show")?n.getFormattedLabel(v[a-1],"normal")||t.getName(v[a-1]):null,textVerticalAlign:"middle"});c.setStyle(s({fill:rt},st.getItemStyle(["color"])));vt(c,ot.getItemStyle())}var t=n.getData(),i=this.group,u=n.getLayerSeries(),o=t.getLayout("layoutInfo"),a=o.rect,v=o.boundaryGap,l,r;i.attr("position",[0,a.y+v[0]]);l=new es(this._layersSeries||[],u,c,c);r={};l.add(h(f,this,"add")).update(h(f,this,"update")).remove(h(f,this,"remove")).execute();this._layersSeries=u;this._layers=r},dispose:function(){}});awi=function(n){n.eachSeriesByType("themeRiver",function(n){var r=n.getData(),e=n.coordinateSystem,f={},i=e.getRect(),t,o,s,h;f.rect=i;t=n.get("boundaryGap");o=e.getAxis();f.boundaryGap=t;o.orient==="horizontal"?(t[0]=u(t[0],i.height),t[1]=u(t[1],i.height),s=i.height-t[0]-t[1],vwi(r,n,s)):(t[0]=u(t[0],i.width),t[1]=u(t[1],i.width),h=i.width-t[0]-t[1],vwi(r,n,h));r.setLayout("layoutInfo",f)})};ywi=function(n){n.eachSeriesByType("themeRiver",function(n){var t=n.getData(),i=n.getRawData(),r=n.get("color"),u=ui();t.each(function(n){u.set(t.getRawIndex(n),n)});i.each(function(f){var s=i.getName(f),o=r[(n.nameMap.get(s)-1)%r.length],e;i.setItemVisual(f,"color",o);e=u.get(f);e!=null&&t.setItemVisual(e,"color",o)})})};ni(awi);pt(ywi);tf(o(rtt,"themeRiver"));pwi=function(n){var t=n.grid.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:h(n.dataToPoint,n),size:h(wnr,n)}}};wwi=function(n){var t=n.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:h(n.dataToPoint,n),size:h(bnr,n)}}};bwi=function(n){var t=n.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:h(n.dataToPoint,n),size:h(knr,n)}}};var gnr=function(n){var i=n.getRadiusAxis(),r=n.getAngleAxis(),t=i.getExtent();return t[0]>t[1]&&t.reverse(),{coordSys:{type:"polar",cx:n.cx,cy:n.cy,r:t[1],r0:t[0]},api:{coord:h(function(t){var u=i.dataToRadius(t[0]),f=r.dataToAngle(t[1]),e=n.coordToPoint([u,f]);return e.push(u,f*Math.PI/180),e}),size:h(dnr,n)}}},ntu=function(n){var t=n.getRect(),i=n.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:n.getCellWidth(),cellHeight:n.getCellHeight(),rangeInfo:{start:i.start,end:i.end,weeks:i.weeks,dayCount:i.allDay}},api:{coord:h(n.dataToPoint,n)}}},ttu=["itemStyle","normal"],itu=["itemStyle","emphasis"],rtu=["label","normal"],utu=["label","emphasis"],ftu='e\0\0',kwi={cartesian2d:pwi,geo:wwi,singleAxis:bwi,polar:gnr,calendar:ntu};sp({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0},getInitialData:function(n,t){return os(n.data,this,t)}});sr({type:"custom",_data:null,render:function(n,t,i){var f=this._data,r=n.getData(),u=this.group,e=stu(n,r,t,i);r.diff(f).add(function(t){r.hasValue(t)&&gwi(null,t,e(t),n,u,r)}).update(function(t,i){var o=f.getItemGraphicEl(i);r.hasValue(t)?gwi(o,t,e(t),n,u,r):o&&u.remove(o)}).remove(function(n){var t=f.getItemGraphicEl(n);t&&u.remove(t)}).execute();this._data=r},dispose:pi});wi(function(n){var t=n.graphic;r(t)?n.graphic=t[0]&&t[0].elements?[n.graphic[0]]:[{elements:t}]:t&&!t.elements&&(n.graphic=[{elements:[t]}])});ibi=iu({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(){var n=this.option.elements;this.option.elements=null;ibi.superApply(this,"mergeOption",arguments);this.option.elements=n},optionUpdated:function(n,i){var e=this.option,c=(i?e:n).elements,r=e.elements=i?[]:e.elements,s=[],o,h,u;for(this._flatten(c,s),o=pst(r,s),bii(o),h=this._elOptionsToUpdate=[],t(o,function(n,t){var i=n.option;(f&&ct(y(i)||n.exist,"Empty graphic option definition"),i)&&(h.push(i),vtu(n,i),ytu(r,t,i),ptu(r[t],i))},this),u=r.length-1;u>=0;u--)r[u]==null?r.splice(u,1):delete r[u].$action},_flatten:function(n,i,r){t(n,function(n){if(n){r&&(n.parentOption=r);i.push(n);var t=n.children;n.type==="group"&&t&&this._flatten(t,i,n);delete n.children}},this)},useElOptionsToUpdate:function(){var n=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,n}});yi({type:"graphic",init:function(){this._elMap=ui();this._lastGraphicModel},render:function(n,t,i){n!==this._lastGraphicModel&&this._clear();this._lastGraphicModel=n;this._updateElements(n,i);this._relocate(n,i)},_updateElements:function(n){var r=n.useElOptionsToUpdate(),i,u;r&&(i=this._elMap,u=this.group,t(r,function(n){var e=n.$action,o=n.id,r=i.get(o),l=n.parentId,c=l!=null?i.get(l):u,t,s,h;n.type==="text"&&(t=n.style,n.hv&&n.hv[1]&&(t.textVerticalAlign=t.textBaseline=null),!t.hasOwnProperty("textFill")&&t.fill&&(t.textFill=t.fill),!t.hasOwnProperty("textStroke")&&t.stroke&&(t.textStroke=t.stroke));s=atu(n);f&&r&&ct(c===r.parent,"Changing parent is not supported.");e&&e!=="merge"?e==="replace"?(kit(r,i),rbi(o,c,s,i)):e==="remove"&&kit(r,i):r?r.attr(s):rbi(o,c,s,i);h=i.get(o);h&&(h.__ecGraphicWidth=n.width,h.__ecGraphicHeight=n.height)}))},_relocate:function(n,t){for(var i,r,u,o,e=n.option.elements,s=this.group,h=this._elMap,f=e.length-1;f>=0;f--)(i=e[f],r=h.get(i.id),r)&&(u=r.parent,o=u===s?{width:t.getWidth(),height:t.getHeight()}:{width:u.__ecGraphicWidth||0,height:u.__ecGraphicHeight||0},eg(r,i,o,null,{hv:i.hv,boundingMode:i.bounding}))},_clear:function(){var n=this._elMap;n.each(function(t){kit(t,n)});this._elMap=ui()},dispose:function(){this._clear()}});kyt=iu({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(n,t,i){this.mergeDefaultAndTheme(n,i);n.selected=n.selected||{}},mergeOption:function(n){kyt.superCall(this,"mergeOption",n)},optionUpdated:function(){var n,i,t,r;if(this._updateData(this.ecModel),n=this._data,n[0]&&this.get("selectedMode")==="single"){for(i=!1,t=0;t<n.length;t++)if(r=n[t].get("name"),this.isSelected(r)){this.select(r);i=!0;break}i||this.select(n[0].get("name"))}},_updateData:function(n){var r=i(this.get("data")||[],function(n){return(typeof n=="string"||typeof n=="number")&&(n={name:n}),new it(n,this,this.ecModel)},this),t;this._data=r;t=i(n.getSeries(),function(n){return n.name});n.eachSeries(function(n){if(n.legendDataProvider){var i=n.legendDataProvider();t=t.concat(i.mapArray(i.getName))}});this._availableNames=t},getData:function(){return this._data},select:function(n){var i=this.option.selected,u=this.get("selectedMode"),r;u==="single"&&(r=this._data,t(r,function(n){i[n.get("name")]=!1}));i[n]=!0},unSelect:function(n){this.get("selectedMode")!=="single"&&(this.option.selected[n]=!1)},toggleSelected:function(n){var t=this.option.selected;t.hasOwnProperty(n)||(t[n]=!0);this[t[n]?"unSelect":"select"](n)},isSelected:function(n){var t=this.option.selected;return!(t.hasOwnProperty(n)&&!t[n])&&w(this._availableNames,n)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}});ft("legendToggleSelect","legendselectchanged",o(dyt,"toggleSelected"));ft("legendSelect","legendselected",o(dyt,"select"));ft("legendUnSelect","legendunselected",o(dyt,"unSelect"));var ev=o,btu=t,gyt=e,ktu=yi({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new gyt);this._backgroundEl},getContentGroup:function(){return this._contentGroup},render:function(n,t,i){var r;if(this.resetInner(),n.get("show",!0)){r=n.get("align");r&&r!=="auto"||(r=n.get("left")==="right"&&n.get("orient")==="vertical"?"right":"left");this.renderInner(r,n,t,i);var f=n.getBoxLayoutParams(),e={width:i.getWidth(),height:i.getHeight()},o=n.get("padding"),h=ai(f,e,o),u=this.layoutInner(n,r,h),s=ai(l({width:u.width,height:u.height},f),e,o);this.group.attr("position",[s.x-u.x,s.y-u.y]);this.group.add(this._backgroundEl=fbi(u,n))}},resetInner:function(){this.getContentGroup().removeAll();this._backgroundEl&&this.group.remove(this._backgroundEl)},renderInner:function(n,t,i,r){var o=this.getContentGroup(),u=ui(),e=t.get("selectedMode");btu(t.getData(),function(s,h){var c=s.get("name"),l,v,a;if(!this.newlineDisabled&&(c===""||c==="\n")){o.add(new gyt({newline:!0}));return}if(l=i.getSeriesByName(c)[0],!u.get(c)){if(l){v=l.getData();a=v.getVisual("color");typeof a=="function"&&(a=a(l.getDataParams(0)));var y=v.getVisual("legendSymbol")||"roundRect",p=v.getVisual("symbol"),w=this._createItem(c,h,s,t,y,p,n,a,e);w.on("click",ev(ebi,c,r)).on("mouseover",ev(obi,l,null,r)).on("mouseout",ev(sbi,l,null,r));u.set(c,!0)}else i.eachRawSeries(function(i){var f,o;if(!u.get(c)&&i.legendDataProvider){if(f=i.legendDataProvider(),o=f.indexOfName(c),o<0)return;var l=f.getItemVisual(o,"color"),a=this._createItem(c,h,s,t,"roundRect",null,n,l,e);a.on("click",ev(ebi,c,r)).on("mouseover",ev(obi,i,c,r)).on("mouseout",ev(sbi,i,c,r));u.set(c,!0)}},this);f&&(u.get(c)||console.warn(c+" series not exists. Legend data should be same with series name or data name."))}},this)},_createItem:function(n,t,i,r,u,f,e,o,h){var y=r.get("itemWidth"),v=r.get("itemHeight"),p=r.get("inactiveColor"),w=r.isSelected(n),c=new gyt,nt=i.getModel("textStyle"),tt=i.get("icon"),k=i.getModel("tooltip"),it=k.parentModel,l,g;u=tt||u;c.add(ru(u,0,0,y,v,w?o:p,!0));!tt&&f&&(f!==u||f=="none")&&(l=v*.8,f==="none"&&(f="circle"),c.add(ru(f,(y-l)/2,(v-l)/2,l,l,w?o:p)));var rt=e==="left"?y+5:-5,ut=e,a=r.get("formatter"),d=n;return typeof a=="string"&&a?d=a.replace("{name}",n!=null?n:""):typeof a=="function"&&(d=a(n)),c.add(new b({style:gt({},nt,{text:d,x:rt,y:v/2,textFill:w?nt.getTextColor():p,textAlign:ut,textVerticalAlign:"middle"})})),g=new ot({shape:c.getBoundingRect(),invisible:!0,tooltip:k.get("show")?s({content:n,formatter:it.get("formatter",!0)||function(){return n},formatterParams:{componentType:"legend",legendIndex:r.componentIndex,name:n,$vars:["name"]}},k.option):null}),c.add(g),c.eachChild(function(n){n.silent=!0}),g.silent=!h,this.getContentGroup().add(c),vt(c),c.__legendDataIndex=t,c},layoutInner:function(n,t,i){var r=this.getContentGroup(),u;return rp(n.get("orient"),r,n.get("itemGap"),i.width,i.height),u=r.getBoundingRect(),r.attr("position",[-u.x,-u.y]),this.group.getBoundingRect()}});hbi=function(n){var t=n.findComponents({mainType:"legend"});t&&t.length&&n.filterSeries(function(n){for(var i=0;i<t.length;i++)if(!t[i].isSelected(n.name))return!1;return!0})};tf(hbi);g.registerSubTypeDefaulter("legend",function(){return"plain"});npt=kyt.extend({type:"legend.scroll",setScrollDataIndex:function(n){this.option.scrollDataIndex=n},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(n,t,i,r){var u=ua(n);npt.superCall(this,"init",n,t,i,r);cbi(this,n,u)},mergeOption:function(n,t){npt.superCall(this,"mergeOption",n,t);cbi(this,this.option,n)},getOrient:function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}}});var lbi=e,dit=["width","height"],abi=["x","y"],tpt=ktu.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){tpt.superCall(this,"init");this._currentIndex=0;this.group.add(this._containerGroup=new lbi);this._containerGroup.add(this.getContentGroup());this.group.add(this._controllerGroup=new lbi);this._showController},resetInner:function(){tpt.superCall(this,"resetInner");this._controllerGroup.removeAll();this._containerGroup.removeClipPath();this._containerGroup.__rectSize=null},renderInner:function(n,t,i,u){function c(n,i){var o=n+"DataIndex",r=tp(t.get("pageIcons",!0)[t.getOrient().name][i],{onclick:h(s._pageGo,s,o,t,u)},{x:-f[0]/2,y:-f[1]/2,width:f[0],height:f[1]});r.name=n;e.add(r)}var s=this,e,f,o;tpt.superCall(this,"renderInner",n,t,i,u);e=this._controllerGroup;f=t.get("pageIconSize",!0);r(f)||(f=[f,f]);c("pagePrev",0);o=t.getModel("pageTextStyle");e.add(new b({name:"pageText",style:{textFill:o.getTextColor(),font:o.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0}));c("pageNext",1)},layoutInner:function(n,t,i){var h=this.getContentGroup(),l=this._containerGroup,a=this._controllerGroup,u=n.getOrient().index,r=dit[u],e=dit[1-u],w=abi[1-u],nt,o,c,p;rp(n.get("orient"),h,n.get("itemGap"),u?i.width:null,u?null:i.height);rp("horizontal",a,n.get("pageButtonItemGap",!0));var s=h.getBoundingRect(),f=a.getBoundingRect(),v=this._showController=s[r]>i[r],b=[-s.x,-s.y];b[u]=h.position[u];var d=[0,0],y=[-f.x,-f.y],g=si(n.get("pageButtonGap",!0),n.get("itemGap",!0));return v&&(nt=n.get("pageButtonPosition",!0),nt==="end"?y[u]+=i[r]-f[r]:d[u]+=f[r]+g),y[1-u]+=s[e]/2-f[e]/2,h.attr("position",b),l.attr("position",d),a.attr("position",y),o=this.group.getBoundingRect(),o={x:0,y:0},o[r]=v?i[r]:s[r],o[e]=Math.max(s[e],f[e]),o[w]=Math.min(0,f[w]+y[1-u]),l.__rectSize=i[r],v?(c={x:0,y:0},c[r]=Math.max(i[r]-f[r]-g,0),c[e]=o[e],l.setClipPath(new ot({shape:c})),l.__rectSize=c[r]):a.eachChild(function(n){n.attr({invisible:!0,silent:!0})}),p=this._getPageInfo(n),p.pageIndex!=null&&k(h,{position:p.contentPosition},v?n:!1),this._updatePageInfoView(n,p),o},_pageGo:function(n,t,i){var r=this._getPageInfo(t)[n];r!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:r,legendId:t.id})},_updatePageInfoView:function(n,i){var u=this._controllerGroup;t(["pagePrev","pageNext"],function(t){var f=i[t+"DataIndex"]!=null,r=u.childOfName(t);r&&(r.setStyle("fill",f?n.get("pageIconColor",!0):n.get("pageIconInactiveColor",!0)),r.cursor=f?"pointer":"default")});var f=u.childOfName("pageText"),r=n.get("pageFormatter"),e=i.pageIndex,o=e!=null?e+1:0,s=i.pageCount;f&&r&&f.setStyle("text",li(r)?r.replace("{current}",o).replace("{total}",s):r({current:o,total:s}))},_getPageInfo:function(n){function d(n){var i=n.getBoundingRect().clone();return i[t]+=n.position[f],i}var tt=n.get("scrollDataIndex",!0),e=this.getContentGroup(),o=e.getBoundingRect(),l=this._containerGroup.__rectSize,f=n.getOrient().index,u=dit[f],g=dit[1-f],t=abi[f],y=e.position.slice(),a,p,w,s,h,b,k,i,r,c,nt,v;if(this._showController?e.eachChild(function(n){n.__legendDataIndex===tt&&(s=n)}):s=e.childAt(0),h=l?Math.ceil(o[u]/l):0,s&&(b=s.getBoundingRect(),k=s.position[f]+b[t],y[f]=-k-o[t],a=Math.floor(h*(k+b[t]+l/2)/o[u]),a=o[u]&&h?Math.max(0,Math.min(h-1,a)):-1,i={x:0,y:0},i[u]=l,i[g]=o[g],i[t]=-y[f]-o[t],c=e.children(),e.eachChild(function(n,f){var e=d(n);e.intersect(i)&&(r==null&&(r=f),w=n.__legendDataIndex);f===c.length-1&&e[t]+e[u]<=i[t]+i[u]&&(w=null)}),r!=null))if(nt=c[r],v=d(nt),i[t]=v[t]+v[u]-i[u],r<=0&&v[t]>=i[t])p=null;else{while(r>0&&d(c[r-1]).intersect(i))r--;p=c[r].__legendDataIndex}return{contentPosition:y,pageIndex:a,pageCount:h,pagePrevDataIndex:p,pageNextDataIndex:w}}});ft("legendScroll","legendscroll",function(n,t){var i=n.scrollDataIndex;i!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:n},function(n){n.setScrollDataIndex(i)})});iu({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var vbi=t,dtu=ant,gtu=["","-webkit-","-moz-","-o-"],niu="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";ipt.prototype={constructor:ipt,_enterable:!0,update:function(){var n=this._container,i=n.currentStyle||document.defaultView.getComputedStyle(n),t=n.style;t.position!=="absolute"&&i.position!=="absolute"&&(t.position="relative")},show:function(n){clearTimeout(this._hideTimeout);var t=this.el;t.style.cssText=niu+riu(n)+";left:"+this._x+"px;top:"+this._y+"px;"+(n.get("extraCssText")||"");t.style.display=t.innerHTML?"block":"none";this._show=!0},setContent:function(n){this.el.innerHTML=n==null?"":n},setEnterable:function(n){this._enterable=n},getSize:function(){var n=this.el;return[n.clientWidth,n.clientHeight]},moveTo:function(n,t){var i=this._zr,r,u;i&&i.painter&&(r=i.painter.getViewportRootOffset())&&(n+=r.offsetLeft,t+=r.offsetTop);u=this.el.style;u.left=n+"px";u.top=t+"px";this._x=n;this._y=t},hide:function(){this.el.style.display="none";this._show=!1},hideLater:function(n){!this._show||this._inContent&&this._enterable||(n?(this._hideDelay=n,this._show=!1,this._hideTimeout=setTimeout(h(this.hide,this),n)):this.hide())},isShow:function(){return this._show}};var ybi=h,pw=t,pbi=u,uiu=new ot({shape:{x:-1,y:-1,width:2,height:2}});yi({type:"tooltip",init:function(n,t){if(!d.node){var i=new ipt(t.getDom(),t);this._tooltipContent=i}},render:function(n,t,i){if(!d.node){this.group.removeAll();this._tooltipModel=n;this._ecModel=t;this._api=i;this._lastDataByCoordSys=null;this._alwaysShowContent=n.get("alwaysShowContent");var r=this._tooltipContent;r.update();r.setEnterable(n.get("enterable"));this._initGlobalListener();this._keepShow()}},_initGlobalListener:function(){var t=this._tooltipModel,n=t.get("triggerOn");ypi("itemTooltip",this._api,ybi(function(t,i,r){n!=="none"&&(n.indexOf(t)>=0?this._tryShow(i,r):t==="leave"&&this._hide(r))},this))},_keepShow:function(){var t=this._tooltipModel,i=this._ecModel,r=this._api,n;this._lastX!=null&&this._lastY!=null&&t.get("triggerOn")!=="none"&&(n=this,clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){n.manuallyShowTip(t,i,r,{x:n._lastX,y:n._lastY})}))},manuallyShowTip:function(n,t,i,r){var u,o,f;if(r.from!==this.uid&&!d.node)if(u=wbi(r,i),this._ticket="",o=r.dataByCoordSys,r.tooltip&&r.x!=null&&r.y!=null)f=uiu,f.position=[r.x,r.y],f.update(),f.tooltip=r.tooltip,this._tryShow({offsetX:r.x,offsetY:r.y,target:f},u);else if(o)this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,event:{},dataByCoordSys:r.dataByCoordSys,tooltipOption:r.tooltipOption},u);else if(r.seriesIndex!=null){if(this._manuallyAxisShowTip(n,t,i,r))return;var e=hpi(r,t),s=e.point[0],h=e.point[1];s!=null&&h!=null&&this._tryShow({offsetX:s,offsetY:h,position:r.position,target:e.el,event:{}},u)}else r.x!=null&&r.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:r.x,y:r.y}),this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,target:i.getZr().findHover(r.x,r.y).target,event:{}},u))},manuallyHideTip:function(n,t,i,r){var u=this._tooltipContent;this._alwaysShowContent||u.hideLater(this._tooltipModel.get("hideDelay"));this._lastX=this._lastY=null;r.from!==this.uid&&this._hide(wbi(r,i))},_manuallyAxisShowTip:function(n,t,i,r){var f=r.seriesIndex,e=r.dataIndex,s=t.getComponent("axisPointer").coordSysAxesInfo,u,o,n;if(f!=null&&e!=null&&s!=null)return(u=t.getSeriesByIndex(f),!u)?void 0:(o=u.getData(),n=rpt([o.getItemModel(e),u,(u.coordinateSystem||{}).model,n]),n.get("trigger")!=="axis")?void 0:(i.dispatchAction({type:"updateAxisPointer",seriesIndex:f,dataIndex:e,position:r.position}),!0)},_tryShow:function(n,t){var i=n.target,u=this._tooltipModel,r;u&&(this._lastX=n.offsetX,this._lastY=n.offsetY,r=n.dataByCoordSys,r&&r.length?this._showAxisTooltip(r,n):i&&i.dataIndex!=null?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(n,i,t)):i&&i.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(n,i,t)):(this._lastDataByCoordSys=null,this._hide(t)))},_showOrMove:function(n,t){var i=n.get("showDelay");t=h(t,this);clearTimeout(this._showTimout);i>0?this._showTimout=setTimeout(t,i):t()},_showAxisTooltip:function(n,i){var f=this._ecModel,h=this._tooltipModel,u=[i.offsetX,i.offsetY],r=[],e=[],o=rpt([i.tooltipOption,h]),s;pw(n,function(n){pw(n.dataByAxis,function(n){var i=f.getComponent(n.axisDim+"Axis",n.axisIndex),u=n.value,h=[],o,s;i&&u!=null&&(o=iwi(u,i.axis,f,n.seriesDataIndices,n.valueLabelOpt),t(n.seriesDataIndices,function(t){var s=f.getSeriesByIndex(t.seriesIndex),c=t.dataIndexInside,r=s&&s.getDataParams(c);r.axisDim=n.axisDim;r.axisIndex=n.axisIndex;r.axisType=n.axisType;r.axisId=n.axisId;r.axisValue=rct(i.axis,u);r.axisValueLabel=o;r&&(e.push(r),h.push(s.formatTooltip(c,!0)))}),s=o,r.push((s?dt(s)+"<br />":"")+h.join("<br />")))})},this);r.reverse();r=r.join("<br /><br />");s=i.position;this._showOrMove(o,function(){this._updateContentNotChangedOnAxis(n)?this._updatePosition(o,s,u[0],u[1],this._tooltipContent,e):this._showTooltipContent(o,r,e,Math.random(),u[0],u[1],s)})},_showSeriesItemTooltip:function(n,t,i){var l=this._ecModel,o=t.seriesIndex,f=l.getSeriesByIndex(o),u=t.dataModel||f,r=t.dataIndex,s=t.dataType,h=u.getData(),e=rpt([h.getItemModel(r),u,f&&(f.coordinateSystem||{}).model,this._tooltipModel]),c=e.get("trigger");if(c==null||c==="item"){var a=u.getDataParams(r,s),v=u.formatTooltip(r,!1,s),y="item_"+u.name+"_"+r;this._showOrMove(e,function(){this._showTooltipContent(e,v,a,y,n.offsetX,n.offsetY,n.position,n.target)});i({type:"showTip",dataIndexInside:r,dataIndex:h.getRawIndex(r),seriesIndex:o,from:this.uid})}},_showComponentItemTooltip:function(n,t,i){var r=t.tooltip,f;typeof r=="string"&&(f=r,r={content:f,formatter:f});var u=new it(r,this._tooltipModel,this._ecModel),e=u.get("content"),o=Math.random();this._showOrMove(u,function(){this._showTooltipContent(u,e,u.get("formatterParams")||{},o,n.offsetX,n.offsetY,n.position,t)});i({type:"showTip",from:this.uid})},_showTooltipContent:function(n,t,i,r,u,f,e,o){var s,h,c,l;(this._ticket="",n.get("showContent")&&n.get("show"))&&(s=this._tooltipContent,h=n.get("formatter"),e=e||n.get("position"),c=t,h&&typeof h=="string"?c=cot(h,i,!0):typeof h=="function"&&(l=ybi(function(t,r){t===this._ticket&&(s.setContent(r),this._updatePosition(n,e,u,f,s,i,o))},this),this._ticket=r,c=h(i,r,l)),s.setContent(c),s.show(n),this._updatePosition(n,e,u,f,s,i,o))},_updatePosition:function(n,t,i,u,f,e,o){var c=this._api.getWidth(),l=this._api.getHeight(),w,s;t=t||n.get("position");var h=f.getSize(),a=n.get("align"),v=n.get("verticalAlign"),p=o&&o.getBoundingRect().clone();o&&p.applyTransform(o.transform);typeof t=="function"&&(t=t([i,u],e,f.el,p,{viewSize:[c,l],contentSize:h.slice()}));r(t)?(i=pbi(t[0],c),u=pbi(t[1],l)):y(t)?(t.width=h[0],t.height=h[1],w=ai(t,{width:c,height:l}),i=w.x,u=w.y,a=null,v=null):typeof t=="string"&&o?(s=oiu(t,p,h),i=s[0],u=s[1]):(s=fiu(i,u,f.el,c,l,a?null:20,v?null:20),i=s[0],u=s[1]);a&&(i-=kbi(a)?h[0]/2:a==="right"?h[0]:0);v&&(u-=kbi(v)?h[1]/2:v==="bottom"?h[1]:0);n.get("confine")&&(s=eiu(i,u,f.el,c,l),i=s[0],u=s[1]);f.moveTo(i,u)},_updateContentNotChangedOnAxis:function(n){var i=this._lastDataByCoordSys,t=!!i&&i.length===n.length;return t&&pw(i,function(i,r){var u=i.dataByAxis||{},e=n[r]||{},f=e.dataByAxis||[];t&=u.length===f.length;t&&pw(u,function(n,i){var r=f[i]||{},u=n.seriesDataIndices||[],e=r.seriesDataIndices||[];t&=n.value===r.value&&n.axisType===r.axisType&&n.axisId===r.axisId&&u.length===e.length;t&&pw(u,function(n,i){var r=e[i];t&=n.seriesIndex===r.seriesIndex&&n.dataIndex===r.dataIndex})})}),this._lastDataByCoordSys=n,!!t},_hide:function(n){this._lastDataByCoordSys=null;n({type:"hideTip",from:this.uid})},dispose:function(n,t){d.node||(this._tooltipContent.hide(),cyt("itemTooltip",t))}});ft({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){});ft({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){});git.prototype={constructor:git,pointToData:function(n,t){return this.polar.pointToData(n,t)[this.dim==="radius"?0:1]},dataToRadius:ri.prototype.dataToCoord,radiusToData:ri.prototype.coordToData};st(git,ri);nrt.prototype={constructor:nrt,pointToData:function(n,t){return this.polar.pointToData(n,t)[this.dim==="radius"?0:1]},dataToAngle:ri.prototype.dataToCoord,angleToData:ri.prototype.coordToData};st(nrt,ri);ww=function(n){this.name=n||"";this.cx=0;this.cy=0;this._radiusAxis=new git;this._angleAxis=new nrt;this._radiusAxis.polar=this._angleAxis.polar=this};ww.prototype={type:"polar",axisPointerEnabled:!0,constructor:ww,dimensions:["radius","angle"],model:null,containPoint:function(n){var t=this.pointToCoord(n);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},containData:function(n){return this._radiusAxis.containData(n[0])&&this._angleAxis.containData(n[1])},getAxis:function(n){return this["_"+n+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(n){var t=[],i=this._angleAxis,r=this._radiusAxis;return i.scale.type===n&&t.push(i),r.scale.type===n&&t.push(r),t},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(n){var t=this._angleAxis;return n===t?this._radiusAxis:t},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(n){var t=n!=null&&n!=="auto"?this.getAxis(n):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},dataToPoint:function(n,t){return this.coordToPoint([this._radiusAxis.dataToRadius(n[0],t),this._angleAxis.dataToAngle(n[1],t)])},pointToData:function(n,t){var i=this.pointToCoord(n);return[this._radiusAxis.radiusToData(i[0],t),this._angleAxis.angleToData(i[1],t)]},pointToCoord:function(n){var i=n[0]-this.cx,r=n[1]-this.cy,s=this.getAngleAxis(),u=s.getExtent(),f=Math.min(u[0],u[1]),o=Math.max(u[0],u[1]),e,t,h;for(s.inverse?f=o-360:o=f+360,e=Math.sqrt(i*i+r*r),i/=e,r/=e,t=Math.atan2(-r,i)/Math.PI*180,h=t<f?1:-1;t<f||t>o;)t+=h*360;return[e,t]},coordToPoint:function(n){var t=n[0],i=n[1]/180*Math.PI,r=Math.cos(i)*t+this.cx,u=-Math.sin(i)*t+this.cy;return[r,u]}};trt=g.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});a(trt.prototype,rc);fpt={angle:{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{splitNumber:5}};va("angle",trt,gbi,fpt.angle);va("radius",trt,gbi,fpt.radius);iu({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(n){var t,i=this.ecModel;return i.eachComponent(n,function(n){n.getCoordSysModel()===this&&(t=n)},this),t},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});tki={dimensions:ww.prototype.dimensions,create:function(n,t){var i=[];return n.eachComponent("polar",function(n,r){var u=new ww(r);u.update=liu;var f=u.getRadiusAxis(),e=u.getAngleAxis(),o=n.findAxisModel("radiusAxis"),s=n.findAxisModel("angleAxis");nki(f,o);nki(e,s);ciu(u,n,t);i.push(u);n.coordinateSystem=u;u.model=n}),n.eachSeries(function(t){if(t.get("coordinateSystem")==="polar"){var i=n.queryComponents({mainType:"polar",index:t.get("polarIndex"),id:t.get("polarId")})[0];if(f&&!i)throw new Error('Polar "'+kt(t.get("polarIndex"),t.get("polarId"),0)+'" not found');t.coordinateSystem=i.coordinateSystem}}),i}};ir.register("polar",tki);iki=["axisLine","axisLabel","axisTick","splitLine","splitArea"];br.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(n){if(this.group.removeAll(),n.get("show")){var i=n.axis,r=i.polar,f=r.getRadiusAxis().getExtent(),u=i.getTicksCoords();i.type!=="category"&&u.pop();t(iki,function(t){n.get(t+".show")&&(!i.scale.isBlank()||t==="axisLine")&&this["_"+t](n,r,u,f)},this)}},_axisLine:function(n,t,i,r){var f=n.getModel("axisLine.lineStyle"),u=new lh({shape:{cx:t.cx,cy:t.cy,r:r[ept(t)]},style:f.getLineStyle(),z2:1,silent:!0});u.style.fill=null;this.group.add(u)},_axisTick:function(n,t,r,u){var f=n.getModel("axisTick"),o=(f.get("inside")?-1:1)*f.get("length"),e=u[ept(t)],s=i(r,function(n){return new cu({shape:rki(t,[e,e+o],n)})});this.group.add(pf(s,{style:l(f.getModel("lineStyle").getLineStyle(),{stroke:n.get("axisLine.lineStyle.color")})}))},_axisLabel:function(n,t,i,r){for(var h,a=n.axis,o=n.get("data"),f=n.getModel("axisLabel"),v=n.getFormattedLabels(),y=f.get("margin"),p=a.getLabelsCoords(),u=0;u<i.length;u++){var s=r[ept(t)],e=t.coordToPoint([s+y,p[u]]),c=t.cx,l=t.cy,w=Math.abs(e[0]-c)/s<.3?"center":e[0]>c?"left":"right",k=Math.abs(e[1]-l)/s<.3?"middle":e[1]>l?"top":"bottom";o&&o[u]&&o[u].textStyle&&(f=new it(o[u].textStyle,f,f.ecModel));h=new b({silent:!0});this.group.add(h);gt(h.style,f,{x:e[0],y:e[1],textFill:f.getTextColor()||n.get("axisLine.lineStyle.color"),text:v[u],textAlign:w,textVerticalAlign:k})}},_splitLine:function(n,t,i,r){var h=n.getModel("splitLine"),s=h.getModel("lineStyle"),f=s.get("color"),c=0,e,o,u;for(f=f instanceof Array?f:[f],e=[],u=0;u<i.length;u++)o=c++%f.length,e[o]=e[o]||[],e[o].push(new cu({shape:rki(t,r,i[u])}));for(u=0;u<e.length;u++)this.group.add(pf(e[u],{style:l({stroke:f[u%f.length]},s.getLineStyle()),silent:!0,z:n.get("z")}))},_splitArea:function(n,t,i,r){var a=n.getModel("splitArea"),h=a.getModel("areaStyle"),f=h.get("color"),v=0,o,u;f=f instanceof Array?f:[f];var e=[],s=Math.PI/180,c=-i[0]*s,y=Math.min(r[0],r[1]),p=Math.max(r[0],r[1]),w=n.get("clockwise");for(u=1;u<i.length;u++)o=v++%f.length,e[o]=e[o]||[],e[o].push(new ts({shape:{cx:t.cx,cy:t.cy,r0:y,r:p,startAngle:c,endAngle:-i[u]*s,clockwise:w},silent:!0})),c=-i[u]*s;for(u=0;u<e.length;u++)this.group.add(pf(e[u],{style:l({fill:f[u%f.length]},h.getAreaStyle()),silent:!0}))}});uki=["axisLine","axisTickLabel","axisName"];fki=["splitLine","splitArea"];br.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(n){if(this.group.removeAll(),n.get("show")){var i=n.axis,r=i.polar,e=r.getAngleAxis(),o=i.getTicksCoords(),f=e.getExtent()[0],s=i.getExtent(),h=aiu(r,n,f),u=new ki(n,h);t(uki,u.add,u);this.group.add(u.getGroup());t(fki,function(t){n.get(t+".show")&&!i.scale.isBlank()&&this["_"+t](n,r,f,s,o)},this)}},_splitLine:function(n,t,i,r,u){var c=n.getModel("splitLine"),h=c.getModel("lineStyle"),e=h.get("color"),a=0,o,s,f;for(e=e instanceof Array?e:[e],o=[],f=0;f<u.length;f++)s=a++%e.length,o[s]=o[s]||[],o[s].push(new lh({shape:{cx:t.cx,cy:t.cy,r:u[f]},silent:!0}));for(f=0;f<o.length;f++)this.group.add(pf(o[f],{style:l({stroke:e[f%e.length],fill:null},h.getLineStyle()),silent:!0}))},_splitArea:function(n,t,i,r,u){var a=n.getModel("splitArea"),c=a.getModel("areaStyle"),e=c.get("color"),v=0,o,h,s,f;for(e=e instanceof Array?e:[e],o=[],h=u[0],f=1;f<u.length;f++)s=v++%e.length,o[s]=o[s]||[],o[s].push(new ts({shape:{cx:t.cx,cy:t.cy,r0:h,r:u[f],startAngle:0,endAngle:Math.PI*2},silent:!0})),h=u[f];for(f=0;f<o.length;f++)this.group.add(pf(o[f],{style:l({fill:e[f%e.length]},c.getAreaStyle()),silent:!0}))}});eki=pc.extend({makeElOption:function(n,t,i,r,u){var f=i.axis,e,h,o,l,a;f.dim==="angle"&&(this.animationThreshold=Math.PI/18);var s=f.polar,v=s.getOtherAxis(f),y=v.getExtent(),c;c=f["dataTo"+ud(f.dim)](t);e=r.get("type");e&&e!=="none"&&(h=vyt(r),o=oki[e](f,s,c,y,h),o.style=h,n.graphicKey=o.type,n.pointer=o);l=r.get("label.margin");a=viu(t,i,r,s,l);twi(n,i,r,u,a)}});oki={line:function(n,t,i,r){return n.dim==="angle"?{type:"Line",shape:pyt(t.coordToPoint([r[0],i]),t.coordToPoint([r[1],i]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:i}}},shadow:function(n,t,i,r){var u=n.getBandWidth(),f=Math.PI/180;return n.dim==="angle"?{type:"Sector",shape:fwi(t.cx,t.cy,r[0],r[1],(-i-u/2)*f,(-i+u/2)*f)}:{type:"Sector",shape:fwi(t.cx,t.cy,i-u/2,i+u/2,0,Math.PI*2)}}};br.registerAxisPointerClass("PolarAxisPointer",eki);ni(o(siu,"bar"));yi({type:"polar"});ski=g.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(n){g.prototype.init.apply(this,arguments);wh(n.label,["show"])},optionUpdated:function(){var n=this.option,t=this;n.regions=stt.getFilledRegions(n.regions,n.map,n.nameMap);this._optionModelMap=sl(n.regions||[],function(n,i){return i.name&&n.set(i.name,new it(i,t)),n},ui());this.updateSelectedMap(n.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:.75,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,color:"#000"},emphasis:{show:!0,color:"rgb(100,0,0)"}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(n){return this._optionModelMap.get(n)||new it(null,this,this.ecModel)},getFormattedLabel:function(n,t){var u=this.getRegionModel(n),i=u.get("label."+t+".formatter"),r={name:n};return typeof i=="function"?(r.status=t,i(r)):typeof i=="string"?i.replace("{a}",n!=null?n:""):void 0},setZoom:function(n){this.option.zoom=n},setCenter:function(n){this.option.center=n}});nt(ski,ttt);yi({type:"geo",init:function(n,t){var i=new ctt(t,!0);this._mapDraw=i;this.group.add(i.group)},render:function(n,t,i,r){if(!r||r.type!=="geoToggleSelect"||r.from!==this.uid){var u=this._mapDraw;n.get("show")?u.draw(n,t,i,this,r):this._mapDraw.group.removeAll();this.group.silent=n.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}});opt("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"});opt("select",{type:"geoSelect",event:"geoselected"});opt("unSelect",{type:"geoUnSelect",event:"geounselected"});hki=["rect","polygon","keep","clear"];cki=function(n,i){var f=n&&n.brush,o,u;if(r(f)||(f=f?[f]:[]),f.length){o=[];t(f,function(n){var t=n.hasOwnProperty("toolbox")?n.toolbox:[];t instanceof Array&&(o=o.concat(t))});u=n&&n.toolbox;r(u)&&(u=u[0]);u||(u={feature:{}},n.toolbox=[u]);var s=u.feature||(u.feature={}),h=s.brush||(s.brush={}),e=h.type||(h.type=[]);e.push.apply(e,o);yiu(e);i&&!e.length&&e.push.apply(e,hki)}};spt=t;irt={lineX:yki(0),lineY:yki(1),rect:{point:function(n,t,i){return n&&i.boundingRect.contain(n[0],n[1])},rect:function(n,t,i){return n&&i.boundingRect.intersect(n)}},polygon:{point:function(n,t,i){return n&&i.boundingRect.contain(n[0],n[1])&&uc(i.range,n[0],n[1])},rect:function(n,t,i){var f=i.range;if(!n||f.length<=1)return!1;var r=n.x,u=n.y,e=n.width,o=n.height,s=f[0];if(uc(f,r,u)||uc(f,r+e,u)||uc(f,r,u+o)||uc(f,r+e,u+o)||p.create(n).contain(s[0],s[1])||rrt(r,u,r+e,u,f)||rrt(r,u,r,u+o,f)||rrt(r+e,u,r+e,u+o,f)||rrt(r,u+o,r+e,u+o,f))return!0}}};var ws=t,urt=w,frt=o,lpt=["dataToPoint","pointToData"],biu=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];wc=ert.prototype;wc.setOutputRanges=function(n,t){this.matchOutputRanges(n,t,function(n,t,i){if((n.coordRanges||(n.coordRanges=[])).push(t),!n.coordRange){n.coordRange=t;var r=vpt[n.brushType](0,i,t);n.__rangeOffset={offset:ypt[n.brushType](r.values,n.range,[1,1]),xyMinMax:r.xyMinMax}}})};wc.matchOutputRanges=function(n,i,r){ws(n,function(n){var u=this.findTargetInfo(n,i);u&&u!==!0&&t(u.coordSyses,function(t){var u=vpt[n.brushType](1,t,n.range);r(n,u.values,t,i)})},this)};wc.setInputRanges=function(n,t){ws(n,function(n){var i=this.findTargetInfo(n,t),r,u;f&&(ct(!i||i===!0||n.coordRange,"coordRange must be specified when coord index specified."),ct(!i||i!==!0||n.range,"range must be specified in global brush."));n.range=n.range||[];i&&i!==!0&&(n.panelId=i.panelId,r=vpt[n.brushType](0,i.coordSys,n.coordRange),u=n.__rangeOffset,n.range=u?ypt[n.brushType](r.values,u.offset,diu(r.xyMinMax,u.xyMinMax)):r.values)},this)};wc.makePanelOpts=function(n,t){return i(this._targetInfoList,function(i){var r=i.getPanelRect();return{panelId:i.panelId,defaultBrushType:t&&t(i),clipPath:bai(r),isTargetByCursor:dai(r,n,i.coordSysModel),getLinearBrushOtherExtent:kai(r)}})};wc.controlSeries=function(n,t,i){var r=this.findTargetInfo(n,i);return r===!0||r&&urt(r.coordSyses,t.coordinateSystem)>=0};wc.findTargetInfo=function(n,t){for(var r,u,f=this._targetInfoList,e=pki(t,n),i=0;i<f.length;i++)if(r=f[i],u=n.panelId,u){if(r.panelId===u)return r}else for(i=0;i<wki.length;i++)if(wki[i](e,r))return r;return!0};var kiu={grid:function(n,t){var r=n.xAxisModels,u=n.yAxisModels,o=n.gridModels,i=ui(),f={},e={};(r||u||o)&&(ws(r,function(n){var t=n.axis.grid.model;i.set(t.id,t);f[t.id]=!0}),ws(u,function(n){var t=n.axis.grid.model;i.set(t.id,t);e[t.id]=!0}),ws(o,function(n){i.set(n.id,n);f[n.id]=!0;e[n.id]=!0}),i.each(function(n){var o=n.coordinateSystem,i=[];ws(o.getCartesians(),function(n){(urt(r,n.getAxis("x").model)>=0||urt(u,n.getAxis("y").model)>=0)&&i.push(n)});t.push({panelId:"grid--"+n.id,gridModel:n,coordSysModel:n,coordSys:i[0],coordSyses:i,getPanelRect:bki.grid,xAxisDeclared:f[n.id],yAxisDeclared:e[n.id]})}))},geo:function(n,t){ws(n.geoModels,function(n){var i=n.coordinateSystem;t.push({panelId:"geo--"+n.id,geoModel:n,coordSysModel:n,coordSys:i,coordSyses:[i],getPanelRect:bki.geo})})}},wki=[function(n,t){var r=n.xAxisModel,u=n.yAxisModel,i=n.gridModel;return!i&&r&&(i=r.axis.grid.model),!i&&u&&(i=u.axis.grid.model),i&&i===t.gridModel},function(n,t){var i=n.geoModel;return i&&i===t.geoModel}],bki={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var n=this.coordSys,t=n.getBoundingRect().clone();return t.applyTransform(yh(n)),t}},vpt={lineX:frt(kki,0),lineY:frt(kki,1),rect:function(n,t,i){var r=t[lpt[n]]([i[0][0],i[1][0]]),u=t[lpt[n]]([i[0][1],i[1][1]]),f=[apt([r[0],u[0]]),apt([r[1],u[1]])];return{values:f,xyMinMax:f}},polygon:function(n,t,r){var u=[[Infinity,-Infinity],[Infinity,-Infinity]],f=i(r,function(i){var r=t[lpt[n]](i);return u[0][0]=Math.min(u[0][0],r[0]),u[1][0]=Math.min(u[1][0],r[1]),u[0][1]=Math.max(u[0][1],r[0]),u[1][1]=Math.max(u[1][1],r[1]),r});return{values:f,xyMinMax:u}}};ypt={lineX:frt(dki,0),lineY:frt(dki,1),rect:function(n,t,i){return[[n[0][0]-i[0]*t[0][0],n[0][1]-i[0]*t[0][1]],[n[1][0]-i[1]*t[1][0],n[1][1]-i[1]*t[1][1]]]},polygon:function(n,t,r){return i(n,function(n,i){return[n[0]-r[0]*t[i][0],n[1]-r[1]*t[i][1]]})}};var ndi=["inBrush","outOfBrush"],ppt="__ecBrushSelect",wpt="__ecInBrushSelectEvent",tdi=ea.VISUAL.BRUSH;ni(tdi,function(n,t,i){n.eachComponent({mainType:"brush"},function(t){i&&i.type==="takeGlobalCursor"&&t.setBrushOption(i.key==="brush"?i.brushOption:{brushType:!1});var r=t.brushTargetManager=new ert(t.option,n);r.setInputRanges(t.areas,n)})});pt(tdi,function(n,u,f){var e=[],o,s;n.eachComponent({mainType:"brush"},function(u,f){function h(n){return v==="all"||k[n]}function w(n){return!!n.length}function tt(n,t){var i=n.coordinateSystem;p|=i.hasAxisBrushed();h(t)&&i.eachActiveState(n.getData(),function(n,t){n==="active"&&(y[t]=1)})}function it(i,r,f){var e=rdi(i),o;e&&!tru(u,r)&&(t(g,function(t){e[t.brushType]&&u.brushTargetManager.controlSeries(t,i,n)&&f.push(t);p|=w(f)}),h(r)&&w(f)&&(o=i.getData(),o.each(function(n){idi(e,f,o,n)&&(y[n]=1)})))}var b={brushId:u.id,brushIndex:f,brushName:u.name,areas:c(u.areas),selected:[]},g,nt;e.push(b);var a=u.option,v=a.brushLink,k=[],y=[],d=[],p=0;f||(o=a.throttleType,s=a.throttleDelay);g=i(u.areas,function(n){return iru(l({boundingRect:udi[n.brushType](n)},n))});nt=hpt(u.option,ndi,function(n){n.mappingMethod="fixed"});r(v)&&t(v,function(n){k[n]=1});n.eachSeries(function(n,t){var i=d[t]=[];n.subType==="parallel"?tt(n,t,i):it(n,t,i)});n.eachSeries(function(n,t){var r={seriesId:n.id,seriesIndex:t,seriesName:n.name,dataIndex:[]};b.selected.push(r);var f=rdi(n),u=d[t],i=n.getData(),e=h(t)?function(n){return y[n]?(r.dataIndex.push(i.getRawIndex(n)),"inBrush"):"outOfBrush"}:function(n){return idi(f,u,i,n)?(r.dataIndex.push(i.getRawIndex(n)),"inBrush"):"outOfBrush"};(h(t)?p:w(u))&&vki(ndi,nt,i,e)})});giu(u,o,s,e,f)});udi={lineX:pi,lineY:pi,rect:function(n){return fdi(n.range)},polygon:function(n){for(var i,t,u=n.range,r=0,f=u.length;r<f;r++)t=t||[[Infinity,-Infinity],[Infinity,-Infinity]],i=u[r],i[0]<t[0][0]&&(t[0][0]=i[0]),i[0]>t[0][1]&&(t[0][1]=i[0]),i[1]<t[1][0]&&(t[1][0]=i[1]),i[1]>t[1][1]&&(t[1][1]=i[1]);return t&&fdi(t)}};edi=["#ddd"];rru=iu({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(n,t){var i=this.option;t||aki(i,n,["inBrush","outOfBrush"]);i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:edi}},setAreas:function(n){(f&&(ct(r(n)),t(n,function(n){ct(n.brushType,"Illegal areas")})),n)&&(this.areas=i(n,function(n){return odi(this.option,n)},this))},setBrushOption:function(n){this.brushOption=odi(this.option,n);this.brushType=this.brushOption.brushType}});yi({type:"brush",init:function(n,t){this.ecModel=n;this.api=t;this.model;(this._brushController=new rv(t.getZr())).on("brush",h(this._onBrush,this)).mount()},render:function(n){return this.model=n,ort.apply(this,arguments)},updateView:ort,updateLayout:ort,updateVisual:ort,dispose:function(){this._brushController.dispose()},_onBrush:function(n,t){var i=this.model.id;this.model.brushTargetManager.setOutputRanges(n,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:i,areas:c(n),$from:i})}});ft({type:"brush",event:"brush",update:"updateView"},function(n,t){t.eachComponent({mainType:"brush",query:n},function(t){t.setAreas(n.areas)})});ft({type:"brushSelect",event:"brushSelected",update:"none"},function(){});bpt={};bc={toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}}};hdi=bc.toolbox.brush;kpt.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:c(hdi.title)};sv=kpt.prototype;sv.render=sv.updateView=sv.updateLayout=function(n,i){var r,u,f;i.eachComponent({mainType:"brush"},function(n){r=n.brushType;u=n.brushOption.brushMode||"single";f|=n.areas.length});this._brushType=r;this._brushMode=u;t(n.get("type",!0),function(t){n.setIconStatus(t,(t==="keep"?u==="multiple":t==="clear"?f:t===r)?"emphasis":"normal")})};sv.getIcons=function(){var n=this.model,i=n.get("icon",!0),r={};return t(n.get("type",!0),function(n){i[n]&&(r[n]=i[n])}),r};sv.onclick=function(n,t,i){var r=this._brushType,u=this._brushMode;i==="clear"?(t.dispatchAction({type:"axisAreaSelect",intervals:[]}),t.dispatchAction({type:"brush",command:"clear",areas:[]})):t.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:i==="keep"?r:r===i?!1:i,brushMode:i==="keep"?u==="multiple"?"single":"multiple":u}})};ov("brush",kpt);wi(cki);dpt=864e5;io.prototype={constructor:io,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"}]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(n){var u,t,i,r;return n=wy(n),u=n.getFullYear(),t=n.getMonth()+1,t=t<10?"0"+t:t,i=n.getDate(),i=i<10?"0"+i:i,r=n.getDay(),r=Math.abs((r+7-this.getFirstDayOfWeek())%7),{y:u,m:t,d:i,day:r,time:n.getTime(),formatedDate:u+"-"+t+"-"+i,date:n}},getNextNDay:function(n,t){return(t=t||0,t===0)?this.getDateInfo(n):(n=new Date(this.getDateInfo(n).time),n.setDate(n.getDate()+t),this.getDateInfo(n))},update:function(n,i){function c(n,t){return n[t]!=null&&n[t]!=="auto"}var s,h;this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay");this._orient=this._model.get("orient");this._lineWidth=this._model.getModel("itemStyle.normal").getItemStyle().lineWidth||0;this._rangeInfo=this._getRangeInfo(this._initRangeOption());var u=this._rangeInfo.weeks||1,f=["width","height"],r=this._model.get("cellSize").slice(),e=this._model.getBoxLayoutParams(),o=this._orient==="horizontal"?[u,7]:[7,u];t([0,1],function(n){c(r,n)&&(e[f[n]]=r[n]*o[n])});s={width:i.getWidth(),height:i.getHeight()};h=this._rect=ai(e,s);t([0,1],function(n){c(r,n)||(r[n]=h[f[n]]/o[n])});this._sw=r[0];this._sh=r[1]},dataToPoint:function(n,t){var f,e;r(n)&&(n=n[0]);t==null&&(t=!0);var i=this.getDateInfo(n),u=this._rangeInfo,o=i.formatedDate;return t&&!(i.time>=u.start.time&&i.time<=u.end.time)?[NaN,NaN]:(f=i.day,e=this._getRangeInfo([u.start.time,o]).nthWeek,this._orient==="vertical")?[this._rect.x+f*this._sw+this._sw/2,this._rect.y+e*this._sh+this._sh/2]:[this._rect.x+e*this._sw+this._sw/2,this._rect.y+f*this._sh+this._sh/2]},pointToData:function(n){var t=this.pointToDate(n);return t&&t.time},dataToRect:function(n,t){var i=this.dataToPoint(n,t);return{contentShape:{x:i[0]-(this._sw-this._lineWidth)/2,y:i[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:i,tl:[i[0]-this._sw/2,i[1]-this._sh/2],tr:[i[0]+this._sw/2,i[1]-this._sh/2],br:[i[0]+this._sw/2,i[1]+this._sh/2],bl:[i[0]-this._sw/2,i[1]+this._sh/2]}},pointToDate:function(n){var t=Math.floor((n[0]-this._rect.x)/this._sw)+1,i=Math.floor((n[1]-this._rect.y)/this._sh)+1,r=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(i,t-1,r):this._getDateByWeeksAndDay(t,i-1,r)},convertToPixel:o(cdi,"dataToPoint"),convertFromPixel:o(cdi,"pointToData"),_initRangeOption:function(){var t=this._model.get("range"),n=t,u,i,e,f;return r(n)&&n.length===1&&(n=n[0]),/^\d{4}$/.test(n)&&(t=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)&&(u=this.getDateInfo(n),i=u.date,i.setMonth(i.getMonth()+1),e=this.getNextNDay(i,-1),t=[u.formatedDate,e.formatedDate]),/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(t=[n,n]),f=this._getRangeInfo(t),f.start.time>f.end.time&&t.reverse(),t},_getRangeInfo:function(n){var u,f,r,s;n=[this.getDateInfo(n[0]),this.getDateInfo(n[1])];n[0].time>n[1].time&&(u=!0,n.reverse());var i=Math.floor(n[1].time/dpt)-Math.floor(n[0].time/dpt)+1,t=new Date(n[0].time),e=t.getDate(),o=n[1].date.getDate();if(t.setDate(e+i-1),t.getDate()!==o)for(f=t.getTime()-n[1].time>0?1:-1;t.getDate()!==o&&(t.getTime()-n[1].time)*f>0;)i-=f,t.setDate(e+i-1);return r=Math.floor((i+n[0].day+6)/7),s=u?-r+1:r-1,u&&n.reverse(),{range:[n[0].formatedDate,n[1].formatedDate],start:n[0],end:n[1],allDay:i,weeks:r,nthWeek:s,fweek:n[0].day,lweek:n[1].day}},_getDateByWeeksAndDay:function(n,t,i){var r=this._getRangeInfo(i),f,u;return n>r.weeks||n===0&&t<r.fweek||n===r.weeks&&t>r.lweek?!1:(f=(n-1)*7-r.fweek+t,u=new Date(r.start.time),u.setDate(r.start.d+f),this.getDateInfo(u))}};io.dimensions=io.prototype.dimensions;io.getDimensionsInfo=io.prototype.getDimensionsInfo;io.create=function(n,t){var i=[];return n.eachComponent("calendar",function(r){var u=new io(r,n,t);i.push(u);r.coordinateSystem=u}),n.eachSeries(function(n){n.get("coordinateSystem")==="calendar"&&(n.coordinateSystem=i[n.get("calendarIndex")||0])}),i};ir.register("calendar",io);gpt=g.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{normal:{color:"#fff",borderWidth:1,borderColor:"#ccc"}},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(n){var t=ua(n);gpt.superApply(this,"init",arguments);ldi(n,t)},mergeOption:function(n){gpt.superApply(this,"mergeOption",arguments);ldi(this.option,n)}});adi={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]};vdi={EN:["S","M","T","W","T","F","S"],CN:["日","一","二","三","四","五","六"]};yi({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(n){var t=this.group;t.removeAll();var u=n.coordinateSystem,i=u.getRangeInfo(),r=u.getOrient();this._renderDayRect(n,i,t);this._renderLines(n,i,r,t);this._renderYearText(n,i,r,t);this._renderMonthText(n,r,t);this._renderWeekText(n,i,r,t)},_renderDayRect:function(n,t,i){for(var f,e,r=n.coordinateSystem,o=n.getModel("itemStyle.normal").getItemStyle(),s=r.getCellWidth(),h=r.getCellHeight(),u=t.start.time;u<=t.end.time;u=r.getNextNDay(u,1).time)f=r.dataToRect([u],!1).tl,e=new ot({shape:{x:f[0],y:f[1],width:s,height:h},cursor:"default",style:o}),i.add(e)},_renderLines:function(n,t,i,r){function a(t){u._firstDayOfMonth.push(e.getDateInfo(t));u._firstDayPoints.push(e.dataToRect([t],!1).tl);var f=u._getLinePointsOfOneWeek(n,t,i);u._tlpoints.push(f[0]);u._blpoints.push(f[f.length-1]);h&&u._drawSplitline(f,o,r)}var u=this,e=n.coordinateSystem,o=n.getModel("splitLine.lineStyle").getLineStyle(),h=n.get("splitLine.show"),l=o.lineWidth,f,c,s;for(this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[],f=t.start,c=0;f.time<=t.end.time;c++)a(f.formatedDate),c===0&&(f=e.getDateInfo(t.start.y+"-"+t.start.m)),s=f.date,s.setMonth(s.getMonth()+1),f=e.getDateInfo(s);a(e.getNextNDay(t.end.time,1).formatedDate);h&&this._drawSplitline(u._getEdgesPoints(u._tlpoints,l,i),o,r);h&&this._drawSplitline(u._getEdgesPoints(u._blpoints,l,i),o,r)},_getEdgesPoints:function(n,t,i){var r=[n[0].slice(),n[n.length-1].slice()],u=i==="horizontal"?0:1;return r[0][u]=r[0][u]-t/2,r[1][u]=r[1][u]+t/2,r},_drawSplitline:function(n,t,i){var r=new af({z2:20,shape:{points:n},style:t});i.add(r)},_getLinePointsOfOneWeek:function(n,t,i){var e=n.coordinateSystem,r,u,f,o;for(t=e.getDateInfo(t),r=[],u=0;u<7;u++)f=e.getNextNDay(t.time,u),o=e.dataToRect([f.time],!1),r[2*f.day]=o.tl,r[2*f.day+1]=o[i==="horizontal"?"bl":"tr"];return r},_formatterLabel:function(n,t){return typeof n=="string"&&n?vnt(n,t):typeof n=="function"?n(t):t.nameMap},_yearTextPositionControl:function(n,t,i,r,u){var f,e;return t=t.slice(),f=["center","bottom"],r==="bottom"?(t[1]+=u,f=["center","top"]):r==="left"?t[0]-=u:r==="right"?(t[0]+=u,f=["center","top"]):t[1]-=u,e=0,(r==="left"||r==="right")&&(e=Math.PI/2),{rotation:e,position:t,style:{textAlign:f[0],textVerticalAlign:f[1]}}},_renderYearText:function(n,t,i,r){var f=n.getModel("yearLabel"),c,e;if(f.get("show")){c=f.get("margin");e=f.get("position");e||(e=i!=="horizontal"?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],l=(u[0][0]+u[1][0])/2,a=(u[0][1]+u[1][1])/2,o=i==="horizontal"?0:1,v={top:[l,u[o][1]],bottom:[l,u[1-o][1]],left:[u[1-o][0],a],right:[u[o][0],a]},h=t.start.y;+t.end.y>+t.start.y&&(h=h+"-"+t.end.y);var y=f.get("formatter"),p={start:t.start.y,end:t.end.y,nameMap:h},w=this._formatterLabel(y,p),s=new b({z2:30});gt(s.style,f,{text:w});s.attr(this._yearTextPositionControl(s,v[e],i,e,c));r.add(s)}},_monthTextPositionControl:function(n,t,i,r,u){var f="left",e="top",o=n[0],s=n[1];return i==="horizontal"?(s=s+u,t&&(f="center"),r==="start"&&(e="bottom")):(o=o+u,t&&(e="middle"),r==="start"&&(f="right")),{x:o,y:s,textAlign:f,textVerticalAlign:e}},_renderMonthText:function(n,t,i){var r=n.getModel("monthLabel"),a,h,v,u,y,f,p;if(r.get("show")){var e=r.get("nameMap"),o=r.get("margin"),c=r.get("position"),k=r.get("align"),l=[this._tlpoints,this._blpoints];for(li(e)&&(e=adi[e.toUpperCase()]||[]),a=c==="start"?0:1,h=t==="horizontal"?0:1,o=c==="start"?-o:o,v=k==="center",u=0;u<l[a].length-1;u++){y=l[a][u].slice();f=this._firstDayOfMonth[u];v&&(p=this._firstDayPoints[u],y[h]=(p[h]+l[0][u+1][h])/2);var d=r.get("formatter"),g=e[+f.m-1],nt={yyyy:f.y,yy:(f.y+"").slice(2),MM:f.m,M:+f.m,nameMap:g},tt=this._formatterLabel(d,nt),w=new b({z2:30});s(gt(w.style,r,{text:tt}),this._monthTextPositionControl(y,v,t,c,o));i.add(w)}}},_weekTextPositionControl:function(n,t,i,r,u){var s="center",h="middle",e=n[0],o=n[1],f=i==="start";return t==="horizontal"?(e=e+r+(f?1:-1)*u[0]/2,s=f?"right":"left"):(o=o+r+(f?1:-1)*u[1]/2,h=f?"bottom":"top"),{x:e,y:o,textAlign:s,textVerticalAlign:h}},_renderWeekText:function(n,t,i,r){var o=n.getModel("dayLabel"),l,a,e,v;if(o.get("show")){var f=n.coordinateSystem,y=o.get("position"),c=o.get("nameMap"),h=o.get("margin"),w=f.getFirstDayOfWeek();for(li(c)&&(c=vdi[c.toUpperCase()]||[]),l=f.getNextNDay(t.end.time,7-t.lweek).time,a=[f.getCellWidth(),f.getCellHeight()],h=u(h,a[i==="horizontal"?0:1]),y==="start"&&(l=f.getNextNDay(t.start.time,-(7+t.fweek)).time,h=-h),e=0;e<7;e++){var k=f.getNextNDay(l,e),d=f.dataToRect([k.time],!1).center,p=e;p=Math.abs((e+w)%7);v=new b({z2:30});s(gt(v.style,o,{text:c[p]}),this._weekTextPositionControl(d,i,y,h,a));r.add(v)}}}});iu({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}});yi({type:"title",render:function(n,t,i){var f,l,r,y,o,p,w;if(this.group.removeAll(),n.get("show")){var s=this.group,k=n.getModel("textStyle"),d=n.getModel("subtextStyle"),e=n.get("textAlign"),u=n.get("textBaseline"),h=new b({style:gt({},k,{text:n.get("text"),textFill:k.getTextColor()},{disableBox:!0}),z2:10}),nt=h.getBoundingRect(),g=n.get("subtext"),c=new b({style:gt({},d,{text:g,textFill:d.getTextColor(),y:nt.height+n.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),a=n.get("link"),v=n.get("sublink");if(h.silent=!a,c.silent=!v,a)h.on("click",function(){window.open(a,"_"+n.get("target"))});if(v)c.on("click",function(){window.open(v,"_"+n.get("subtarget"))});s.add(h);g&&s.add(c);f=s.getBoundingRect();l=n.getBoxLayoutParams();l.width=f.width;l.height=f.height;r=ai(l,{width:i.getWidth(),height:i.getHeight()},n.get("padding"));e||(e=n.get("left")||n.get("right"),e==="middle"&&(e="center"),e==="right"?r.x+=r.width:e==="center"&&(r.x+=r.width/2));u||(u=n.get("top")||n.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?r.y+=r.height:u==="middle"&&(r.y+=r.height/2),u=u||"top");s.attr("position",[r.x,r.y]);y={textAlign:e,textVerticalAlign:u};h.setStyle(y);c.setStyle(y);f=s.getBoundingRect();o=r.margin;p=n.getItemStyle(["color","opacity"]);p.fill=n.get("backgroundColor");w=new ot({shape:{x:f.x-o[3],y:f.y-o[0],width:f.width+o[1]+o[3],height:f.height+o[0]+o[2],r:n.get("borderRadius")},style:p,silent:!0});ost(w);s.add(w)}}});g.registerSubTypeDefaulter("dataZoom",function(){return"slider"});ydi=["x","y","z","radius","angle","single"];pdi=["cartesian2d","polar","singleAxis"];nwt=fru(ydi,["axisIndex","axis","index","id"]);var kc=t,wdi=sh,twt=function(n,t,i,r){this._dimName=n;this._axisIndex=t;this._valueWindow;this._percentWindow;this._dataExtent;this._minMaxSpan;this.ecModel=r;this._dataZoomModel=i};twt.prototype={constructor:twt,hostedBy:function(n){return this._dataZoomModel===n},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var n=[],t=this.ecModel;return t.eachSeries(function(i){if(uru(i.get("coordinateSystem"))){var r=this._dimName,u=t.queryComponents({mainType:r+"Axis",index:i.get(r+"AxisIndex"),id:i.get(r+"AxisId")})[0];this._axisIndex===(u&&u.componentIndex)&&n.push(i)}},this),n},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var n=this._dimName,u=this.ecModel,f=this.getAxisModel(),e=n==="x"||n==="y",i,t,r;return e?(t="gridIndex",i=n==="x"?"y":"x"):(t="polarIndex",i=n==="angle"?"radius":"angle"),u.eachComponent(i+"Axis",function(n){(n.get(t)||0)===(f.get(t)||0)&&(r=n)}),r},getMinMaxSpan:function(){return c(this._minMaxSpan)},calculateDataWindow:function(n){var u=this._dataExtent,e=this.getAxisModel(),f=e.axis.scale,o=this._dataZoomModel.getRangePropMode(),i=[0,100],r=[n.start,n.end],t=[];return kc(["startValue","endValue"],function(i){t.push(n[i]!=null?f.parse(n[i]):null)}),kc([0,1],function(n){var s=t[n],e=r[n];o[n]==="percent"?(e==null&&(e=i[n]),s=f.parse(ti(e,i,u,!0))):e=ti(s,u,i,!0);t[n]=s;r[n]=e}),{valueWindow:wdi(t),percentWindow:wdi(r)}},reset:function(n){if(n===this._dataZoomModel){this._dataExtent=oru(this,this._dimName,this.getTargetSeriesModels());var t=this.calculateDataWindow(n.option);this._valueWindow=t.valueWindow;this._percentWindow=t.percentWindow;hru(this);bdi(this)}},restore:function(n){n===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,bdi(this,!0))},filterData:function(n){function u(n){return n>=i[0]&&n<=i[1]}var r;if(n===this._dataZoomModel){var f=this._dimName,e=this.getTargetSeriesModels(),t=n.get("filterMode"),i=this._valueWindow;t!=="none"&&(r=this.getOtherAxisModel(),n.get("$fromToolbox")&&r&&r.get("type")==="category"&&(t="empty"),kc(e,function(n){var r=n.getData(),e=n.coordDimToDataDim(f);t==="weakFilter"?r&&r.filterSelf(function(n){for(var f,o,s,t=0;t<e.length;t++){var u=r.get(e[t],n),h=!isNaN(u),c=u<i[0],l=u>i[1];if(h&&!c&&!l)return!0;h&&(s=!0);c&&(f=!0);l&&(o=!0)}return s&&f&&o}):r&&kc(e,function(i){t==="empty"?n.setData(r.map(i,function(n){return u(n)?n:NaN})):r.filterSelf(i,u)})}))}}};var hv=t,dc=nwt,iwt=iu({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(n,t,i){this._dataIntervalByAxis={};this._dataInfo={};this._axisProxies={};this.textStyleModel;this._autoThrottle=!0;this._rangePropMode=["percent","percent"];var r=kdi(n);this.mergeDefaultAndTheme(n,i);this.doInit(r)},mergeOption:function(n){var t=kdi(n);a(this.option,n,!0);this.doInit(t)},doInit:function(n){var t=this.option;d.canvasSupported||(t.realtime=!1);this._setDefaultThrottle(n);ddi(this,n);hv([["start","startValue"],["end","endValue"]],function(n,i){this._rangePropMode[i]==="value"&&(t[n[0]]=null)},this);this.textStyleModel=this.getModel("textStyle");this._resetTarget();this._giveAxisProxies()},_giveAxisProxies:function(){var n=this._axisProxies;this.eachTargetAxis(function(t,i,r,u){var f=this.dependentModels[t.axis][i],e=f.__dzAxisProxy||(f.__dzAxisProxy=new twt(t.name,i,this,u));n[t.name+"_"+i]=e},this)},_resetTarget:function(){var n=this.option,t=this._judgeAutoMode();dc(function(t){var i=t.axisIndex;n[i]=tu(n[i])},this);t==="axisIndex"?this._autoSetAxisIndex():t==="orient"&&this._autoSetOrient()},_judgeAutoMode:function(){var n=this.option,t=!1,i;return(dc(function(i){n[i.axisIndex]!=null&&(t=!0)},this),i=n.orient,i==null&&t)?"orient":t?void 0:(i==null&&(n.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var n=!0,r=this.get("orient",!0),t=this.option,u=this.dependentModels,i;n&&(i=r==="vertical"?"y":"x",u[i+"Axis"].length?(t[i+"AxisIndex"]=[0],n=!1):hv(u.singleAxis,function(i){n&&i.get("orient",!0)===r&&(t.singleAxisIndex=[i.componentIndex],n=!1)}));n&&dc(function(i){var r,f,u,e;if(n){if(r=[],f=this.dependentModels[i.axis],f.length&&!r.length)for(u=0,e=f.length;u<e;u++)f[u].get("type")==="category"&&r.push(u);t[i.axisIndex]=r;r.length&&(n=!1)}},this);n&&this.ecModel.eachSeries(function(n){this._isSeriesHasAllAxesTypeOf(n,"value")&&dc(function(i){var u=t[i.axisIndex],r=n.get(i.axisIndex),e=n.get(i.axisId),o=n.ecModel.queryComponents({mainType:i.axis,index:r,id:e})[0];if(f&&!o)throw new Error(i.axis+' "'+kt(r,e,0)+'" not found');r=o.componentIndex;w(u,r)<0&&u.push(r)})},this)},_autoSetOrient:function(){var n;this.eachTargetAxis(function(t){n||(n=t.name)},this);this.option.orient=n==="y"?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(n,t){var i=!0;return dc(function(r){var f=n.get(r.axisIndex),u=this.dependentModels[r.axis][f];u&&u.get("type")===t||(i=!1)},this),i},_setDefaultThrottle:function(n){if(n.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var t=this.ecModel.option;this.option.throttle=t.animation&&t.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var n;return dc(function(t){if(n==null){var i=this.get(t.axisIndex);i.length&&(n=this.dependentModels[t.axis][i[0]])}},this),n},eachTargetAxis:function(n,t){var i=this.ecModel;dc(function(r){hv(this.get(r.axisIndex),function(u){n.call(t,r,u,this,i)},this)},this)},getAxisProxy:function(n,t){return this._axisProxies[n+"_"+t]},getAxisModel:function(n,t){var i=this.getAxisProxy(n,t);return i&&i.getAxisModel()},setRawRange:function(n,t){var i=this.option;hv([["start","startValue"],["end","endValue"]],function(t){(n[t[0]]!=null||n[t[1]]!=null)&&(i[t[0]]=n[t[0]],i[t[1]]=n[t[1]])},this);t||ddi(this,n)},getPercentRange:function(){var n=this.findRepresentativeAxisProxy();if(n)return n.getDataPercentWindow()},getValueRange:function(n,t){if(n==null&&t==null){var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()}else return this.getAxisProxy(n,t).getDataValueWindow()},findRepresentativeAxisProxy:function(n){var t,i;if(n)return n.__dzAxisProxy;t=this._axisProxies;for(i in t)if(t.hasOwnProperty(i)&&t[i].hostedBy(this))return t[i];for(i in t)if(t.hasOwnProperty(i)&&!t[i].hostedBy(this))return t[i]},getRangePropMode:function(){return this._rangePropMode.slice()}});var rwt=kf.extend({type:"dataZoom",render:function(n,t,i){this.dataZoomModel=n;this.ecModel=t;this.api=i},getTargetCoordInfo:function(){function r(n,t,i,r){for(var u,f=0;f<i.length;f++)if(i[f].model===n){u=i[f];break}u||i.push(u={model:n,axisModels:[],coordIndex:r});u.axisModels.push(t)}var t=this.dataZoomModel,i=this.ecModel,n={};return t.eachTargetAxis(function(t,u){var e=i.getComponent(t.axis,u),f;e&&(f=e.getCoordSysModel(),f&&r(f,e,n[f.mainType]||(n[f.mainType]=[]),f.componentIndex))},this),n}}),gou=iwt.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}}),srt=ot,gc=ti,uwt=sh,ro=h,fwt=t,gdi=7,cru=1,ewt=30,kw="horizontal",ngi="vertical",lru=5,aru=["line","bar","candlestick","scatter"],owt=rwt.extend({type:"dataZoom.slider",init:function(n,t){this._displayables={};this._orient;this._range;this._handleEnds;this._size;this._handleWidth;this._handleHeight;this._location;this._dragging;this._dataShadowInfo;this.api=t},render:function(n,t,i,r){if(owt.superApply(this,"render",arguments),up(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=n.get("orient"),this.dataZoomModel.get("show")===!1){this.group.removeAll();return}r&&r.type==="dataZoom"&&r.from===this.uid||this._buildView();this._updateView()},remove:function(){owt.superApply(this,"remove",arguments);pri(this,"_dispatchZoomAction")},dispose:function(){owt.superApply(this,"dispose",arguments);pri(this,"_dispatchZoomAction")},_buildView:function(){var n=this.group,t;n.removeAll();this._resetLocation();this._resetInterval();t=this._displayables.barGroup=new e;this._renderBackground();this._renderHandle();this._renderDataShadow();n.add(t);this._positionGroup()},_resetLocation:function(){var f=this.dataZoomModel,e=this.api,n=this._findCoordRect(),r={width:e.getWidth(),height:e.getHeight()},o=this._orient===kw?{right:r.width-n.x-n.width,top:r.height-ewt-gdi,width:n.width,height:ewt}:{right:gdi,top:n.y,width:ewt,height:n.height},u=ua(f.option),i;t(["right","top","width","height"],function(n){u[n]==="ph"&&(u[n]=o[n])});i=ai(u,r,f.padding);this._location={x:i.x,y:i.y};this._size=[i.width,i.height];this._orient===ngi&&this._size.reverse()},_positionGroup:function(){var u=this.group,f=this._location,t=this._orient,e=this.dataZoomModel.getFirstTargetAxisModel(),i=e&&e.get("inverse"),o=this._displayables.barGroup,n=(this._dataShadowInfo||{}).otherAxisInverse,r;o.attr(t===kw&&!i?{scale:n?[1,1]:[1,-1]}:t===kw&&i?{scale:n?[-1,1]:[-1,-1]}:t===ngi&&!i?{scale:n?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:n?[-1,-1]:[-1,1],rotation:Math.PI/2});r=u.getBoundingRect([o]);u.attr("position",[f.x-r.x,f.y-r.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var i=this.dataZoomModel,n=this._size,t=this._displayables.barGroup;t.add(new srt({silent:!0,shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:i.get("backgroundColor")},z2:-40}));t.add(new srt({shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:"transparent"},z2:0,onclick:h(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var o=this._dataShadowInfo=this._prepareDataShadowInfo(),n,c,e;if(o){var u=this._size,s=o.series,f=s.getRawData(),h=s.getShadowDim?s.getShadowDim():o.otherDim;if(h!=null){n=f.getDataExtent(h);c=(n[1]-n[0])*.3;n=[n[0]-c,n[1]+c];var p=[0,u[1]],w=[0,u[0]],t=[[u[0],0],[0,0]],i=[],v=w[1]/(f.count()-1),r=0,y=Math.round(f.count()/u[0]),a;f.each([h],function(u,f){if(y>0&&f%y){r+=v;return}var e=u==null||isNaN(u)||u==="",o=e?0:gc(u,n,p,!0);e&&!a&&f?(t.push([t[t.length-1][0],0]),i.push([i[i.length-1][0],0])):!e&&a&&(t.push([r,0]),i.push([r,0]));t.push([r,o]);i.push([r,o]);r+=v;a=e});e=this.dataZoomModel;this._displayables.barGroup.add(new hu({shape:{points:t},style:l({fill:e.get("dataBackgroundColor")},e.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20}));this._displayables.barGroup.add(new af({shape:{points:i},style:e.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var n=this.dataZoomModel,r=n.get("showDataShadow"),i,u;if(r!==!1)return u=this.ecModel,n.eachTargetAxis(function(f,e){var o=n.getAxisProxy(f.name,e).getTargetSeriesModels();t(o,function(n){if(!i&&(r===!0||!(w(aru,n.get("type"))<0))){var t=u.getComponent(f.axis,e).axis,o=vru(f.name),s,h=n.coordinateSystem;o!=null&&h.getOtherAxis&&(s=h.getOtherAxis(t).inverse);i={thisAxis:t,series:n,thisDim:f.name,otherDim:o,otherAxisInverse:s}}},this)},this),i},_renderHandle:function(){var t=this._displayables,f=t.handles=[],e=t.handleLabels=[],i=this._displayables.barGroup,r=this._size,n=this.dataZoomModel;i.add(t.filler=new srt({draggable:!0,cursor:tgi(this._orient),drift:ro(this._onDragMove,this,"all"),onmousemove:function(n){ye(n.event)},ondragstart:ro(this._showDataInfo,this,!0),ondragend:ro(this._onDragEnd,this),onmouseover:ro(this._showDataInfo,this,!0),onmouseout:ro(this._showDataInfo,this,!1),style:{fill:n.get("fillerColor"),textPosition:"inside"}}));i.add(new srt(ost({silent:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{stroke:n.get("dataBackgroundColor")||n.get("borderColor"),lineWidth:cru,fill:"rgba(0,0,0,0)"}})));fwt([0,1],function(t){var r=tp(n.get("handleIcon"),{cursor:tgi(this._orient),draggable:!0,drift:ro(this._onDragMove,this,t),onmousemove:function(n){ye(n.event)},ondragend:ro(this._onDragEnd,this),onmouseover:ro(this._showDataInfo,this,!0),onmouseout:ro(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),h=r.getBoundingRect(),o,s;this._handleHeight=u(n.get("handleSize"),this._size[1]);this._handleWidth=h.width/h.height*this._handleHeight;r.setStyle(n.getModel("handleStyle").getItemStyle());o=n.get("handleColor");o!=null&&(r.style.fill=o);i.add(f[t]=r);s=n.textStyleModel;this.group.add(e[t]=new b({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:s.getTextColor(),textFont:s.getFont()},z2:10}))},this)},_resetInterval:function(){var n=this._range=this.dataZoomModel.getPercentRange(),t=this._getViewExtent();this._handleEnds=[gc(n[0],[0,100],t,!0),gc(n[1],[0,100],t,!0)]},_updateInterval:function(n,t){var e=this.dataZoomModel,f=this._handleEnds,i=this._getViewExtent(),r=e.findRepresentativeAxisProxy().getMinMaxSpan(),u=[0,100];ac(t,f,i,e.get("zoomLock")?"all":n,r.minSpan!=null?gc(r.minSpan,u,i,!0):null,r.maxSpan!=null?gc(r.maxSpan,u,i,!0):null);this._range=uwt([gc(f[0],i,u,!0),gc(f[1],i,u,!0)])},_updateView:function(n){var i=this._displayables,r=this._handleEnds,t=uwt(r.slice()),u=this._size;fwt([0,1],function(n){var f=i.handles[n],t=this._handleHeight;f.attr({scale:[t/2,t/2],position:[r[n],u[1]/2-t/2]})},this);i.filler.setShape({x:t[0],y:0,width:t[1]-t[0],height:u[1]});this._updateDataInfo(n)},_updateDataInfo:function(n){function c(n){var t=yh(r.handles[n].parent,this.group),i=hst(n===0?"right":"left",t),e=this._handleWidth/2+lru,o=bf([h[n]+(n===0?-e:e),this._size[1]/2],t);l[n].setStyle({x:o[0],y:o[1],textVerticalAlign:u===kw?"middle":i,textAlign:u===kw?i:"center",text:f[n]})}var i=this.dataZoomModel,r=this._displayables,l=r.handleLabels,u=this._orient,f=["",""],t,h;if(i.get("showDetail")&&(t=i.findRepresentativeAxisProxy(),t)){var e=t.getAxisModel().axis,o=this._range,s=n?t.calculateDataWindow({start:o[0],end:o[1]}).valueWindow:t.getDataValueWindow();f=[this._formatLabel(s[0],e),this._formatLabel(s[1],e)]}h=uwt(this._handleEnds.slice());c.call(this,0);c.call(this,1)},_formatLabel:function(n,t){var f=this.dataZoomModel,i=f.get("labelFormatter"),r=f.get("labelPrecision"),u;return(r==null||r==="auto")&&(r=t.getPixelPrecision()),u=n==null||isNaN(n)?"":t.type==="category"||t.type==="time"?t.scale.getLabel(Math.round(n)):n.toFixed(Math.min(r,20)),fo(i)?i(n,u):li(i)?i.replace("{value}",u):u},_showDataInfo:function(n){n=this._dragging||n;var t=this._displayables.handleLabels;t[0].attr("invisible",!n);t[1].attr("invisible",!n)},_onDragMove:function(n,t,i){var u,f,r;this._dragging=!0;u=this._displayables.barGroup.getLocalTransform();f=bf([t,i],u,!0);this._updateInterval(n,f[0]);r=this.dataZoomModel.get("realtime");this._updateView(!r);r&&r&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1;this._showDataInfo(!1);this._dispatchZoomAction()},_onClickPanelClick:function(n){var r=this._size,t=this._displayables.barGroup.transformCoordToLocal(n.offsetX,n.offsetY),i,u;t[0]<0||t[0]>r[0]||t[1]<0||t[1]>r[1]||(i=this._handleEnds,u=(i[0]+i[1])/2,this._updateInterval("all",t[0]-u),this._updateView(),this._dispatchZoomAction())},_dispatchZoomAction:function(){var n=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:n[0],end:n[1]})},_findCoordRect:function(){var n,t,i;return fwt(this.getTargetCoordInfo(),function(t){if(!n&&t.length){var i=t[0].model.coordinateSystem;n=i.getRect&&i.getRect()}}),n||(t=this.api.getWidth(),i=this.api.getHeight(),n={x:t*.2,y:i*.2,width:t*.6,height:i*.6}),n}});iwt.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}});swt=o;hwt='\0_ec_dataZoom_roams';var egi=h,ogi=rwt.extend({type:"dataZoom.inside",init:function(){this._range},render:function(n,r,u,f){ogi.superApply(this,"render",arguments);wru(f,n.id)&&(this._range=n.getPercentRange());t(this.getTargetCoordInfo(),function(r,f){var e=i(r,function(n){return igi(n.model)});t(r,function(t){var r=t.model,i=n.option;yru(u,{coordId:igi(r),allCoordIds:e,containsPoint:function(n,t,i){return r.coordinateSystem.containPoint([t,i])},dataZoomId:n.id,throttleRate:n.get("throttle",!0),panGetRange:egi(this._onPan,this,t,f),zoomGetRange:egi(this._onZoom,this,t,f),zoomLock:i.zoomLock,disabled:i.disabled,roamControllerOpt:{zoomOnMouseWheel:i.zoomOnMouseWheel,moveOnMouseMove:i.moveOnMouseMove,preventDefaultMouseMove:i.preventDefaultMouseMove}})},this)},this)},dispose:function(){pru(this.api,this.dataZoomModel.id);ogi.superApply(this,"dispose",arguments);this._range=null},_onPan:function(n,t,i,r,u,f,e,o,s){var h=this._range.slice(),l=n.axisModels[0],c,a;if(l)return c=sgi[t]([f,e],[o,s],l,i,n),a=c.signal*(h[1]-h[0])*c.pixel/c.pixelLength,ac(a,h,[0,100],"all"),this._range=h},_onZoom:function(n,t,i,r,u,f){var e=this._range.slice(),c=n.axisModels[0],o,s,h;if(c)return o=sgi[t](null,[u,f],c,i,n),s=(o.signal>0?o.pixelStart+o.pixelLength-o.pixel:o.pixel-o.pixelStart)/o.pixelLength*(e[1]-e[0])+e[0],r=Math.max(1/r,0),e[0]=(e[0]-s)*r+s,e[1]=(e[1]-s)*r+s,h=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan(),ac(0,e,[0,100],0,h.minSpan,h.maxSpan),this._range=e}}),sgi={grid:function(n,t,i,r,u){var o=i.axis,f={},e=u.model.coordinateSystem.getRect();return n=n||[0,0],o.dim==="x"?(f.pixel=t[0]-n[0],f.pixelLength=e.width,f.pixelStart=e.x,f.signal=o.inverse?1:-1):(f.pixel=t[1]-n[1],f.pixelLength=e.height,f.pixelStart=e.y,f.signal=o.inverse?-1:1),f},polar:function(n,t,i,r,u){var h=i.axis,f={},e=u.model.coordinateSystem,o=e.getRadiusAxis().getExtent(),s=e.getAngleAxis().getExtent();return n=n?e.pointToCoord(n):[0,0],t=e.pointToCoord(t),i.mainType==="radiusAxis"?(f.pixel=t[0]-n[0],f.pixelLength=o[1]-o[0],f.pixelStart=o[0],f.signal=h.inverse?1:-1):(f.pixel=t[1]-n[1],f.pixelLength=s[1]-s[0],f.pixelStart=s[0],f.signal=h.inverse?-1:1),f},singleAxis:function(n,t,i,r,u){var o=i.axis,e=u.model.coordinateSystem.getRect(),f={};return n=n||[0,0],o.orient==="horizontal"?(f.pixel=t[0]-n[0],f.pixelLength=e.width,f.pixelStart=e.x,f.signal=o.inverse?1:-1):(f.pixel=t[1]-n[1],f.pixelLength=e.height,f.pixelStart=e.y,f.signal=o.inverse?-1:1),f}};tf(function(n){n.eachComponent("dataZoom",function(n){n.eachTargetAxis(tuu);n.eachTargetAxis(iuu)});n.eachComponent("dataZoom",function(n){var t=n.findRepresentativeAxisProxy(),i=t.getDataPercentWindow(),r=t.getDataValueWindow();n.setRawRange({start:i[0],end:i[1],startValue:r[0],endValue:r[1]},!0)})});ft("dataZoom",function(n,i){var u=eru(h(i.eachComponent,i,"dataZoom"),nwt,function(n,t){return n.get(t.axisIndex)}),r=[];i.eachComponent({mainType:"dataZoom",query:n},function(n){r.push.apply(r,u(n).nodes)});t(r,function(t){t.setRawRange({start:n.start,end:n.end,startValue:n.startValue,endValue:n.endValue})})});cwt=t;lwt=function(n){var t=n&&n.visualMap;r(t)||(t=t?[t]:[]);cwt(t,function(n){if(n){cv(n,"splitList")&&!cv(n,"pieces")&&(n.pieces=n.splitList,delete n.splitList);var t=n.pieces;t&&r(t)&&cwt(t,function(n){y(n)&&(cv(n,"start")&&!cv(n,"min")&&(n.min=n.start),cv(n,"end")&&!cv(n,"max")&&(n.max=n.end))})}})};g.registerSubTypeDefaulter("visualMap",function(n){return!n.categories&&(!(n.pieces?n.pieces.length>0:n.splitNumber>0)||n.calculable)?"continuous":"piecewise"});pt(ea.VISUAL.COMPONENT,function(n){n.eachComponent("visualMap",function(t){ruu(t,n)});uuu(n)});var awt={get:function(n,t,i){var u=c((euu[n]||{})[t]);return i?r(u)?u[u.length-1]:u:u}},euu={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},hgi=et.mapVisual,ouu=et.eachVisual,suu=r,vwt=t,huu=sh,cuu=ti,ywt=pi,luu=["#f6efa6","#d88273","#bf444c"],hrt=iu({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-Infinity,Infinity],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(n,t,i){this._dataExtent;this.targetVisuals={};this.controllerVisuals={};this.textStyleModel;this.itemSize;this.mergeDefaultAndTheme(n,i)},optionUpdated:function(n,t){var i=this.option;d.canvasSupported||(i.realtime=!1);t||aki(i,n,this.replacableOptionKeys);this.textStyleModel=this.getModel("textStyle");this.resetItemSize();this.completeVisualOption()},resetVisual:function(n){var t=this.stateList;n=h(n,this);this.controllerVisuals=hpt(this.option.controller,t,n);this.targetVisuals=hpt(this.option.target,t,n)},getTargetSeriesIndices:function(){var n=this.option.seriesIndex,t=[];return n==null||n==="all"?this.ecModel.eachSeries(function(n,i){t.push(i)}):t=tu(n),t},eachTargetSeries:function(n,i){t(this.getTargetSeriesIndices(),function(t){n.call(i,this.ecModel.getSeriesByIndex(t))},this)},isTargetSeries:function(n){var t=!1;return this.eachTargetSeries(function(i){i===n&&(t=!0)}),t},formatValueText:function(n,t,i){function s(n){return n===o[0]?"min":n===o[1]?"max":(+n).toFixed(Math.min(c,20))}var h=this.option,c=h.precision,o=this.dataBound,e=h.formatter,f,u;return(i=i||["<",">"],r(n)&&(n=n.slice(),f=!0),u=t?n:f?[s(n[0]),s(n[1])]:s(n),li(e))?e.replace("{value}",f?u[0]:u).replace("{value2}",f?u[1]:u):fo(e)?f?e(n[0],n[1]):e(n):f?n[0]===o[0]?i[0]+" "+u[1]:n[1]===o[1]?i[1]+" "+u[0]:u[0]+" - "+u[1]:u},resetExtent:function(){var n=this.option,t=huu([n.min,n.max]);this._dataExtent=t},getDataDimension:function(n){var t=this.option.dimension;return t!=null?t:n.dimensions.length-1},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function f(i){suu(n.color)&&!i.inRange&&(i.inRange={color:n.color.slice().reverse()});i.inRange=i.inRange||{color:luu};vwt(this.stateList,function(n){var r=i[n],u;li(r)&&(u=awt.get(r,"active",t),u?(i[n]={},i[n][r]=u):delete i[n])},this)}function e(n,i,r){var f=n[i],u=n[r];f&&!u&&(u=n[r]={},vwt(f,function(n,i){if(et.isValidType(i)){var r=awt.get(i,"inactive",t);r!=null&&(u[i]=r,i!=="color"||u.hasOwnProperty("opacity")||u.hasOwnProperty("colorAlpha")||(u.opacity=[0,0]))}}))}function o(n){var i=(n.inRange||{}).symbol||(n.outOfRange||{}).symbol,r=(n.inRange||{}).symbolSize||(n.outOfRange||{}).symbolSize,u=this.get("inactiveColor");vwt(this.stateList,function(f){var o=this.itemSize,e=n[f],s,h;e||(e=n[f]={color:t?u:[u]});e.symbol==null&&(e.symbol=i&&c(i)||(t?"roundRect":["roundRect"]));e.symbolSize==null&&(e.symbolSize=r&&c(r)||(t?o[0]:[o[0],o[0]]));e.symbol=hgi(e.symbol,function(n){return n==="none"||n==="square"?"roundRect":n});s=e.symbolSize;s!=null&&(h=-Infinity,ouu(s,function(n){n>h&&(h=n)}),e.symbolSize=hgi(s,function(n){return cuu(n,[0,h],[0,o[0]],!0)}))},this)}var n=this.option,u={inRange:n.inRange,outOfRange:n.outOfRange},i=n.target||(n.target={}),r=n.controller||(n.controller={}),t;a(i,u);a(r,u);t=this.isCategory();f.call(this,i);f.call(this,r);e.call(this,i,"inRange","outOfRange");o.call(this,r)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:ywt,getValueState:ywt,getVisualMeta:ywt}),cgi=[20,140],lgi=hrt.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(){lgi.superApply(this,"optionUpdated",arguments);this.resetExtent();this.resetVisual(function(n){n.mappingMethod="linear";n.dataExtent=this.getExtent()});this._resetRange()},resetItemSize:function(){lgi.superApply(this,"resetItemSize",arguments);var n=this.itemSize;this._orient==="horizontal"&&n.reverse();(n[0]==null||isNaN(n[0]))&&(n[0]=cgi[0]);(n[1]==null||isNaN(n[1]))&&(n[1]=cgi[1])},_resetRange:function(){var t=this.getExtent(),n=this.option.range;!n||n.auto?(t.auto=1,this.option.range=t):r(n)&&(n[0]>n[1]&&n.reverse(),n[0]=Math.max(n[0],t[0]),n[1]=Math.min(n[1],t[1]))},completeVisualOption:function(){hrt.prototype.completeVisualOption.apply(this,arguments);t(this.stateList,function(n){var t=this.option.controller[n].symbolSize;t&&t[0]!==t[1]&&(t[0]=0)},this)},setSelected:function(n){this.option.range=n.slice();this._resetRange()},getSelected:function(){var t=this.getExtent(),n=sh((this.get("range")||[]).slice());return n[0]>t[1]&&(n[0]=t[1]),n[1]>t[1]&&(n[1]=t[1]),n[0]<t[0]&&(n[0]=t[0]),n[1]<t[0]&&(n[1]=t[0]),n},getValueState:function(n){var t=this.option.range,i=this.getExtent();return(t[0]<=i[0]||t[0]<=n)&&(t[1]>=i[1]||n<=t[1])?"inRange":"outOfRange"},findTargetDataIndices:function(n){var t=[];return this.eachTargetSeries(function(i){var r=[],u=i.getData();u.each(this.getDataDimension(u),function(t,i){n[0]<=t&&t<=n[1]&&r.push(i)},!0,this);t.push({seriesId:i.id,dataIndex:r})},this),t},getVisualMeta:function(n){function e(t,r){i.push({value:t,color:n(t,r)})}for(var u=agi(this,"outOfRange",this.getExtent()),t=agi(this,"inRange",this.option.range.slice()),i=[],o=0,r=0,c=t.length,h=u.length,f,s;r<h&&(!t.length||u[r]<=t[0]);r++)u[r]<t[o]&&e(u[r],"outOfRange");for(f=1;o<c;o++,f=0)f&&i.length&&e(t[o],"outOfRange"),e(t[o],"inRange");for(f=1;r<h;r++)(!t.length||t[t.length-1]<u[r])&&(f&&(i.length&&e(i[i.length-1].value,"outOfRange"),f=0),e(u[r],"outOfRange"));return s=i.length,{stops:i,outerColors:[s?i[0].color:"transparent",s?i[s-1].color:"transparent"]}}});pwt=yi({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(n,t){this.ecModel=n;this.api=t;this.visualMapModel},render:function(n){if(this.visualMapModel=n,n.get("show")===!1){this.group.removeAll();return}this.doRender.apply(this,arguments)},renderBackground:function(n){var i=this.visualMapModel,t=lo(i.get("padding")||0),r=n.getBoundingRect();n.add(new ot({z2:-1,silent:!0,shape:{x:r.x-t[3],y:r.y-t[0],width:r.width+t[3]+t[1],height:r.height+t[0]+t[2]},style:{fill:i.get("backgroundColor"),stroke:i.get("borderColor"),lineWidth:i.get("borderWidth")}}))},getControllerVisual:function(n,i,r){function c(n){return u[n]}function l(n,t){u[n]=t}var o,e,s;r=r||{};var h=r.forceState,f=this.visualMapModel,u={};return i==="symbol"&&(u.symbol=f.get("itemSymbol")),i==="color"&&(o=f.get("contentColor"),u.color=o),e=f.controllerVisuals[h||f.getValueState(n)],s=et.prepareVisualTypes(e),t(s,function(t){var u=e[t];r.convertOpacityToAlpha&&t==="opacity"&&(t="colorAlpha",u=e.__alphaForOpacity);et.dependsOn(t,i)&&u&&u.applyVisual(n,c,l)}),u[i]},positionGroup:function(n){var i=this.visualMapModel,t=this.api;eg(n,i.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})},doRender:pi});var uo=ti,auu=t,lrt=Math.min,dw=Math.max,vuu=12,ygi=6,yuu=pwt.extend({type:"visualMap.continuous",init:function(){yuu.superApply(this,"init",arguments);this._shapes={};this._dataInterval=[];this._handleEnds=[];this._orient;this._useHandle;this._hoverLinkDataIndices=[];this._dragging;this._hovering},doRender:function(n,t,i,r){r&&r.type==="selectDataRange"&&r.from===this.uid||this._buildView()},_buildView:function(){var t,n,i;this.group.removeAll();t=this.visualMapModel;n=this.group;this._orient=t.get("orient");this._useHandle=t.get("calculable");this._resetInterval();this._renderBar(n);i=t.get("text");this._renderEndsText(n,i,0);this._renderEndsText(n,i,1);this._updateView(!0);this.renderBackground(n);this._updateView();this._enableHoverLinkToSeries();this._enableHoverLinkFromSeries();this.positionGroup(n)},_renderEndsText:function(n,t,i){var r;if(t){r=t[1-i];r=r!=null?r+"":"";var u=this.visualMapModel,f=u.get("textGap"),e=u.itemSize,o=this._shapes.barGroup,s=this._applyTransform([e[0]/2,i===0?-f:e[1]+f],o),h=this._applyTransform(i===0?"bottom":"top",o),c=this._orient,l=this.visualMapModel.textStyleModel;this.group.add(new b({style:{x:s[0],y:s[1],textVerticalAlign:c==="horizontal"?"middle":h,textAlign:c==="horizontal"?h:"center",text:r,textFont:l.getFont(),textFill:l.getTextColor()}}))}},_renderBar:function(n){var f=this.visualMapModel,t=this._shapes,r=f.itemSize,e=this._orient,c=this._useHandle,o=vgi(f,this.api,r),i=t.barGroup=this._createBarGroup(o),s,u;i.add(t.outOfRange=art());i.add(t.inRange=art(null,c?wgi(this._orient):null,h(this._dragHandle,this,"all",!1),h(this._dragHandle,this,"all",!0)));s=f.textStyleModel.getTextRect("国");u=dw(s.width,s.height);c&&(t.handleThumbs=[],t.handleLabels=[],t.handleLabelPoints=[],this._createHandle(i,0,r,u,e,o),this._createHandle(i,1,r,u,e,o));this._createIndicator(i,r,u,e);n.add(i)},_createHandle:function(n,t,i,r,u){var c=h(this._dragHandle,this,t,!1),l=h(this._dragHandle,this,t,!0),e=art(puu(t,r),wgi(this._orient),c,l),o,s,a,f;e.position[0]=i[0];n.add(e);o=this.visualMapModel.textStyleModel;s=new b({draggable:!0,drift:c,onmousemove:function(n){ye(n.event)},ondragend:l,style:{x:0,y:0,text:"",textFont:o.getFont(),textFill:o.getTextColor()}});this.group.add(s);a=[u==="horizontal"?r/2:r*1.5,u==="horizontal"?t===0?-(r*1.5):r*1.5:t===0?-r/2:r/2];f=this._shapes;f.handleThumbs[t]=e;f.handleLabelPoints[t]=a;f.handleLabels[t]=s},_createIndicator:function(n,t,i,r){var u=art([[0,0]],"move"),e,o,s,f;u.position[0]=t[0];u.attr({invisible:!0,silent:!0});n.add(u);e=this.visualMapModel.textStyleModel;o=new b({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:e.getFont(),textFill:e.getTextColor()}});this.group.add(o);s=[r==="horizontal"?i/2:ygi+3,0];f=this._shapes;f.indicator=u;f.indicatorLabel=o;f.indicatorLabelPoint=s},_dragHandle:function(n,t,i,r){if(this._useHandle){if(this._dragging=!t,!t){var u=this._applyTransform([i,r],this._shapes.barGroup,!0);this._updateInterval(n,u[1]);this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()});t?this._hovering||this._clearHoverLinkToSeries():pgi(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[n],!1)}},_resetInterval:function(){var n=this.visualMapModel,t=this._dataInterval=n.getSelected(),i=n.getExtent(),r=[0,n.itemSize[1]];this._handleEnds=[uo(t[0],i,r,!0),uo(t[1],i,r,!0)]},_updateInterval:function(n,t){var u;t=t||0;var f=this.visualMapModel,i=this._handleEnds,r=[0,f.itemSize[1]];ac(t,i,r,n,0);u=f.getExtent();this._dataInterval=[uo(i[0],r,u,!0),uo(i[1],r,u,!0)]},_updateView:function(n){var u=this.visualMapModel,i=u.getExtent(),f=this._shapes,e=[0,u.itemSize[1]],o=n?e:this._handleEnds,t=this._createBarVisual(this._dataInterval,i,o,"inRange"),r=this._createBarVisual(i,i,e,"outOfRange");f.inRange.setStyle({fill:t.barColor,opacity:t.opacity}).setShape("points",t.barPoints);f.outOfRange.setStyle({fill:r.barColor,opacity:r.opacity}).setShape("points",r.barPoints);this._updateHandle(o,t)},_createBarVisual:function(n,t,i,r){var f={forceState:r,convertOpacityToAlpha:!0},u=this._makeColorGradient(n,f),e=[this.getControllerVisual(n[0],"symbolSize",f),this.getControllerVisual(n[1],"symbolSize",f)],o=this._createBarPoints(i,e);return{barColor:new ah(0,0,0,1,u),barPoints:o,handlesColor:[u[0].color,u[u.length-1].color]}},_makeColorGradient:function(n,t){var u=100,r=[],e=(n[1]-n[0])/u,i,f;for(r.push({color:this.getControllerVisual(n[0],"color",t),offset:0}),i=1;i<u;i++){if(f=n[0]+e*i,f>n[1])break;r.push({color:this.getControllerVisual(f,"color",t),offset:i/u})}return r.push({color:this.getControllerVisual(n[1],"color",t),offset:1}),r},_createBarPoints:function(n,t){var i=this.visualMapModel.itemSize;return[[i[0]-t[0],n[0]],[i[0],n[0]],[i[0],n[1]],[i[0]-t[1],n[1]]]},_createBarGroup:function(n){var t=this._orient,i=this.visualMapModel.get("inverse");return new e(t==="horizontal"&&!i?{scale:n==="bottom"?[1,1]:[-1,1],rotation:Math.PI/2}:t==="horizontal"&&i?{scale:n==="bottom"?[-1,1]:[1,1],rotation:-Math.PI/2}:t==="vertical"&&!i?{scale:n==="left"?[1,-1]:[-1,-1]}:{scale:n==="left"?[1,1]:[-1,1]})},_updateHandle:function(n,t){if(this._useHandle){var i=this._shapes,r=this.visualMapModel,u=i.handleThumbs,f=i.handleLabels;auu([0,1],function(e){var o=u[e],s;o.setStyle("fill",t.handlesColor[e]);o.position[1]=n[e];s=bf(i.handleLabelPoints[e],yh(o,this.group));f[e].setStyle({x:s[0],y:s[1],text:r.formatValueText(this._dataInterval[e]),textVerticalAlign:"middle",textAlign:this._applyTransform(this._orient==="horizontal"?e===0?"bottom":"top":"left",i.barGroup)})},this)}},_showIndicator:function(n,t,i,r){var e=this.visualMapModel,p=e.getExtent(),l=e.itemSize,w=[0,l[1]],a=uo(n,p,w,!0),f=this._shapes,u=f.indicator,v,y,o,s,h,c;u&&(u.position[1]=a,u.attr("invisible",!1),u.setShape("points",wuu(!!i,r,a,l[1])),v={convertOpacityToAlpha:!0},y=this.getControllerVisual(n,"color",v),u.setStyle("fill",y),o=bf(f.indicatorLabelPoint,yh(u,this.group)),s=f.indicatorLabel,s.attr("invisible",!1),h=this._applyTransform("left",f.barGroup),c=this._orient,s.setStyle({text:(i?i:"")+e.formatValueText(t),textVerticalAlign:c==="horizontal"?h:"middle",textAlign:c==="horizontal"?"center":h,x:o[0],y:o[1]}))},_enableHoverLinkToSeries:function(){var n=this;this._shapes.barGroup.on("mousemove",function(t){if(n._hovering=!0,!n._dragging){var r=n.visualMapModel.itemSize,i=n._applyTransform([t.offsetX,t.offsetY],n._shapes.barGroup,!0,!0);i[1]=lrt(dw(0,i[1]),r[1]);n._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=r[0])}}).on("mouseout",function(){n._hovering=!1;n._dragging||n._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var n=this.api.getZr();if(this.visualMapModel.option.hoverLink){n.on("mouseover",this._hoverLinkFromSeriesMouseOver,this);n.on("mouseout",this._hideIndicator,this)}else this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(n,t){var u=this.visualMapModel,a=u.itemSize,i,f,l,h,c;if(u.option.hoverLink){i=[0,a[1]];f=u.getExtent();n=lrt(dw(i[0],n),i[1]);var e=buu(u,f,i),o=[n-e,n+e],s=uo(n,i,f,!0),r=[uo(o[0],i,f,!0),uo(o[1],i,f,!0)];o[0]<i[0]&&(r[0]=-Infinity);o[1]>i[1]&&(r[1]=Infinity);t&&(r[0]===-Infinity?this._showIndicator(s,r[1],"< ",e):r[1]===Infinity?this._showIndicator(s,r[0],"> ",e):this._showIndicator(s,s,"≈ ",e));l=this._hoverLinkDataIndices;h=[];(t||pgi(u))&&(h=this._hoverLinkDataIndices=u.findTargetDataIndices(r));c=oor(l,h);this._dispatchHighDown("downplay",crt(c[0]));this._dispatchHighDown("highlight",crt(c[1]))}},_hoverLinkFromSeriesMouseOver:function(n){var t=n.target,f=this.visualMapModel,i;if(t&&t.dataIndex!=null&&(i=this.ecModel.getSeriesByIndex(t.seriesIndex),f.isTargetSeries(i))){var r=i.getData(t.dataType),e=r.getDimension(f.getDataDimension(r)),u=r.get(e,t.dataIndex,!0);isNaN(u)||this._showIndicator(u,u)}},_hideIndicator:function(){var n=this._shapes;n.indicator&&n.indicator.attr("invisible",!0);n.indicatorLabel&&n.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var n=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",crt(n));n.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var n=this.api.getZr();n.off("mouseover",this._hoverLinkFromSeriesMouseOver);n.off("mouseout",this._hideIndicator)},_applyTransform:function(n,t,i,u){var f=yh(t,u?null:this.group);return nf[r(n)?"applyTransform":"transformDirection"](n,f,i)},_dispatchHighDown:function(n,t){t&&t.length&&this.api.dispatchAction({type:n,batch:t})},dispose:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()}});bgi={type:"selectDataRange",event:"dataRangeSelected",update:"update"};ft(bgi,function(n,t){t.eachComponent({mainType:"visualMap",query:n},function(t){t.setSelected(n.selected)})});wi(lwt);kgi=hrt.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(n,t){var r,u;kgi.superApply(this,"optionUpdated",arguments);this._pieceList=[];this.resetExtent();r=this._mode=this._determineMode();dgi[this._mode].call(this);this._resetSelected(n,t);u=this.option.categories;this.resetVisual(function(n,t){r==="categories"?(n.mappingMethod="category",n.categories=c(u)):(n.dataExtent=this.getExtent(),n.mappingMethod="piecewise",n.pieceList=i(this._pieceList,function(n){var n=c(n);return t!=="inRange"&&(n.visual=null),n}))})},completeVisualOption:function(){function r(n,t,i){return n&&n[t]&&(y(n[t])?n[t].hasOwnProperty(i):n[t]===i)}var n=this.option,i={},u=et.listVisualTypes(),f=this.isCategory();t(n.pieces,function(n){t(u,function(t){n.hasOwnProperty(t)&&(i[t]=1)})});t(i,function(i,u){var e=0;t(this.stateList,function(t){e|=r(n,t,u)||r(n.target,t,u)},this);e||t(this.stateList,function(t){(n[t]||(n[t]={}))[u]=awt.get(u,t==="inRange"?"active":"inactive",f)})},this);hrt.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(n,i){var u=this.option,e=this._pieceList,r=(i?u:n).selected||{},f;u.selected=r;t(e,function(n){var t=this.getSelectedMapKey(n);r.hasOwnProperty(t)||(r[t]=!0)},this);u.selectedMode==="single"&&(f=!1,t(e,function(n){var t=this.getSelectedMapKey(n);r[t]&&(f?r[t]=!1:f=!0)},this))},getSelectedMapKey:function(n){return this._mode==="categories"?n.value+"":n.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var n=this.option;return n.pieces&&n.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(n){this.option.selected=c(n)},getValueState:function(n){var t=et.findPieceIndex(n,this._pieceList);return t!=null?this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange":"outOfRange"},findTargetDataIndices:function(n){var t=[];return this.eachTargetSeries(function(i){var r=[],u=i.getData();u.each(this.getDataDimension(u),function(t,i){var u=et.findPieceIndex(t,this._pieceList);u===n&&r.push(i)},!0,this);t.push({seriesId:i.id,dataIndex:r})},this),t},getRepresentValue:function(n){var i,t;return this.isCategory()?i=n.value:n.value!=null?i=n.value:(t=n.interval||[],i=t[0]===-Infinity&&t[1]===Infinity?0:(t[0]+t[1])/2),i},getVisualMeta:function(n){function s(t,i){var u=o.getRepresentValue({interval:t}),r;i||(i=o.getValueState(u));r=n(u,i);t[0]===-Infinity?f[0]=r:t[1]===Infinity?f[1]=r:e.push({value:t[0],color:r},{value:t[1],color:r})}var i,r,u;if(!this.isCategory()){var e=[],f=[],o=this;return i=this._pieceList.slice(),i.length?(r=i[0].interval[0],r!==-Infinity&&i.unshift({interval:[-Infinity,r]}),r=i[i.length-1].interval[1],r!==Infinity&&i.push({interval:[r,Infinity]})):i.push({interval:[-Infinity,Infinity]}),u=-Infinity,t(i,function(n){var t=n.interval;t&&(t[0]>u&&s([u,t[0]],"outOfRange"),s(t.slice()),u=t[1])},this),{stops:e,outerColors:f}}}});dgi={splitNumber:function(){var r=this.option,e=this._pieceList,o=Math.min(r.precision,20),u=this.getExtent(),f=r.splitNumber,n,i,s,h,c;for(f=Math.max(parseInt(f,10),1),r.splitNumber=f,n=(u[1]-u[0])/f;+n.toFixed(o)!==n&&o<5;)o++;for(r.precision=o,n=+n.toFixed(o),i=0,r.minOpen&&e.push({index:i++,interval:[-Infinity,u[0]],close:[0,0]}),s=u[0],h=i+f;i<h;s+=n)c=i===f-1?u[1]:s+n,e.push({index:i++,interval:[s,c],close:[1,1]});r.maxOpen&&e.push({index:i++,interval:[u[1],Infinity],close:[0,0]});sot(e);t(e,function(n){n.text=this.formatValueText(n.interval)},this)},categories:function(){var n=this.option;t(n.categories,function(n){this._pieceList.push({text:this.formatValueText(n,!0),value:n})},this);ggi(n,this._pieceList)},pieces:function(){var i=this.option,n=this._pieceList;t(i.pieces,function(t,i){var e,h,u,l,o;if(y(t)||(t={value:t}),e={text:"",index:i},t.label!=null&&(e.text=t.label),t.hasOwnProperty("value"))h=e.value=t.value,e.interval=[h,h],e.close=[1,1];else{var r=e.interval=[],s=e.close=[0,0],a=[1,0,1],v=[-Infinity,Infinity],c=[];for(u=0;u<2;u++){for(l=[["gte","gt","min"],["lte","lt","max"]][u],o=0;o<3&&r[u]==null;o++)r[u]=t[l[o]],s[u]=a[o],c[u]=o===2;r[u]==null&&(r[u]=v[u])}c[0]&&r[1]===Infinity&&(s[0]=0);c[1]&&r[0]===-Infinity&&(s[1]=0);f&&r[0]>r[1]&&console.warn("Piece "+i+"is illegal: "+r+" lower bound should not greater then uppper bound.");r[0]===r[1]&&s[0]&&s[1]&&(e.value=r[0])}e.visual=et.retrieveVisuals(t);n.push(e)},this);ggi(i,n);sot(n);t(n,function(n){var t=n.close,i=[["<","≤"][t[1]],[">","≥"][t[0]]];n.text=n.text||this.formatValueText(n.value!=null?n.value:n.interval,!1,i)},this)}};kuu=pwt.extend({type:"visualMap.piecewise",doRender:function(){function y(t){var c=t.piece,u=new e,l,y;u.onclick=h(this._onItemClick,this,c);this._enableHoverLink(u,t.indexInModelPieceList);l=i.getRepresentValue(c);this._createItemSymbol(u,l,[0,0,r[0],r[1]]);o&&(y=this.visualMapModel.getValueState(l),u.add(new b({style:{x:f==="right"?-s:r[0]+s,y:r[1]/2,text:c.text,textVerticalAlign:"middle",textAlign:f,textFont:a,textFill:v,opacity:y==="outOfRange"?.5:1}})));n.add(u)}var n=this.group;n.removeAll();var i=this.visualMapModel,s=i.get("textGap"),c=i.textStyleModel,a=c.getFont(),v=c.getTextColor(),f=this._getItemAlign(),r=i.itemSize,l=this._getViewData(),u=l.endsText,o=kt(i.get("showLabel",!0),!u);u&&this._renderEndsText(n,u[0],r,o,f);t(l.viewPieceList,y,this);u&&this._renderEndsText(n,u[1],r,o,f);rp(i.get("orient"),n,i.get("itemGap"));this.renderBackground(n);this.positionGroup(n)},_enableHoverLink:function(n,t){function i(n){var i=this.visualMapModel;i.option.hoverLink&&this.api.dispatchAction({type:n,batch:crt(i.findTargetDataIndices(t))})}n.on("mouseover",h(i,this,"highlight")).on("mouseout",h(i,this,"downplay"))},_getItemAlign:function(){var t=this.visualMapModel,i=t.option,n;return i.orient==="vertical"?vgi(t,this.api,t.itemSize):(n=i.align,n&&n!=="auto"||(n="left"),n)},_renderEndsText:function(n,t,i,r,u){if(t){var f=new e,o=this.visualMapModel.textStyleModel;f.add(new b({style:{x:r?u==="right"?i[0]:0:i[0]/2,y:i[1]/2,textVerticalAlign:"middle",textAlign:r?u:"center",text:t,textFont:o.getFont(),textFill:o.getTextColor()}}));n.add(f)}},_getViewData:function(){var n=this.visualMapModel,r=i(n.getPieceList(),function(n,t){return{piece:n,indexInModelPieceList:t}}),t=n.get("text"),f=n.get("orient"),u=n.get("inverse");return(f==="horizontal"?u:!u)?r.reverse():t&&(t=t.slice().reverse()),{viewPieceList:r,endsText:t}},_createItemSymbol:function(n,t,i){n.add(ru(this.getControllerVisual(t,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(t,"color")))},_onItemClick:function(n){var u=this.visualMapModel,f=u.option,i=c(f.selected),r=u.getSelectedMapKey(n);f.selectedMode==="single"?(i[r]=!0,t(i,function(n,t){i[t]=t===r})):i[r]=!i[r];this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:i})}});wi(lwt);wwt=co;vrt=dt;gw=iu({type:"marker",dependencies:["series","grid","polar","geo"],init:function(n,t,i,r){if(f&&this.type==="marker")throw new Error("Marker component is abstract component. Use markLine, markPoint, markArea instead.");this.mergeDefaultAndTheme(n,i);this.mergeOption(n,i,r.createdBySelf,!0)},isAnimationEnabled:function(){if(d.node)return!1;var n=this.__hostSeries;return this.getShallow("animation")&&n&&n.isAnimationEnabled()},mergeOption:function(n,i,r,u){var e=this.constructor,f=this.mainType+"Model";r||i.eachSeries(function(n){var r=n.get(this.mainType),o=n[f];if(!r||!r.data){n[f]=null;return}o?o.mergeOption(r,i,!0):(u&&yrt(r),t(r.data,function(n){n instanceof Array?(yrt(n[0]),yrt(n[1])):yrt(n)}),o=new e(r,this,i),s(o,{mainType:this.mainType,seriesIndex:n.seriesIndex,name:n.name,createdBySelf:!0}),o.__hostSeries=n);n[f]=o},this)},formatTooltip:function(n){var e=this.getData(),t=this.getRawValue(n),o=r(t)?i(t,wwt).join(", "):wwt(t),f=e.getName(n),u=vrt(this.name);return(t!=null||f)&&(u+="<br />"),f&&(u+=vrt(f),t!=null&&(u+=" : ")),t!=null&&(u+=vrt(o)),u},getData:function(){return this._data},setData:function(n){this._data=n}});nt(gw,ng);gw.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"inside"},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:2}}}});bwt=w;prt=o;wrt={min:prt(kwt,"min"),max:prt(kwt,"max"),average:prt(kwt,"average")};brt=yi({type:"marker",init:function(){this.markerGroupMap=ui()},render:function(n,t,i){var r=this.markerGroupMap,u;r.each(function(n){n.__keep=!1});u=this.type+"Model";t.eachSeries(function(n){var r=n[u];r&&this.renderSeries(n,r,t,i)},this);r.each(function(n){n.__keep||this.group.remove(n.group)},this)},renderSeries:function(){}});brt.extend({type:"markPoint",updateLayout:function(n,t,i){t.eachSeries(function(n){var t=n.markPointModel;t&&(ini(t.getData(),n,i),this.markerGroupMap.get(n.id).updateLayout(t))},this)},renderSeries:function(n,t,i,r){var s=n.coordinateSystem,e=n.id,h=n.getData(),o=this.markerGroupMap,f=o.get(e)||o.set(e,new aa),u=tfu(s,n,t);t.setData(u);ini(t.getData(),n,r);u.each(function(n){var r=u.getItemModel(n),i=r.getShallow("symbolSize");typeof i=="function"&&(i=i(t.getRawValue(n),t.getDataParams(n)));u.setItemVisual(n,{symbolSize:i,color:r.get("itemStyle.normal.color")||h.getVisual("color"),symbol:r.getShallow("symbol")})});f.updateData(u);this.group.add(f.group);u.eachItemGraphicEl(function(n){n.traverse(function(n){n.dataModel=t})});f.__keep=!0;f.group.silent=t.get("silent")||n.get("silent")}});wi(function(n){n.markPoint=n.markPoint||{}});gw.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"end"},emphasis:{show:!0}},lineStyle:{normal:{type:"dashed"},emphasis:{width:3}},animationEasing:"linear"}});rni=function(n,t,i,u){var w=n.getData(),e=u.type,b,o,f,v,p;if(!r(u)&&(e==="min"||e==="max"||e==="average"||u.xAxis!=null||u.yAxis!=null)){u.yAxis!=null||u.xAxis!=null?(o=u.yAxis!=null?"y":"x",b=t.getAxis(o),f=kt(u.yAxis,u.xAxis)):(v=nni(u,w,t,n),o=v.valueDataDim,b=v.valueAxis,f=dwt(w,o,e));var y=o==="x"?0:1,k=1-y,h=c(u),l={};h.type=null;h.coord=[];l.coord=[];h.coord[k]=-Infinity;l.coord[k]=Infinity;p=i.get("precision");p>=0&&typeof f=="number"&&(f=+f.toFixed(Math.min(p,20)));h.coord[y]=l.coord[y]=f;u=[h,l,{type:e,valueIndex:u.valueIndex,value:f}]}return u=[nb(n,u[0]),nb(n,u[1]),s({},u[2])],u[2].type=u[2].type||"",a(u[2],u[0]),a(u[2],u[1]),u};brt.extend({type:"markLine",updateLayout:function(n,t,i){t.eachSeries(function(n){var t=n.markLineModel;if(t){var u=t.getData(),r=t.__from,f=t.__to;r.each(function(t){gwt(r,t,!0,n,i);gwt(f,t,!1,n,i)});u.each(function(n){u.setItemLayout(n,[r.getItemLayout(n),f.getItemLayout(n)])});this.markerGroupMap.get(n.id).updateLayout()}},this)},renderSeries:function(n,t,i,u){function y(t,i,r){var f=t.getItemModel(i);gwt(t,i,r,n,u);t.setItemVisual(i,{symbolSize:f.get("symbolSize")||s[r?0:1],symbol:f.get("symbol",!0)||o[r?0:1],color:f.get("itemStyle.normal.color")||w.getVisual("color")})}var p=n.coordinateSystem,a=n.id,w=n.getData(),v=this.markerGroupMap,l=v.get(a)||v.set(a,new tit),o,s;this.group.add(l.group);var h=rfu(p,n,t),e=h.from,c=h.to,f=h.line;t.__from=e;t.__to=c;t.setData(f);o=t.get("symbol");s=t.get("symbolSize");r(o)||(o=[o,o]);typeof s=="number"&&(s=[s,s]);h.from.each(function(n){y(e,n,!0);y(c,n,!1)});f.each(function(n){var t=f.getItemModel(n).get("lineStyle.normal.color");f.setItemVisual(n,{color:t||e.getItemVisual(n,"color")});f.setItemLayout(n,[e.getItemLayout(n),c.getItemLayout(n)]);f.setItemVisual(n,{fromSymbolSize:e.getItemVisual(n,"symbolSize"),fromSymbol:e.getItemVisual(n,"symbol"),toSymbolSize:c.getItemVisual(n,"symbolSize"),toSymbol:c.getItemVisual(n,"symbol")})});l.updateData(f);h.line.eachItemGraphicEl(function(n){n.traverse(function(n){n.dataModel=t})});l.__keep=!0;l.group.silent=t.get("silent")||n.get("silent")}});wi(function(n){n.markLine=n.markLine||{}});gw.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{normal:{show:!0,position:"top"},emphasis:{show:!0,position:"top"}},itemStyle:{normal:{borderWidth:0}}}});fni=function(n,t,i,r){var f=nb(n,r[0]),e=nb(n,r[1]),o=kt,s=f.coord,h=e.coord,u;return s[0]=o(s[0],-Infinity),s[1]=o(s[1],-Infinity),h[0]=o(h[0],Infinity),h[1]=o(h[1],Infinity),u=bv([{},f,e]),u.coord=[f.coord,e.coord],u.x0=f.x,u.y0=f.y,u.x1=e.x,u.y1=e.y,u};nbt=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];brt.extend({type:"markArea",updateLayout:function(n,t,r){t.eachSeries(function(n){var u=n.markAreaModel,t;u&&(t=u.getData(),t.each(function(u){var f=i(nbt,function(i){return oni(t,u,i,n,r)}),e;t.setItemLayout(u,f);e=t.getItemGraphicEl(u);e.setShape("points",f)}))},this)},renderSeries:function(n,t,r,u){var c=n.coordinateSystem,s=n.name,a=n.getData(),h=this.markerGroupMap,o=h.get(s)||h.set(s,{group:new e}),f;this.group.add(o.group);o.__keep=!0;f=ffu(c,n,t);t.setData(f);f.each(function(t){f.setItemLayout(t,i(nbt,function(i){return oni(f,t,i,n,u)}));f.setItemVisual(t,{color:a.getVisual("color")})});f.diff(o.__data).add(function(n){var t=new hu({shape:{points:f.getItemLayout(n)}});f.setItemGraphicEl(n,t);o.group.add(t)}).update(function(n,i){var r=o.__data.getItemGraphicEl(i);k(r,{shape:{points:f.getItemLayout(n)}},t,n);o.group.add(r);f.setItemGraphicEl(n,r)}).remove(function(n){var t=o.__data.getItemGraphicEl(n);o.group.remove(t)}).execute();f.eachItemGraphicEl(function(n,i){var r=f.getItemModel(i),e=r.getModel("label.normal"),o=r.getModel("label.emphasis"),u=f.getItemVisual(i,"color");n.useStyle(l(r.getModel("itemStyle.normal").getItemStyle(),{fill:pb(u,.4),stroke:u}));n.hoverStyle=r.getModel("itemStyle.emphasis").getItemStyle();gu(n.style,n.hoverStyle,e,o,{labelFetcher:t,labelDataIndex:i,defaultText:f.getName(i)||"",isRectText:!0,autoColor:u});vt(n,{});n.dataModel=t});o.__data=f;o.group.silent=t.get("silent")||n.get("silent")}});wi(function(n){n.markArea=n.markArea||{}});sni=function(n){var i=n&&n.timeline;r(i)||(i=i?[i]:[]);t(i,function(n){n&&efu(n)})};g.registerSubTypeDefaulter("timeline",function(){return"slider"});ft({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(n,t){var i=t.getComponent("timeline");return i&&n.currentIndex!=null&&(i.setCurrentIndex(n.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.setPlayState(!1)),t.resetOption("timeline"),l({currentIndex:i.option.currentIndex},n)});ft({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(n,t){var i=t.getComponent("timeline");i&&n.playState!=null&&i.setPlayState(n.playState)});tbt=g.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{normal:{},emphasis:{}},label:{normal:{color:"#000"},emphasis:{}},data:[]},init:function(n,t,i){this._data;this._names;this.mergeDefaultAndTheme(n,i);this._initData()},mergeOption:function(){tbt.superApply(this,"mergeOption",arguments);this._initData()},setCurrentIndex:function(n){n==null&&(n=this.option.currentIndex);var t=this._data.count();this.option.loop?n=(n%t+t)%t:(n>=t&&(n=t-1),n<0&&(n=0));this.option.currentIndex=n},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(n){this.option.autoPlay=!!n},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var r=this.option,n=r.data||[],u=r.axisType,f=this._names=[],i,e,o;u==="category"&&(i=[],t(n,function(n,t){var r=ip(n),u;y(n)?(u=c(n),u.value=t):u=t;i.push(u);!li(r)&&(r==null||isNaN(r))&&(r="");f.push(r+"")}),n=i);e={category:"ordinal",time:"time"}[u]||"number";o=this._data=new yt([{name:"value",type:e}],this);o.initData(n,f)},getData:function(){return this._data},getCategories:function(){if(this.get("axisType")==="category")return this._names.slice()}});cni=tbt.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",normal:{show:!0,interval:"auto",rotate:0,color:"#304654"},emphasis:{show:!0,color:"#c23531"}},itemStyle:{normal:{color:"#304654",borderWidth:1},emphasis:{color:"#c23531"}},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",normal:{color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});nt(cni,ng);lni=kf.extend({type:"timeline"});ib=function(n,t,i,r){ri.call(this,n,t,i);this.type=r||"value";this._autoLabelInterval;this.model=null};ib.prototype={constructor:ib,getLabelInterval:function(){var r=this.model,t=r.getModel("label.normal"),n=t.get("interval");return n!=null&&n!="auto"?n:(n=this._autoLabelInterval,n||(n=this._autoLabelInterval=cfi(i(this.scale.getTicks(),this.dataToCoord,this),ict(this,t.get("formatter")),t.getFont(),r.get("orient")==="horizontal"?0:90,t.get("rotate"))),n)},isLabelIgnored:function(n){if(this.type==="category"){var t=this.getLabelInterval();return typeof t=="function"&&!t(n,this.scale.getLabel(n))||n%(t+1)}}};st(ib,ri);var bs=h,ibt=t,rbt=Math.PI;lni.extend({type:"timeline.slider",init:function(n,t){this.api=t;this._axis;this._viewRect;this._timer;this._currentPointer;this._mainGroup;this._labelGroup},render:function(n,t,i){if(this.model=n,this.api=i,this.ecModel=t,this.group.removeAll(),n.get("show",!0)){var r=this._layout(n,i),f=this._createGroup("mainGroup"),e=this._createGroup("labelGroup"),u=this._axis=this._createAxis(r,n);n.formatTooltip=function(n){return dt(u.scale.getLabel(n))};ibt(["AxisLine","AxisTick","Control","CurrentPointer"],function(t){this["_render"+t](r,f,u,n)},this);this._renderAxisLabel(r,e,u,n);this._position(r,n)}this._doPlayStop()},remove:function(){this._clearTimer();this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(n,t){var i=n.get("label.normal.position"),u=n.get("orient"),f=ofu(n,t);i==null||i==="auto"?i=u==="horizontal"?f.y+f.height/2<t.getHeight()/2?"-":"+":f.x+f.width/2<t.getWidth()/2?"+":"-":isNaN(i)&&(i={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[u][i]);var tt={horizontal:"center",vertical:i>=0||i==="+"?"left":"right"},it={horizontal:i>=0||i==="+"?"top":"bottom",vertical:"middle"},rt={horizontal:0,vertical:rbt/2},w=u==="vertical"?f.height:f.width,r=n.getModel("controlStyle"),s=r.get("show"),h=s?r.get("itemSize"):0,b=s?r.get("itemGap"):0,o=h+b,l=n.get("label.normal.rotate")||0;l=l*rbt/180;var a,v,y,p,k=r.get("position",!0),s=r.get("show",!0),d=s&&r.get("showPlayBtn",!0),g=s&&r.get("showPrevBtn",!0),nt=s&&r.get("showNextBtn",!0),c=0,e=w;return k==="left"||k==="bottom"?(d&&(a=[0,0],c+=o),g&&(v=[c,0],c+=o),nt&&(y=[e-h,0],e-=o)):(d&&(a=[e-h,0],e-=o),g&&(v=[0,0],c+=o),nt&&(y=[e-h,0],e-=o)),p=[c,e],n.get("inverse")&&p.reverse(),{viewRect:f,mainLength:w,orient:u,rotation:rt[u],labelRotation:l,labelPosOpt:i,labelAlign:n.get("label.normal.align")||tt[u],labelBaseline:n.get("label.normal.verticalAlign")||n.get("label.normal.baseline")||it[u],playPosition:a,prevBtnPosition:v,nextBtnPosition:y,axisExtent:p,controlSize:h,controlGap:b}},_position:function(n){function p(n){var t=n.position;n.origin=[r[0][0]-t[0],r[1][0]-t[1]]}function c(n){return[[n.x,n.x+n.width],[n.y,n.y+n.height]]}function l(n,t,i,r,u){n[r]+=i[r][u]-t[r][u]}var u=this._mainGroup,f=this._labelGroup,t=n.viewRect,o,s;if(n.orient==="vertical"){var i=ce(),a=t.x,v=t.y+t.height;ff(i,i,[-a,-v]);rh(i,i,-rbt/2);ff(i,i,[a,v]);t=t.clone();t.applyTransform(i)}var r=c(t),y=c(u.getBoundingRect()),w=c(f.getBoundingRect()),e=u.position,h=f.position;h[0]=e[0]=r[0][0];o=n.labelPosOpt;isNaN(o)?(s=o==="+"?0:1,l(e,y,r,1,s),l(h,w,r,1,1-s)):(s=o>=0?0:1,l(e,y,r,1,s),h[1]=e[1]+o);u.attr("position",e);f.attr("position",h);u.rotation=f.rotation=n.rotation;p(u);p(f)},_createAxis:function(n,t){var u=t.getData(),f=t.get("axisType"),i=ca(t,f),e=u.getDataExtent("value"),r;return i.setExtent(e[0],e[1]),this._customizeScale(i,u),i.niceTicks(),r=new ib("value",i,n.axisExtent,f),r.model=t,r},_customizeScale:function(n,t){n.getTicks=function(){return t.mapArray(["value"],function(n){return n})};n.getTicksLabels=function(){return i(this.getTicks(),n.getLabel,n)}},_createGroup:function(n){var t=this["_"+n]=new e;return this.group.add(t),t},_renderAxisLine:function(n,t,i,r){var u=i.getExtent();r.get("lineStyle.show")&&t.add(new cu({shape:{x1:u[0],y1:0,x2:u[1],y2:0},style:s({lineCap:"round"},r.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(n,t,i,r){var u=r.getData(),f=i.scale.getTicks();ibt(f,function(n,f){var s=i.dataToCoord(n),o=u.getItemModel(f),h=o.getModel("itemStyle.normal"),c=o.getModel("itemStyle.emphasis"),l={position:[s,0],onclick:bs(this._changeTimeline,this,f)},e=ani(o,h,t,l);vt(e,c.getItemStyle());o.get("tooltip")?(e.dataIndex=f,e.dataModel=r):e.dataIndex=e.dataModel=null},this)},_renderAxisLabel:function(n,t,i,r){var u=r.getModel("label.normal");if(u.get("show")){var f=r.getData(),e=i.scale.getTicks(),o=ict(i,u.get("formatter")),s=i.getLabelInterval();ibt(e,function(r,u){if(!i.isLabelIgnored(u,s)){var h=f.getItemModel(u),c=h.getModel("label.normal"),l=h.getModel("label.emphasis"),a=i.dataToCoord(r),e=new b({position:[a,0],rotation:n.labelRotation-n.rotation,onclick:bs(this._changeTimeline,this,u),silent:!1});gt(e.style,c,{text:o[u],textAlign:n.labelAlign,textVerticalAlign:n.labelBaseline});t.add(e);vt(e,gt({},l))}},this)}},_renderControl:function(n,t,i,r){function f(n,i,f,e){if(n){var a={position:n,origin:[u/2,0],rotation:e?-s:0,rectHover:!0,style:h,onclick:f},o=sfu(r,i,l,a);t.add(o);vt(o,c)}}var u=n.controlSize,s=n.rotation,h=r.getModel("controlStyle.normal").getItemStyle(),c=r.getModel("controlStyle.emphasis").getItemStyle(),l=[0,-u/2,u,u],e=r.getPlayState(),o=r.get("inverse",!0);f(n.nextBtnPosition,"controlStyle.nextIcon",bs(this._changeTimeline,this,o?"-":"+"));f(n.prevBtnPosition,"controlStyle.prevIcon",bs(this._changeTimeline,this,o?"+":"-"));f(n.playPosition,"controlStyle."+(e?"stopIcon":"playIcon"),bs(this._handlePlayClick,this,!e),!0)},_renderCurrentPointer:function(n,t,i,r){var o=r.getData(),f=r.getCurrentIndex(),e=o.getItemModel(f).getModel("checkpointStyle"),u=this,s={onCreate:function(n){n.draggable=!0;n.drift=bs(u._handlePointerDrag,u);n.ondragend=bs(u._handlePointerDragend,u);vni(n,f,i,r,!0)},onUpdate:function(n){vni(n,f,i,r)}};this._currentPointer=ani(e,e,this._mainGroup,{},this._currentPointer,s)},_handlePlayClick:function(n){this._clearTimer();this.api.dispatchAction({type:"timelinePlayChange",playState:n,from:this.uid})},_handlePointerDrag:function(n,t,i){this._clearTimer();this._pointerChangeTimeline([i.offsetX,i.offsetY])},_handlePointerDragend:function(n){this._pointerChangeTimeline([n.offsetX,n.offsetY],!0)},_pointerChangeTimeline:function(n,t){var i=this._toAxisCoord(n)[0],e=this._axis,r=sh(e.getExtent().slice()),u,f;i>r[1]&&(i=r[1]);i<r[0]&&(i=r[0]);this._currentPointer.position[0]=i;this._currentPointer.dirty();u=this._findNearestTick(i);f=this.model;(t||u!==f.getCurrentIndex()&&f.get("realtime"))&&this._changeTimeline(u)},_doPlayStop:function(){function n(){var n=this.model;this._changeTimeline(n.getCurrentIndex()+(n.get("rewind",!0)?-1:1))}this._clearTimer();this.model.getPlayState()&&(this._timer=setTimeout(bs(n,this),this.model.get("playInterval")))},_toAxisCoord:function(n){var t=this._mainGroup.getLocalTransform();return bf(n,t,!0)},_findNearestTick:function(n){var r=this.model.getData(),t=Infinity,i,u=this._axis;return r.each(["value"],function(r,f){var o=u.dataToCoord(r),e=Math.abs(o-n);e<t&&(t=e,i=f)}),i},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(n){var t=this.model.getCurrentIndex();n==="+"?n=t+1:n==="-"&&(n=t-1);this.api.dispatchAction({type:"timelineChange",currentIndex:n,from:this.uid})}});wi(sni);yni=iu({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},mergeDefaultAndTheme:function(){yni.superApply(this,"mergeDefaultAndTheme",arguments);t(this.option.feature,function(n,t){var i=sdi(t);i&&a(n,i.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{normal:{borderColor:"#666",color:"none"},emphasis:{borderColor:"#3E98C5"}}}});yi({type:"toolbox",render:function(n,i,r,u){function c(t,f){var o=s[t],c=s[f],p=l[o],h=new it(p,n,n.ecModel),e,y;if(o&&!c){if(hfu(o))e={model:h,onclick:h.option.onclick,featureName:o};else{if(y=sdi(o),!y)return;e=new y(h,i,r)}a[o]=e}else{if(e=a[c],!e)return;e.model=h;e.ecModel=i;e.api=r}if(!o&&c){e.dispose&&e.dispose(i,r);return}if(!h.get("show")||e.unusable){e.remove&&e.remove(i,r);return}v(h,e,o);h.setIconStatus=function(n,t){var i=this.option,r=this.iconPaths;i.iconStatus=i.iconStatus||{};i.iconStatus[n]=t;r[n]&&r[n].trigger(t)};e.render&&e.render(h,i,r,u)}function v(u,o,s){var a=u.getModel("iconStyle"),c=o.getIcons?o.getIcons():u.get("icon"),l=u.get("title")||{},v,y,p;typeof c=="string"&&(v=c,y=l,c={},l={},c[s]=v,l[s]=y);p=u.iconPaths={};t(c,function(t,s){var c=tp(t,{},{x:-e/2,y:-e/2,width:e,height:e});if(c.setStyle(a.getModel("normal").getItemStyle()),c.hoverStyle=a.getModel("emphasis").getItemStyle(),vt(c),n.get("showTitle")){c.__title=l[s];c.on("mouseover",function(){var n=a.getModel("emphasis").getItemStyle();c.setStyle({text:l[s],textPosition:n.textPosition||"bottom",textFill:n.fill||n.stroke||"#000",textAlign:n.textAlign||"center"})}).on("mouseout",function(){c.setStyle({textFill:null})})}c.trigger(u.get("iconStatus."+s)||"normal");f.add(c);c.on("click",h(o.onclick,o,i,r,s));p[s]=c})}var f=this.group;if(f.removeAll(),n.get("show")){var e=+n.get("itemSize"),l=n.get("feature")||{},a=this._features||(this._features={}),s=[];t(l,function(n,t){s.push(t)});new es(this._featureNames||[],s).add(c).update(c).remove(o(c,null)).execute();this._featureNames=s;wtu(f,n,r);f.add(fbi(f.getBoundingRect(),n));f.eachChild(function(n){var o=n.__title,t=n.hoverStyle,u;if(t&&o){var i=ve(o,ogt(t)),s=n.position[0]+f.position[0],c=n.position[1]+f.position[1]+e,h=!1;c+i.height>r.getHeight()&&(t.textPosition="top",h=!0);u=h?-5-i.height:e+8;s+i.width/2>r.getWidth()?(t.textPosition=["100%",u],t.textAlign="right"):s-i.width/2<0&&(t.textPosition=[0,u],t.textAlign="left")}})}},updateView:function(n,i,r,u){t(this._features,function(n){n.updateView&&n.updateView(n.model,i,r,u)})},updateLayout:function(n,i,r,u){t(this._features,function(n){n.updateLayout&&n.updateLayout(n.model,i,r,u)})},remove:function(n,i){t(this._features,function(t){t.remove&&t.remove(n,i)});this.group.removeAll()},dispose:function(n,i){t(this._features,function(t){t.dispose&&t.dispose(n,i)})}});ubt=bc.toolbox.saveAsImage;grt.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:ubt.title,type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:ubt.lang.slice()};grt.prototype.unusable=!d.canvasSupported;pni=grt.prototype;pni.onclick=function(n,t){var i=this.model,o=i.get("name")||n.get("title.0.text")||"echarts",r=document.createElement("a"),e=i.get("type",!0)||"png",u,s,l;if(r.download=o+"."+e,r.target="_blank",u=t.getConnectedDataURL({type:e,backgroundColor:i.get("backgroundColor",!0)||n.get("backgroundColor")||"#fff",excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),r.href=u,typeof MouseEvent!="function"||d.browser.ie||d.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var h=atob(u.split(",")[1]),f=h.length,c=new Uint8Array(f);f--;)c[f]=h.charCodeAt(f);l=new Blob([c]);window.navigator.msSaveOrOpenBlob(l,o+"."+e)}else{var a=i.get("lang"),v='<body style="margin:0;"><img src="'+u+'" style="max-width:100%;" title="'+(a&&a[0]||"")+'" /><\/body>',y=window.open();y.document.write(v)}else s=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1}),r.dispatchEvent(s)};ov("saveAsImage",grt);wni=bc.toolbox.magicType;fbt.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:c(wni.title),option:{},seriesIndex:{}};ebt=fbt.prototype;ebt.getIcons=function(){var n=this.model,i=n.get("icon"),r={};return t(n.get("type"),function(n){i[n]&&(r[n]=i[n])}),r};obt={line:function(n,t,i,r){if(n==="bar")return a({id:t,type:"line",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},r.get("option.line")||{},!0)},bar:function(n,t,i,r){if(n==="line")return a({id:t,type:"bar",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},r.get("option.bar")||{},!0)},stack:function(n,t,i,r){if(n==="line"||n==="bar")return a({id:t,stack:"__ec_magicType_stack__"},r.get("option.stack")||{},!0)},tiled:function(n,t,i,r){if(n==="line"||n==="bar")return a({id:t,stack:""},r.get("option.tiled")||{},!0)}};bni=[["line","bar"],["stack","tiled"]];ebt.onclick=function(n,i,r){var f=this.model,e=f.get("seriesIndex."+r),u,o;obt[r]&&(u={series:[]},o=function(t){var a=t.subType,v=t.id,s=obt[r](a,v,t,f),e,h,c;if(s&&(l(s,t.option),u.series.push(s)),e=t.coordinateSystem,e&&e.type==="cartesian2d"&&(r==="line"||r==="bar")&&(h=e.getAxesByScale("ordinal")[0],h)){var y=h.dim,i=y+"Axis",p=n.queryComponents({mainType:i,index:t.get(name+"Index"),id:t.get(name+"Id")})[0],o=p.componentIndex;for(u[i]=u[i]||[],c=0;c<=o;c++)u[i][o]=u[i][o]||{};u[i][o].boundaryGap=r==="bar"?!0:!1}},t(bni,function(n){w(n,r)>=0&&t(n,function(n){f.setIconStatus(n,"normal")})}),f.setIconStatus(r,"emphasis"),n.eachComponent({mainType:"series",query:e==null?null:{seriesIndex:e}},o),i.dispatchAction({type:"changeMagicType",currentType:r,newOption:u}))};ft({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,t){t.mergeOption(n.newOption)});ov("magicType",fbt);var kni=bc.toolbox.dataView,nut=new Array(60).join("-"),tl="\t";iut=new RegExp("["+tl+"]+","g");rb.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:c(kni.title),lang:c(kni.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};rb.prototype.onclick=function(n,t){function y(){h.removeChild(u);d._dom=null}var h=t.getDom(),i=this.model,u,e,c,f,r,o,k,s,d;this._dom&&h.removeChild(this._dom);u=document.createElement("div");u.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;";u.style.backgroundColor=i.get("backgroundColor")||"#fff";e=document.createElement("h4");c=i.get("lang")||[];e.innerHTML=c[0]||i.get("title");e.style.cssText="margin: 10px 20px;";e.style.color=i.get("textColor");f=document.createElement("div");r=document.createElement("textarea");f.style.cssText="display:block;width:100%;overflow:auto;";var p=i.get("optionToContent"),w=i.get("contentToOption"),b=vfu(n);typeof p=="function"?(o=p(t.getOption()),typeof o=="string"?f.innerHTML=o:hl(o)&&f.appendChild(o)):(f.appendChild(r),r.readOnly=i.get("readOnly"),r.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",r.style.color=i.get("textColor"),r.style.borderColor=i.get("textareaBorderColor"),r.style.backgroundColor=i.get("textareaColor"),r.value=b.value);k=b.meta;s=document.createElement("div");s.style.cssText="position:absolute;bottom:0;left:0;right:0;";var l="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",a=document.createElement("div"),v=document.createElement("div");l+=";background-color:"+i.get("buttonColor");l+=";color:"+i.get("buttonTextColor");d=this;bk(a,"click",y);bk(v,"click",function(){var n;try{n=typeof w=="function"?w(f,t.getOption()):bfu(r.value,k)}catch(i){y();throw new Error("Data view format error "+i);}n&&t.dispatchAction({type:"changeDataView",newOption:n});y()});a.innerHTML=c[1];v.innerHTML=c[2];v.style.cssText=l;a.style.cssText=l;i.get("readOnly")||s.appendChild(v);s.appendChild(a);bk(r,"keydown",function(n){if((n.keyCode||n.which)===9){var t=this.value,i=this.selectionStart,r=this.selectionEnd;this.value=t.substring(0,i)+tl+t.substring(r);this.selectionStart=this.selectionEnd=i+1;ye(n)}});u.appendChild(e);u.appendChild(f);u.appendChild(s);f.style.height=h.clientHeight-80+"px";h.appendChild(u);this._dom=u};rb.prototype.remove=function(n,t){this._dom&&t.getDom().removeChild(this._dom)};rb.prototype.dispose=function(n,t){this.remove(n,t)};ov("dataView",rb);ft({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,i){var r=[];t(n.newOption.series,function(n){var t=i.getSeriesByName(n.name)[0],u;t?(u=t.get("data"),r.push({name:n.name,data:kfu(n.data,u)})):r.push(s({type:"scatter"},n))});i.mergeOption(l({series:r},n.newOption))});sbt=t;rut='\0_ec_hist_store';iwt.extend({type:"dataZoom.select"});rwt.extend({type:"dataZoom.select"});var ieu=bc.toolbox.dataZoom,dni=t,reu='\0_ec_\0toolbox-dataZoom_';cbt.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:c(ieu.title)};il=cbt.prototype;il.render=function(n,t,i,r){this.model=n;this.ecModel=t;this.api=i;feu(n,t,this,r,i);ueu(n,t)};il.onclick=function(n,t,i){gni[i].call(this)};il.remove=function(){this._brushController.unmount()};il.dispose=function(){this._brushController.dispose()};gni={zoom:function(){var n=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:n})},back:function(){this._dispatchZoomAction(gfu(this.ecModel))}};il._onBrush=function(n,t){function u(n,t,u){var s=t.getAxis(n),h=s.model,f=e(n,h,i),o=f.findRepresentativeAxisProxy(h).getMinMaxSpan();(o.minValueSpan!=null||o.maxValueSpan!=null)&&(u=ac(0,u.slice(),s.scale.getExtent(),0,o.minValueSpan,o.maxValueSpan));f&&(r[f.id]={dataZoomId:f.id,startValue:u[0],endValue:u[1]})}function e(n,t,i){var r;return i.eachComponent({mainType:"dataZoom",subType:"select"},function(i){var u=i.getAxisModel(n,t.componentIndex);u&&(r=i)}),r}var r,i,f;t.isEnd&&n.length&&(r={},i=this.ecModel,this._brushController.updateCovers([]),f=new ert(ntr(this.model.option),i,{include:["grid"]}),f.matchOutputRanges(n,i,function(n,t,i){if(i.type==="cartesian2d"){var r=n.brushType;r==="rect"?(u("x",i,t[0]),u("y",i,t[1])):u({lineX:"x",lineY:"y"}[r],i,t)}}),dfu(i,r),this._dispatchZoomAction(r))};il._dispatchZoomAction=function(n){var t=[];dni(n,function(n){t.push(c(n))});t.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:t})};ov("dataZoom",cbt);wi(function(n){function f(n,t){if(t){var f=n+"Index",u=t[f];u==null||u=="all"||r(u)||(u=u===!1||u==="none"?[]:[u]);e(n,function(t,r){if(u==null||u=="all"||w(u,r)!==-1){var e={type:"select",$fromToolbox:!0,id:reu+n+r};e[f]=r;i.push(e)}})}}function e(t,i){var u=n[t];r(u)||(u=u?[u]:[]);dni(u,i)}var i,t,u;n&&(i=n.dataZoom||(n.dataZoom=[]),r(i)||(n.dataZoom=i=[i]),t=n.toolbox,t&&(r(t)&&(t=t[0]),t&&t.feature&&(u=t.feature.dataZoom,f("xAxis",u),f("yAxis",u))))});ttr=bc.toolbox.restore;lbt.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:ttr.title};itr=lbt.prototype;itr.onclick=function(n,t){neu(n);t.dispatchAction({type:"restore",from:this.uid})};ov("restore",lbt);ft({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,t){t.resetOption("recreate")});var rtr="urn:schemas-microsoft-com:vml",utr=typeof window=="undefined"?null:window,ftr=!1,uu=utr&&utr.document;if(uu&&!d.canvasSupported)try{uu.namespaces.zrvml||uu.namespaces.add("zrvml",rtr);vbt=function(n){return uu.createElement("<zrvml:"+n+' class="zrvml">')}}catch(nsu){vbt=function(n){return uu.createElement("<"+n+' xmlns="'+rtr+'" class="zrvml">')}}var rl=gr.CMD,ut=Math.round,ub=Math.sqrt,oeu=Math.abs,etr=Math.cos,otr=Math.sin,ybt=Math.max;if(!d.canvasSupported){var ei=",",pbt="progid:DXImageTransform.Microsoft",bt=21600,dr=bt/2,seu=1e5,heu=1e3,wbt=function(n){n.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;";n.coordsize=bt+","+bt;n.coordorigin="0,0"},ceu=function(n){return String(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},str=function(n,t,i){return"rgb("+[n,t,i].join(",")+")"},fe=function(n,t){t&&n&&t.parentNode!==n&&n.appendChild(t)},fb=function(n,t){t&&n&&t.parentNode===n&&n.removeChild(t)},bbt=function(n,t,i){return(parseFloat(n)||0)*seu+(parseFloat(t)||0)*heu+i},htr=function(n,t){return typeof n=="string"?n.lastIndexOf("%")>=0?parseFloat(n)/100*t:parseFloat(n):n},ctr=function(n,t,i){var r=eu(t);i=+i;isNaN(i)&&(i=1);r&&(n.color=str(r[0],r[1],r[2]),n.opacity=i*r[3])},leu=function(n){var t=eu(n);return[str(t[0],t[1],t[2]),t[3]]},aeu=function(n,t,i){var r=t.fill,rt,ut,k,y,e,g,nt;if(r!=null)if(r instanceof vf){var h,f=0,tt=[0,0],p=0,it=1,c=i.getBoundingRect(),l=c.width,a=c.height;if(r.type==="linear"){h="gradient";var o=i.transform,u=[r.x*l,r.y*a],v=[r.x2*l,r.y2*a];o&&(lt(u,u,o),lt(v,v,o));rt=v[0]-u[0];ut=v[1]-u[1];f=Math.atan2(rt,ut)*180/Math.PI;f<0&&(f+=360);f<1e-6&&(f=0)}else{h="gradientradial";var u=[r.x*l,r.y*a],o=i.transform,ft=i.scale,w=l,b=a;tt=[(u[0]-c.x)/w,(u[1]-c.y)/b];o&&lt(u,u,o);w/=ft[0]*bt;b/=ft[1]*bt;k=ybt(w,b);p=0/k;it=2*r.r/k-p}y=r.colorStops.slice();y.sort(function(n,t){return n.offset-t.offset});var d=y.length,s=[],et=[];for(e=0;e<d;e++)g=y[e],nt=leu(g.color),et.push(g.offset*it+p+" "+nt[0]),(e===0||e===d-1)&&s.push(nt);if(d>=2){var ot=s[0][0],st=s[1][0],ht=s[0][1]*t.opacity,ct=s[1][1]*t.opacity;n.type=h;n.method="none";n.focus="100%";n.angle=f;n.color=ot;n.color2=st;n.colors=et.join(",");n.opacity=ct;n.opacity2=ht}h==="radial"&&(n.focusposition=tt.join(","))}else ctr(n,r,t.opacity)},veu=function(n,t){t.lineDash!=null&&(n.dashstyle=t.lineDash.join(" "));t.stroke==null||t.stroke instanceof vf||ctr(n,t.stroke,t.opacity)},uut=function(n,t,i,r){var f=t=="fill",u=n.getElementsByTagName(t)[0];i[t]!=null&&i[t]!=="none"&&(f||!f&&i.lineWidth)?(n[f?"filled":"stroked"]="true",i[t]instanceof vf&&fb(n,u),u||(u=abt(t)),f?aeu(u,i,r):veu(u,i),fe(n,u)):(n[f?"filled":"stroked"]="false",fb(n,u))},fu=[[],[],[]],yeu=function(n,t){for(var wt=rl.M,kt=rl.C,dt=rl.L,gt=rl.A,pt=rl.Q,a=[],s,b,at,h,c,r=n.data,ni=n.len(),u,f,nt,tt,i=0;i<ni;){at=r[i++];b="";s=0;switch(at){case wt:b=" m ";s=1;h=r[i++];c=r[i++];fu[0][0]=h;fu[0][1]=c;break;case dt:b=" l ";s=1;h=r[i++];c=r[i++];fu[0][0]=h;fu[0][1]=c;break;case pt:case kt:b=" c ";s=3;var e=r[i++],o=r[i++],it=r[i++],rt=r[i++],ft,et;at===pt?(ft=it,et=rt,it=(it+2*e)/3,rt=(rt+2*o)/3,e=(h+2*e)/3,o=(c+2*o)/3):(ft=r[i++],et=r[i++]);fu[0][0]=e;fu[0][1]=o;fu[1][0]=it;fu[1][1]=rt;fu[2][0]=ft;fu[2][1]=et;h=ft;c=et;break;case gt:var k=0,d=0,v=1,y=1,vt=0;t&&(k=t[4],d=t[5],v=ub(t[0]*t[0]+t[1]*t[1]),y=ub(t[2]*t[2]+t[3]*t[3]),vt=Math.atan2(-t[1]/y,t[0]/v));var p=r[i++],l=r[i++],ot=r[i++],st=r[i++],ht=r[i++]+vt,yt=r[i++]+ht+vt;i++;var w=r[i++],g=p+etr(ht)*ot,ct=l+otr(ht)*st,e=p+etr(yt)*ot,o=l+otr(yt)*st,ti=w?" wa ":" at ";Math.abs(g-e)<.0001&&(Math.abs(yt-ht)>.01?w&&(g+=270/bt):Math.abs(ct-l)<.0001?w&&g<p||!w&&g>p?o-=270/bt:o+=270/bt:w&&ct<l||!w&&ct>l?e+=270/bt:e-=270/bt);a.push(ti,ut(((p-ot)*v+k)*bt-dr),ei,ut(((l-st)*y+d)*bt-dr),ei,ut(((p+ot)*v+k)*bt-dr),ei,ut(((l+st)*y+d)*bt-dr),ei,ut((g*v+k)*bt-dr),ei,ut((ct*y+d)*bt-dr),ei,ut((e*v+k)*bt-dr),ei,ut((o*y+d)*bt-dr));h=e;c=o;break;case rl.R:u=fu[0];f=fu[1];u[0]=r[i++];u[1]=r[i++];f[0]=u[0]+r[i++];f[1]=u[1]+r[i++];t&&(lt(u,u,t),lt(f,f,t));u[0]=ut(u[0]*bt-dr);f[0]=ut(f[0]*bt-dr);u[1]=ut(u[1]*bt-dr);f[1]=ut(f[1]*bt-dr);a.push(" m ",u[0],ei,u[1]," l ",f[0],ei,u[1]," l ",f[0],ei,f[1]," l ",u[0],ei,f[1]);break;case rl.Z:a.push(" x ")}if(s>0)for(a.push(b),nt=0;nt<s;nt++)tt=fu[nt],t&&lt(tt,tt,t),a.push(ut(tt[0]*bt-dr),ei,ut(tt[1]*bt-dr),nt<s-1?ei:"")}return a.join("")};tt.prototype.brushVML=function(n){var i=this.style,t=this._vmlEl,f,o,u;t||(t=abt("shape"),wbt(t),this._vmlEl=t);uut(t,"fill",i,this);uut(t,"stroke",i,this);var r=this.transform,s=r!=null,e=t.getElementsByTagName("stroke")[0];e&&(f=i.lineWidth,s&&!i.strokeNoScale&&(o=r[0]*r[3]-r[1]*r[2],f*=ub(oeu(o))),e.weight=f+"px");u=this.path||(this.path=new gr);this.__dirtyPath&&(u.beginPath(),this.buildPath(u,this.shape),u.toStatic(),this.__dirtyPath=!1);t.path=yeu(u,this.transform);t.style.zIndex=bbt(this.zlevel,this.z,this.z2);fe(n,t);i.text!=null?this.drawRectText(n,this.getBoundingRect()):this.removeRectText(n)};tt.prototype.onRemove=function(n){fb(n,this._vmlEl);this.removeRectText(n)};tt.prototype.onAdd=function(n){fe(n,this._vmlEl);this.appendRectText(n)};ltr=function(n){return typeof n=="object"&&n.tagName&&n.tagName.toUpperCase()==="IMG"};gi.prototype.brushVML=function(n){var r=this.style,u=r.image,s,h,nt,y,i,p,b,et,ot,st,ht;if(ltr(u)){if(nt=u.src,nt===this._imageSrc)s=this._imageWidth,h=this._imageHeight;else{var w=u.runtimeStyle,pt=w.width,wt=w.height;w.width="auto";w.height="auto";s=u.width;h=u.height;w.width=pt;w.height=wt;this._imageSrc=nt;this._imageWidth=s;this._imageHeight=h}u=nt}else u===this._imageSrc&&(s=this._imageWidth,h=this._imageHeight);if(u){var c=r.x||0,l=r.y||0,a=r.width,v=r.height,k=r.sWidth,d=r.sHeight,ct=r.sx||0,at=r.sy||0,bt=k&&d,f=this._vmlEl;f||(f=uu.createElement("div"),wbt(f),this._vmlEl=f);var g=f.style,vt=!1,t,e=1,o=1;if(this.transform&&(t=this.transform,e=ub(t[0]*t[0]+t[1]*t[1]),o=ub(t[2]*t[2]+t[3]*t[3]),vt=t[1]||t[2]),vt){var tt=[c,l],it=[c+a,l],rt=[c,l+v],ft=[c+a,l+v];lt(tt,tt,t);lt(it,it,t);lt(rt,rt,t);lt(ft,ft,t);var kt=ybt(tt[0],it[0],rt[0],ft[0]),dt=ybt(tt[1],it[1],rt[1],ft[1]),yt=[];yt.push("M11=",t[0]/e,ei,"M12=",t[2]/o,ei,"M21=",t[1]/e,ei,"M22=",t[3]/o,ei,"Dx=",ut(c*e+t[4]),ei,"Dy=",ut(l*o+t[5]));g.padding="0 "+ut(kt)+"px "+ut(dt)+"px 0";g.filter=pbt+".Matrix("+yt.join("")+", SizingMethod=clip)"}else t&&(c=c*e+t[4],l=l*o+t[5]),g.filter="",g.left=ut(c)+"px",g.top=ut(l)+"px";y=this._imageEl;i=this._cropEl;y||(y=uu.createElement("div"),this._imageEl=y);p=y.style;bt?(s&&h?(p.width=ut(e*s*a/k)+"px",p.height=ut(o*h*v/d)+"px"):(b=new Image,et=this,b.onload=function(){b.onload=null;s=b.width;h=b.height;p.width=ut(e*s*a/k)+"px";p.height=ut(o*h*v/d)+"px";et._imageWidth=s;et._imageHeight=h;et._imageSrc=u},b.src=u),i||(i=uu.createElement("div"),i.style.overflow="hidden",this._cropEl=i),ot=i.style,ot.width=ut((a+ct*a/k)*e),ot.height=ut((v+at*v/d)*o),ot.filter=pbt+".Matrix(Dx="+-ct*a/k*e+",Dy="+-at*v/d*o+")",i.parentNode||f.appendChild(i),y.parentNode!=i&&i.appendChild(y)):(p.width=ut(e*a)+"px",p.height=ut(o*v)+"px",f.appendChild(y),i&&i.parentNode&&(f.removeChild(i),this._cropEl=null));st="";ht=r.opacity;ht<1&&(st+=".Alpha(opacity="+ut(ht*100)+") ");st+=pbt+".AlphaImageLoader(src="+u+", SizingMethod=scale)";p.filter=st;f.style.zIndex=bbt(this.zlevel,this.z,this.z2);fe(n,f);r.text!=null&&this.drawRectText(n,this.getBoundingRect())}};gi.prototype.onRemove=function(n){fb(n,this._vmlEl);this._vmlEl=null;this._cropEl=null;this._imageEl=null;this.removeRectText(n)};gi.prototype.onAdd=function(n){fe(n,this._vmlEl);this.appendRectText(n)};var kbt="normal",dbt={},gbt=0,peu=100,weu=document.createElement("div"),beu=function(n){var i=dbt[n],t,r;if(!i){gbt>peu&&(gbt=0,dbt={});t=weu.style;try{t.font=n;r=t.fontFamily.split(",")[0]}catch(u){}i={style:t.fontStyle||kbt,variant:t.fontVariant||kbt,weight:t.fontWeight||kbt,size:parseFloat(t.fontSize||12)|0,family:r||"Microsoft YaHei"};dbt[n]=i;gbt++}return i},ks;yrr("measureText",function(n,t){var i=uu;ks||(ks=i.createElement("div"),ks.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",uu.body.appendChild(ks));try{ks.style.font=t}catch(r){}return ks.innerHTML="",ks.appendChild(i.createTextNode(n)),{width:ks.offsetWidth}});var nkt=new p,keu=function(n,t,i,r){var f=this.style,e,it,g,rt,ft,nt,o,y,ot,p,w,u,b,l,s,k,d;if(this.__dirty&&ay(f,!0),e=f.text,e!=null&&(e+=""),e){if(f.rich){for(it=oet(e,f),e=[],g=0;g<it.lines.length;g++){for(rt=it.lines[g].tokens,ft=[],nt=0;nt<rt.length;nt++)ft.push(rt[nt].text);e.push(ft.join(""))}e=e.join("\n")}var c,h,a=f.textAlign,tt=f.textVerticalAlign,v=beu(f.font),et=v.style+" "+v.variant+" "+v.weight+" "+v.size+'px "'+v.family+'"';i=i||ve(e,et,a,tt);o=this.transform;o&&!r&&(nkt.copy(t),nkt.applyTransform(o),t=nkt);r?(c=t.x,h=t.y):(y=f.textPosition,ot=f.textDistance,y instanceof Array?(c=t.x+htr(y[0],t.width),h=t.y+htr(y[1],t.height),a=a||"left"):(p=eet(y,t,ot),c=p.x,h=p.y,a=a||p.textAlign,tt=tt||p.textVerticalAlign));c=cy(c,i.width,a);h=ly(h,i.height,tt);h+=i.height/2;w=abt;u=this._textVmlEl;u?(s=u.firstChild,b=s.nextSibling,l=b.nextSibling):(u=w("line"),b=w("path"),l=w("textpath"),s=w("skew"),l.style["v-text-align"]="left",wbt(u),b.textpathok=!0,l.on=!0,u.from="0 0",u.to="1000 0.05",fe(u,s),fe(u,b),fe(u,l),this._textVmlEl=u);k=[c,h];d=u.style;o&&r?(lt(k,k,o),s.on=!0,s.matrix=o[0].toFixed(3)+ei+o[2].toFixed(3)+ei+o[1].toFixed(3)+ei+o[3].toFixed(3)+",0,0",s.offset=(ut(k[0])||0)+","+(ut(k[1])||0),s.origin="0 0",d.left="0px",d.top="0px"):(s.on=!1,d.left=ut(c)+"px",d.top=ut(h)+"px");l.string=ceu(e);try{l.style.font=et}catch(st){}uut(u,"fill",{fill:f.textFill,opacity:f.opacity},this);uut(u,"stroke",{stroke:f.textStroke,opacity:f.opacity,lineDash:f.lineDash},this);u.style.zIndex=bbt(this.zlevel,this.z,this.z2);fe(n,u)}},deu=function(n){fb(n,this._textVmlEl);this._textVmlEl=null},geu=function(n){fe(n,this._textVmlEl)},atr=[vy,ou,gi,tt,b];for(fut=0;fut<atr.length;fut++)eut=atr[fut].prototype,eut.drawRectText=keu,eut.removeRectText=deu,eut.appendRectText=geu;b.prototype.brushVML=function(n){var t=this.style;t.text!=null?this.drawRectText(n,{x:t.x||0,y:t.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(n)};b.prototype.onRemove=function(n){this.removeRectText(n)};b.prototype.onAdd=function(n){this.appendRectText(n)}}out.prototype={constructor:out,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var n=this.getViewportRoot();if(n)return{offsetLeft:n.offsetLeft||0,offsetTop:n.offsetTop||0}},refresh:function(){var n=this.storage.getDisplayList(!0,!0);this._paintList(n)},_paintList:function(n){for(var t,i=this._vmlRoot,r=0;r<n.length;r++){if(t=n[r],t.invisible||t.ignore){if(!t.__alreadyNotVisible)t.onRemove(i);t.__alreadyNotVisible=!0}else{if(t.__alreadyNotVisible)t.onAdd(i);t.__alreadyNotVisible=!1;t.__dirty&&(t.beforeBrush&&t.beforeBrush(),(t.brushVML||t.brush).call(t,i),t.afterBrush&&t.afterBrush())}t.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(i),this._firstPaint=!1)},resize:function(n,t){var n=n==null?this._getWidth():n,t=t==null?this._getHeight():t,i;(this._width!=n||this._height!=t)&&(this._width=n,this._height=t,i=this._vmlViewport.style,i.width=n+"px",i.height=t+"px")},dispose:function(){this.root.innerHTML="";this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var t=this.root,n=t.currentStyle;return(t.clientWidth||lv(n.width))-lv(n.paddingLeft)-lv(n.paddingRight)|0},_getHeight:function(){var t=this.root,n=t.currentStyle;return(t.clientHeight||lv(n.height))-lv(n.paddingTop)-lv(n.paddingBottom)|0}};t(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(n){out.prototype[n]=nou(n)});rot("vml",out);vtr="http://www.w3.org/2000/svg";var fl=gr.CMD,tou=Array.prototype.join,el="none",tkt=Math.round,ytr=Math.sin,ptr=Math.cos,ikt=Math.PI,sut=Math.PI*2,iou=180/ikt,wtr=.0001;av={};av.brush=function(n){var u=n.style,t=n.__svgEl,i,r;t||(t=ul("path"),n.__svgEl=t);n.path||n.createPathProxy();i=n.path;n.__dirtyPath&&(i.beginPath(),n.buildPath(i,n.shape),n.__dirtyPath=!1,r=eou(i),r.indexOf("NaN")<0&&ht(t,"d",r));btr(t,u);ukt(t,n.transform);u.text!=null&&lut(n,n.getBoundingRect())};hut={};hut.brush=function(n){var r=n.style,i=r.image,u;if(i instanceof HTMLImageElement&&(u=i.src,i=u),i){var f=r.x||0,e=r.y||0,o=r.width,s=r.height,t=n.__svgEl;t||(t=ul("image"),n.__svgEl=t);i!==n.__imageSrc&&(fou(t,"href",i),n.__imageSrc=i);ht(t,"width",o);ht(t,"height",s);ht(t,"x",f);ht(t,"y",e);ukt(t,n.transform);r.text!=null&&lut(n,n.getBoundingRect())}};var cut={},fkt=new p,lut=function(n,t,i){var r=n.style,h,o,g,p,c,w,k,u,a,v,rt,f,e;if(n.__dirty&&ay(r,!0),h=r.text,h!=null){h+="";o=n.__textSvgEl;o||(o=ul("text"),n.__textSvgEl=o);btr(o,r,!0);n instanceof b||n.style.transformText?ukt(o,n.transform):n.transform?(fkt.copy(t),fkt.applyTransform(n.transform),t=fkt):(g=n.transformCoordToGlobal(t.x,t.y),t.x=g[0],t.y=g[1]);var s,y,d=r.textPosition,ut=r.textDistance,nt=r.textAlign||"left";typeof r.fontSize=="number"&&(r.fontSize+="px");p=r.font||[r.fontStyle||"",r.fontWeight||"",r.fontSize||"",r.fontFamily||""].join(" ")||hy;c=ktr(r.textVerticalAlign);i=ve(h,p,nt,c);w=i.lineHeight;d instanceof Array?(s=t.x+d[0],y=t.y+d[1]):(k=eet(d,t,ut),s=k.x,y=k.y,c=ktr(k.textVerticalAlign),nt=k.textAlign);ht(o,"alignment-baseline",c);p&&(o.style.font=p);u=r.textPadding;ht(o,"x",s);ht(o,"y",y);var tt=h.split("\n"),it=tt.length,l=nt;if(l==="left"?(l="start",u&&(s+=u[3])):l==="right"?(l="end",u&&(s-=u[1])):l==="center"&&(l="middle",u&&(s+=(u[3]-u[1])/2)),a=0,c==="baseline"?(a=-i.height+w,u&&(a-=u[2])):c==="middle"?(a=(-i.height+w)/2,u&&(y+=(u[0]-u[2])/2)):u&&(a+=u[0]),n.__text!==h||n.__textFont!==p){for(v=n.__tspanList||[],n.__tspanList=v,f=0;f<it;f++)e=v[f],e?e.innerHTML="":(e=v[f]=ul("tspan"),o.appendChild(e),ht(e,"alignment-baseline",c),ht(e,"text-anchor",l)),ht(e,"x",s),ht(e,"y",y+f*w+a),e.appendChild(document.createTextNode(tt[f]));for(;f<v.length;f++)o.removeChild(v[f]);v.length=it;n.__text=h;n.__textFont=p}else if(n.__tspanList.length)for(rt=n.__tspanList.length,f=0;f<rt;++f)e=n.__tspanList[f],e&&(ht(e,"x",s),ht(e,"y",y+f*w+a))}};cut.drawRectText=lut;cut.brush=function(n){var t=n.style;t.text!=null&&(t.textPosition=[0,0],lut(n,{x:t.x||0,y:t.y||0,width:0,height:0},n.getBoundingRect()))};dtr.prototype={diff:function(n,t,i){function v(){for(var a,v,i=-1*o;i<=o;i+=2){var s,h=r[i-1],c=r[i+1],l=(c?c.newPos:0)-i;if(h&&(r[i-1]=undefined),a=h&&h.newPos+1<f,v=c&&0<=l&&l<e,!a&&!v){r[i]=undefined;continue}if(!a||v&&h.newPos<c.newPos?(s=sou(c),u.pushComponent(s.components,undefined,!0)):(s=h,s.newPos++,u.pushComponent(s.components,!0,undefined)),l=u.extractCommon(s,t,n,i),s.newPos+1>=f&&l+1>=e)return oou(u,s.components,t,n);r[i]=s}o++}var u,h,s,c;i||(i=function(n,t){return n===t});this.equals=i;u=this;n=n.slice();t=t.slice();var f=t.length,e=n.length,o=1,l=f+e,r=[{newPos:-1,components:[]}],a=this.extractCommon(r[0],t,n,0);if(r[0].newPos+1>=f&&a+1>=e){for(h=[],s=0;s<t.length;s++)h.push(s);return[{indices:h,count:t.length}]}while(o<=l)if(c=v(),c)return c},pushComponent:function(n,t,i){var r=n[n.length-1];r&&r.added===t&&r.removed===i?n[n.length-1]={count:r.count+1,added:t,removed:i}:n.push({count:1,added:t,removed:i})},extractCommon:function(n,t,i,r){for(var o=t.length,s=i.length,u=n.newPos,f=u-r,e=0;u+1<o&&f+1<s&&this.equals(t[u+1],i[f+1]);)u++,f++,e++;return e&&n.components.push({count:e}),n.newPos=u,f},tokenize:function(n){return n.slice()},join:function(n){return n.slice()}};var hou=new dtr,cou=function(n,t,i){return hou.diff(n,t,i)},lou="0",gtr="1";oi.prototype.createElement=ul;oi.prototype.getDefs=function(n){var i=this._svgRoot,t=this._svgRoot.getElementsByTagName("defs");return t.length===0?n?(t=i.insertBefore(this.createElement("defs"),i.firstChild),t.contains||(t.contains=function(n){var r=t.children,i;if(!r)return!1;for(i=r.length-1;i>=0;--i)if(r[i]===n)return!0;return!1}),t):null:t[0]};oi.prototype.update=function(n,t){var r,i;n&&(r=this.getDefs(!1),n._dom&&r.contains(n._dom)?typeof t=="function"&&t():(i=this.add(n),i&&(n._dom=i)))};oi.prototype.addDom=function(n){var t=this.getDefs(!0);t.appendChild(n)};oi.prototype.removeDom=function(n){var t=this.getDefs(!1);t.removeChild(n._dom)};oi.prototype.getDoms=function(){var i=this.getDefs(!1),n;return i?(n=[],t(this._tagNames,function(t){var r=i.getElementsByTagName(t);n=n.concat([].slice.call(r))}),n):[]};oi.prototype.markAllUnused=function(){var n=this.getDoms(),i=this;t(n,function(n){n[i._markLabel]=lou})};oi.prototype.markUsed=function(n){n&&(n[this._markLabel]=gtr)};oi.prototype.removeUnused=function(){var n=this.getDefs(!1),i,r;n&&(i=this.getDoms(),r=this,t(i,function(t){t[r._markLabel]!==gtr&&n.removeChild(t)}))};oi.prototype.getSvgProxy=function(n){return n instanceof tt?av:n instanceof gi?hut:n instanceof b?cut:av};oi.prototype.getTextSvgElement=function(n){return n.__textSvgEl};oi.prototype.getSvgElement=function(n){return n.__svgEl};st(ol,oi);ol.prototype.addWithoutUpdate=function(n,i){if(i&&i.style){var r=this;t(["fill","stroke"],function(t){var u,e,f,o;i.style[t]&&(i.style[t].type==="linear"||i.style[t].type==="radial")&&(u=i.style[t],e=r.getDefs(!0),u._dom?(f=u._dom,e.contains(u._dom)||r.addDom(f)):f=r.add(u),r.markUsed(i),o=f.getAttribute("id"),n.setAttribute(t,"url(#"+o+")"))})}};ol.prototype.add=function(n){var t;if(n.type==="linear")t=this.createElement("linearGradient");else if(n.type==="radial")t=this.createElement("radialGradient");else return ae("Illegal gradient type."),null;return n.id=n.id||this.nextId++,t.setAttribute("id","zr-gradient-"+n.id),this.updateDom(n,t),this.addDom(t),t};ol.prototype.update=function(n){var t=this;oi.prototype.update.call(this,n,function(){var i=n.type,r=n._dom.tagName;i==="linear"&&r==="linearGradient"||i==="radial"&&r==="radialGradient"?t.updateDom(n,n._dom):(t.removeDom(n),t.add(n))})};ol.prototype.updateDom=function(n,t){var r,i,f,u;if(n.type==="linear")t.setAttribute("x1",n.x),t.setAttribute("y1",n.y),t.setAttribute("x2",n.x2),t.setAttribute("y2",n.y2);else if(n.type==="radial")t.setAttribute("cx",n.x),t.setAttribute("cy",n.y),t.setAttribute("r",n.r);else{ae("Illegal gradient type.");return}for(n.global?t.setAttribute("gradientUnits","userSpaceOnUse"):t.setAttribute("gradientUnits","objectBoundingBox"),t.innerHTML="",r=n.colorStops,i=0,f=r.length;i<f;++i)u=this.createElement("stop"),u.setAttribute("offset",r[i].offset*100+"%"),u.setAttribute("stop-color",r[i].color),t.appendChild(u);n._dom=t};ol.prototype.markUsed=function(n){if(n.style){var t=n.style.fill;t&&t._dom&&oi.prototype.markUsed.call(this,t._dom);t=n.style.stroke;t&&t._dom&&oi.prototype.markUsed.call(this,t._dom)}};st(eb,oi);eb.prototype.update=function(n){var i=this.getSvgElement(n),t;i&&this.updateDom(i,n.__clipPaths,!1);t=this.getTextSvgElement(n);t&&this.updateDom(t,n.__clipPaths,!0);this.markUsed(n)};eb.prototype.updateDom=function(n,t,i){var s,h,c;if(t&&t.length>0){var o=this.getDefs(!0),r=t[0],u,f,e=i?"_textDom":"_dom";r[e]?(f=r[e].getAttribute("id"),u=r[e],o.contains(u)||o.appendChild(u)):(f="zr-clip-"+this.nextId,++this.nextId,u=this.createElement("clipPath"),u.setAttribute("id",f),o.appendChild(u),r[e]=u);s=this.getSvgProxy(r);r.transform&&r.parent.invTransform&&!i?(h=Array.prototype.slice.call(r.transform),ih(r.transform,r.parent.invTransform,r.transform),s.brush(r),r.transform=h):s.brush(r);c=this.getSvgElement(r);u.appendChild(c.cloneNode());n.setAttribute("clip-path","url(#"+f+")");t.length>1&&this.updateDom(u,t.slice(1),i)}else n&&n.setAttribute("clip-path","none")};eb.prototype.markUsed=function(n){var i=this;n.__clipPaths&&n.__clipPaths.length>0&&t(n.__clipPaths,function(n){n._dom&&oi.prototype.markUsed.call(i,n._dom);n._textDom&&oi.prototype.markUsed.call(i,n._textDom)})};ob=function(n,t){var i,r;this.root=n;this.storage=t;i=ul("svg");i.setAttribute("xmlns","http://www.w3.org/2000/svg");i.setAttribute("version","1.1");i.setAttribute("baseProfile","full");i.style["user-select"]="none";this.gradientManager=new ol(i);this.clipPathManager=new eb(i);r=document.createElement("div");r.style.cssText="overflow: hidden;";this._svgRoot=i;this._viewport=r;n.appendChild(r);r.appendChild(i);this.resize();this._visibleList=[]};ob.prototype={constructor:ob,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var n=this.getViewportRoot();if(n)return{offsetLeft:n.offsetLeft||0,offsetTop:n.offsetTop||0}},refresh:function(){var n=this.storage.getDisplayList(!0);this._paintList(n)},_paintList:function(n){var l,c,o,u,r,t;this.gradientManager.markAllUnused();this.clipPathManager.markAllUnused();for(var e=this._svgRoot,a=this._visibleList,v=n.length,h=[],i=0;i<v;i++)t=n[i],l=aou(t),t.invisible||(t.__dirty&&(l&&l.brush(t),this.clipPathManager.update(t),t.style&&(this.gradientManager.update(t.style.fill),this.gradientManager.update(t.style.stroke)),t.__dirty=!1),h.push(t));for(c=cou(a,h),i=0;i<c.length;i++)if(u=c[i],u.removed)for(r=0;r<u.count;r++){var t=a[u.indices[r]],f=okt(t),s=ekt(t);iir(e,f);iir(e,s)}for(i=0;i<c.length;i++)if(u=c[i],u.added)for(r=0;r<u.count;r++){var t=h[u.indices[r]],f=okt(t),s=ekt(t);o?aut(e,f,o):tir(e,f);f?aut(e,s,f):o?aut(e,s,o):tir(e,s);aut(e,s,f);o=s||f||o;this.gradientManager.addWithoutUpdate(f,t);this.clipPathManager.markUsed(t)}else if(!u.removed)for(r=0;r<u.count;r++)t=h[u.indices[r]],o=f=ekt(t)||okt(t)||o,this.gradientManager.markUsed(t),this.gradientManager.addWithoutUpdate(f,t),this.clipPathManager.markUsed(t);this.gradientManager.removeUnused();this.clipPathManager.removeUnused();this._visibleList=h},_getDefs:function(n){var i=this._svgRoot,t=this._svgRoot.getElementsByTagName("defs");return t.length===0?n?(t=i.insertBefore(ul("defs"),i.firstChild),t.contains||(t.contains=function(n){var r=t.children,i;if(!r)return!1;for(i=r.length-1;i>=0;--i)if(r[i]===n)return!0;return!1}),t):null:t[0]},resize:function(){var n=this._getWidth(),t=this._getHeight(),i,r;this._width!==n&&this._height!==t&&(this._width=n,this._height=t,i=this._viewport.style,i.width=n+"px",i.height=t+"px",r=this._svgRoot,r.setAttribute("width",n),r.setAttribute("height",t))},getWidth:function(){return this._getWidth()},getHeight:function(){return this._getHeight()},_getWidth:function(){var t=this.root,n=document.defaultView.getComputedStyle(t);return(t.clientWidth||vv(n.width))-vv(n.paddingLeft)-vv(n.paddingRight)|0},_getHeight:function(){var t=this.root,n=document.defaultView.getComputedStyle(t);return(t.clientHeight||vv(n.height))-vv(n.paddingTop)-vv(n.paddingBottom)|0},dispose:function(){this.root.innerHTML="";this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToSvg:function(){this.refresh();var n=this._svgRoot.outerHTML;return"data:img/svg+xml;utf-8,"+unescape(n)}};t(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(n){ob.prototype[n]=vou(n)});rot("svg",ob);n.version=bri;n.dependencies=hht;n.PRIORITY=ea;n.init=ihr;n.connect=rhr;n.disConnect=aui;n.disconnect=vui;n.dispose=uhr;n.getInstanceByDom=wht;n.getInstanceById=fhr;n.registerTheme=ehr;n.registerPreprocessor=wi;n.registerProcessor=tf;n.registerPostUpdate=ohr;n.registerAction=ft;n.registerCoordinateSystem=bht;n.getCoordinateSystemDimensions=shr;n.registerLayout=ni;n.registerVisual=pt;n.registerLoading=yui;n.extendComponentModel=iu;n.extendComponentView=yi;n.extendSeriesModel=sp;n.extendChartView=sr;n.setCanvasCreator=hhr;n.registerMap=chr;n.getMap=tn;n.dataTool=pui;n.zrender=unt;n.graphic=nf;n.number=lnt;n.format=nfr;n.throttle=sht;n.helper=afi;n.matrix=bir;n.vector=ndt;n.color=ldt;n.util=sct;n.List=yt;n.Model=it;n.Axis=ri;n.env=d;n.parseGeoJson=oct});
/*
//# sourceMappingURL=echarts.min.js.map
*/