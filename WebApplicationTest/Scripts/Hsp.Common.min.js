HSP.CONST.PAGE_INDEX=0;HSP.CONST.PAGE_SIZE=0;HSP.CONST.PAGE_LIST=[100,50,20];HSP.CONST.HEIGHT_OFFSET=0;HSP.Common.AvailWidth=function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth};HSP.Common.AvailHeight=function(){var i=window.screen.availHeight-(window.screenTop?window.screenTop:0),r=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,n=Math.min(i,r),t=HSP.Common.BrowserScaling();return HSP.Browser.IS_EDGE&&(t==100&&(n-=-60),t==125&&(n-=-26),t==150&&(n-=-8),t==175&&(n-=2)),HSP.Browser.IS_GC&&!HSP.Browser.IS_EDGE&&(n-=59),HSP.Browser.IS_FF&&(n-=16),HSP.Browser.IS_IE&&(t==100&&(n-=3),t==125&&(n-=18),t==150&&(n-=19),t==175&&(n-=19)),n};HSP.Common.BrowserScaling=function(){var n=0,t=window.screen,i=navigator.userAgent.toLowerCase();return window.devicePixelRatio!==undefined?n=window.devicePixelRatio:~i.indexOf("msie")?t.deviceXDPI&&t.logicalXDPI&&(n=t.deviceXDPI/t.logicalXDPI):window.outerWidth!==undefined&&window.innerWidth!==undefined&&(n=window.outerWidth/window.innerWidth),n&&(n=Math.round(n*100)),n};HSP.Common.PagingParameters=function(){var n=HSP.Common.BrowserScaling();HSP.Browser.IS_EDGE&&(n<125?(HSP.CONST.PAGE_SIZE=25,HSP.CONST.PAGE_LIST=[25,50,100]):n<150?(HSP.CONST.PAGE_SIZE=20,HSP.CONST.PAGE_LIST=[20,30,50]):n<175?(HSP.CONST.PAGE_SIZE=15,HSP.CONST.PAGE_LIST=[15,30,50]):(HSP.CONST.PAGE_SIZE=10,HSP.CONST.PAGE_LIST=[10,25,50]));HSP.Browser.IS_GC&&!HSP.Browser.IS_EDGE&&(n<150?(HSP.CONST.PAGE_SIZE=20,HSP.CONST.PAGE_LIST=[50,30,20]):n<175?(HSP.CONST.PAGE_SIZE=15,HSP.CONST.PAGE_LIST=[50,30,15]):(HSP.CONST.PAGE_SIZE=15,HSP.CONST.PAGE_LIST=[50,30,15]));HSP.Browser.IS_FF&&(HSP.CONST.PAGE_SIZE=15,HSP.CONST.PAGE_LIST=[50,30,15]);(HSP.Browser.IS_IE||HSP.Browser.IS_IE11)&&(n<125?(HSP.CONST.PAGE_SIZE=25,HSP.CONST.PAGE_LIST=[100,50,25]):n<150?(HSP.CONST.PAGE_SIZE=20,HSP.CONST.PAGE_LIST=[50,30,20]):n<175?(HSP.CONST.PAGE_SIZE=15,HSP.CONST.PAGE_LIST=[50,30,15]):(HSP.CONST.PAGE_SIZE=10,HSP.CONST.PAGE_LIST=[50,25,10]))};HSP.Common.Dialog=function(n,t,i,r,u,f){var e=600,o=300;i&&(e=i.width,o=i.height);n.dialog({title:" "+t,collapsible:!1,minimizable:!1,maximizable:!1,resizable:!0,width:e,height:o,modal:!0,onClose:function(){$(document).unbind("click");$(this).children()&&$(this).children().remove();try{f&&typeof f=="function"&&f()}catch(n){}$(this).window("destroy")}});r&&n.dialog({buttons:r});u&&n.dialog({toolbar:u})};HSP.Common.Window=function(n,t,i,r){var e=document.body.clientWidth,o=window.parent.document.body.clientWidth,u=700,f=300;i&&(u=i.width,f=i.height);n.window({title:t,width:u,height:f,modal:!0,iconCls:"icon-win",shadow:!1,minimizable:!1,maximizable:!1,resizable:!1,collapsible:!1,onClose:function(){$(document).unbind("click");r&&($(this).children()&&$(this).children().remove(),$(this).window("destroy"))}}).fadeIn(500)};HSP.Common.InitDialogDiv=function(n){var i=0<=navigator.userAgent.indexOf("MSIE"),u=0<=navigator.userAgent.indexOf("Chrome/"),f=$(".window-div"),t=$(".content-div",n)[0],r=$(".btn-div",n)[0];f.css("background-color","#f1f1f1");$(t).attr("style","background-color: #fbfbfb; margin:5px; overflow:hidden; border:1px solid silver;");i?$(t).css("width",$(n).width()-11).css("height",$(n).height()-40):u?$(t).css("width",$(n).width()-25).css("height",$(n).height()-53):$(t).css("width",$(n).width()-11).css("height",$(n).height()-53);$.each($(".row-div",t),function(t,r){$(r).attr("style","height:24px; margin-left:8px; margin-top:8px; display:block;");i?$(r).css("width",$(n).width()-18):$(r).css("width",$(n).width()-32)});$(r).attr("style","margin-top:5px; margin-left:5px; overflow:hidden; text-align:right; ").css("width",$(n).width()-10);i?$(":button",r).css("height","24px"):u&&$(":button",r).css("height","28px").css("margin-right","14px")};HSP.Common.BeautifulWindow=function(n,t,i,r){var c=document.body.clientWidth,l=window.parent.document.body.clientWidth,e=700,o=300,u=0,f=0,h,s;i&&(e=i.width,o=i.height);i&&i.top?u=i.top:(h=Math.max(document.body.scrollTop,document.documentElement.scrollTop),u=(HSP.Common.AvailHeight()-o)/2,u+=h,u=u<0?5:u);i&&i.left?f=i.left:(s=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,f=c==l?(s-e)/2:Math.abs(s-e)/2,f=f<0?5:f);n.window({title:t,width:e,height:o,top:u,left:f,modal:!0,iconCls:"icon-win",shadow:!1,minimizable:!1,maximizable:!1,resizable:!1,collapsible:!1,onClose:function(){$(this).children()&&$(this).children().remove();r&&r();$(this).window("destroy")}}).fadeIn(300)};HSP.Common.SelectIcon=function(n,t,i){var u=417,f=$('            <div id="IconSelectionDailog" style="padding:5px;">                <div id="layout" class="easyui-layout" style="height: '+(u-41)+'px;">                    <div region="west" title="图标目录" split="true" style="width:240px; margin:0px; padding:5px;">                        <ul id="IconDirectoryTree" class="ztree" style=" background:none;margin-bottom:5px;"><\/ul>                    <\/div>                    <div region="center" title="图标选择">                        <div id="IconGrid" style="padding:2px;"><\/div>                    <\/div>                    <div region="south" border="false" style="height:40px; padding:0px; overflow:hidden;">                        <div style="padding:2px; width: 200px; display:block; float:left;">                            <div class="checkbox"><label>                            <input id="selectAll" type="checkbox"> 全选                            <\/label><\/div>                        <\/div>                        <div style="padding:3px 0px 0px 0px; display:block; float:right;">                            <input type="button" value="确定" id="selectIconBtnOk" style="width:74px;" />                            <input type="button" value="取消" id="selectIconBtnCancel" style="width:74px;" />                        <\/div>                    <\/div>                <\/div>            <\/div>            '),r;HSP.Common.Window(f,"图标选择对话框 - "+(t?"多选":"单选"),{width:642,height:u});$.parser.parse("#IconSelectionDailog");$("#selectIconBtnOk").click(function(){i&&(n.clear(),$('input[name="radioIcon"]:checked').each(function(){var t=$(this).val().replace(/\\/g,"/"),i={imgName:$(this).attr("imgName"),imgPath:t,imgExt:$(this).attr("imgExt"),width:$(this).attr("width"),height:$(this).attr("height")};n.push(i)}),i(n),$("#IconSelectionDailog").window("destroy"))});$("#selectIconBtnCancel").click(function(){$("#IconSelectionDailog").window("destroy")});$("#selectAll").change(function(){var n=this.checked;$('input[name="radioIcon"]').each(function(){this.checked=n})});r=function(n){$.get("/Handler/IconsHandler.ashx?OPERATION=PATHICONS&path="+n+"&rnd="+Math.random()*10,function(n){var r;if(n&&n.length>0){var f=t?"checkbox":"radio",i=n,u="";i.length>0&&(r="img32",i.length>50&&(r="img16"),$.each(i,function(){u+='<span title="'+this.Name+"("+this.Width+"X"+this.Height+')" class="imgspan"><img src="'+this.FullName+'" class="'+r+'" /><input name="radioIcon" imgExt="'+this.Extension+'" imgName="'+this.Name+'" width="'+this.Width+'" height="'+this.Height+'" type="'+f+'" value="'+this.FullName+'" />&nbsp;&nbsp;<\/span>'}));$("#IconGrid").html(u)}})};$.fn.zTree.init($("#IconDirectoryTree"),{view:{selectedMulti:!1},async:{enable:!0,url:"/Handler/IconsHandler.ashx?OPERATION=ICONDATA&rnd="+Math.random()*10,autoParam:["id","name","level","pId"],otherParam:{icon:"icon"},dataFilter:function(n,t,i){if(!i)return null;for(var r=0,u=i.length;r<u;r++)i[r].name=i[r].name.replace(/\.n/g,".");return i}},data:{simpleData:{enable:!0}},callback:{onClick:function(n,t,i){r(i.id)},beforeAsync:function(){return $(this).html("<img src='/Images/loading.gif' id='imgloading'/>"),!0},onAsyncSuccess:function(n,t,i,r){var o,u,f,e;($(this).find("#imgloading").remove(),o=$.parseJSON(r),u=$.fn.zTree.getZTreeObj(this),u!=null)&&(f=u.getNodes(),f&&f.length>0&&u.expandNode(f[0],!0,!1,!0,!0),e=u.getNodes()[0],u.selectNode(e))}}});r("");n&&n.length};HSP.Common.Guid=function(){for(var i,t="",n=1;n<=32;n++)i=Math.floor(Math.random()*16).toString(16),t+=i,(n==8||n==12||n==16||n==20)&&(t+="-");return t.toUpperCase()};HSP.Common.ObjToString=function(n){var t=[],i,r;if(typeof n=="string")return'"'+n.replace(/(['\"\\])/g,"\\$1").replace(/(\n)/g,"\\n").replace(/(\r)/g,"\\r").replace(/(\t)/g,"\\t")+'"';if(typeof n=="undefined")return"undefined";if(typeof n=="object"){if(n===null)return"null";if(n.sort){for(r=0;r<n.length;r++)t.push(HSP.Common.ObjToString(n[r]));t="["+t.join()+"]"}else{for(i in n)n.hasOwnProperty(i)&&t.push('"'+i+'":'+HSP.Common.ObjToString(n[i]));t="{"+t.join()+"}"}return t}return n.toString()};HSP.Common.Message=function(n,t,i,r){var u,f;switch(i.toLowerCase()){case"success":u="成功！";f="ok-sign";break;case"warning":u="警告！";f="warning-sign";break;case"danger":u="错误！";f="remove-sign";break;case"info":u="信息：";f="info-sign";break;default:u="信息：";f="info-sign"}$('<div class="alert alert-'+i+' alert-dismissible" role="alert">            <button type="button" class="close" data-dismiss="alert" aria-label="Close">                <span aria-hidden="true">&times;<\/span><\/button>            <span class="glyphicon glyphicon-'+f+'" aria-hidden="true"><\/span>            <span class="sr-only"><\/span>            <strong>'+u+"<\/strong> "+t+"        <\/div>").appendTo(n);r&&window.setTimeout(function(){$('[data-dismiss="alert"]').alert("close")},3e3)};
/*
//# sourceMappingURL=Hsp.Common.min.js.map
*/