(function(n,t,i){"use strict";var p=navigator.userAgent.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/),l=!!p,g=l&&parseFloat(p[1])<7,nt=navigator.userAgent.match(/iPad|iPhone|Android|IEMobile|BlackBerry/i),tt=l?"mousedown":"click",it="onwheel"in t?"wheel":"onmousewheel"in i?"mousewheel":"MouseScrollEvent"in t&&"DOMMouseScroll MozMousePixelScroll",w={fired:!1,fire:function(){n(i).on(tt,".dk_options a",function(){var t=n(this),r=t.parent(),i=t.parents(".dk_container").first();return r.hasClass("disabled")||r.closest(".dk_optgroup",i).hasClass("disabled")||(r.hasClass("dk_option_current")||(f(t,i),u(t.parent(),i)),o(i)),!1}).on(it,".dk_options_inner",function(n){var t=n.originalEvent.wheelDelta||-n.originalEvent.deltaY||-n.originalEvent.detail;return l?(this.scrollTop-=Math.round(t/10),!1):t>0&&this.scrollTop<=0||t<0&&this.scrollTop>=this.scrollHeight-this.offsetHeight?!1:!0}).on({"keydown.dk_nav":function(n){var t=e||v;t&&et(n,t)},click:function(t){var i=n(t.target),r;if(e&&i.closest(".dk_container").length===0)o(e);else{if(i.is(".dk_toggle, .dk_label"))return r=i.parents(".dk_container").first(),r.hasClass("dk_open")?o(r):(e&&o(e),r.attr("disabled")||c(r,t)),!1;i.attr("for")&&!!n("#dk_container_"+i.attr("for"))[0]&&n("#dk_container_"+i.attr("for")).trigger("focus.dropkick")}}});this.fired=!0}},r={},b=[],s={left:37,up:38,right:39,down:40,enter:13,tab:9,zero:48,z:90,last:221},h='<div class="dk_container" id="dk_container_{{ id }}" tabindex="{{ tabindex }}" aria-hidden="true"><a class="dk_toggle dk_label">{{ label }}<\/a><div class="dk_options"><ul class="dk_options_inner" role="main" aria-hidden="true"><\/ul><\/div><\/div>',a='<li class="{{ current }}{{ disabled }}"><a data-dk-dropdown-value="{{ value }}">{{ text }}<\/a><\/li>',rt='<li class="dk_optgroup{{ disabled }}"><span>{{ text }}<\/span>',ut={startSpeed:400,theme:!1,changes:!1,syncReverse:!0,nativeMobile:!0,autoWidth:!0},e=null,v=null,f=function(n,t,i){var r=t.data("dropkick"),u=r.$select,o=n.length?n:r.$original,f=o.attr("data-dk-dropdown-value")||n.attr("value"),e=o.text();t.find(".dk_label").html(!e?"&nbsp;":e);i?u.val(f):u.val(f).trigger("change");!r.settings.change||i||r.settings.syncReverse||r.settings.change.call(u,f,e)},o=function(n){n.removeClass("dk_open dk_open_top");e=null},ft=function(i){if(i.data("dropkick").settings.fixedMove)return i.data("dropkick").settings.fixedMove=="up"?!1:!0;var r=i.find(".dk_toggle"),u=i.find(".dk_options").outerHeight(),f=n(t).height()-r.outerHeight()-r.offset().top+n(t).scrollTop(),e=r.offset().top-n(t).scrollTop();return(u<e)?u<f:!0},k=function(n,t,i){var r=n.find(".dk_options_inner"),u=t.prevAll("li").outerHeight()*t.prevAll("li").length+(t.closest(".dk_optgroup",r).length&&t.closest(".dk_optgroup",r).prevAll("li").outerHeight()*t.closest(".dk_optgroup",r).prevAll("li").length),f=r.scrollTop(),e=r.height()+r.scrollTop()-t.outerHeight();(i&&i.type==="keydown"||u<f||u>e)&&r.scrollTop(u)},c=function(n,t){var i=ft(n),r="dk_open"+(i?"":" dk_open_top");n.find(".dk_options").css({top:i?n.find(".dk_toggle").outerHeight()-1:"",bottom:i?"":n.find(".dk_toggle").outerHeight()-1});e=n.addClass(r);k(n,n.find(".dk_option_current"),t)},u=function(n,t,i){t.find(".dk_option_current").removeClass("dk_option_current");n.addClass("dk_option_current");k(t,n,i)},et=function(t,i){var k=t.keyCode,r=i.data("dropkick"),tt=String.fromCharCode(k),it=i.find(".dk_options"),d=i.hasClass("dk_open"),y=it.find("li:not(.disabled)"),h=i.find(".dk_option_current"),l=h.closest(".dk_optgroup",it),ft=y.first().hasClass("dk_optgroup")?y.first().find("li:not(.disabled)").first():y.first(),et=y.last().hasClass("dk_optgroup")?y.last().find("li:not(.disabled)").last():y.last(),p=[],g,rt,a,v,w,nt,b,ut,e;switch(k){case s.enter:d?h.hasClass("disabled")||(f(h.find("a"),i),o(i)):c(i,t);t.preventDefault();break;case s.tab:d&&(h.length&&f(h.find("a"),i),o(i));break;case s.up:d?(v=h.prevAll("li:not(.disabled)").first(),v.hasClass("dk_optgroup")&&(v=v.find("li:not(.disabled)").last()),!v.length&&l.length&&(v=l.prevAll("li:not(.disabled)").first().hasClass("dk_optgroup")?l.prevAll("li:not(.disabled)").first().find("li:not(.disabled)").last():l.prevAll("li:not(.disabled)").first()),u(v.length?v:et,i,t)):c(i,t);t.preventDefault();break;case s.down:d?(a=h.nextAll("li:not(.disabled)").first(),a.hasClass("dk_optgroup")&&(a=a.find("li:not(.disabled)").first()),!a.length&&l.length&&(a=l.nextAll("li:not(.disabled)").first().hasClass("dk_optgroup")?l.nextAll("li:not(.disabled)").first().find("li:not(.disabled)").first():l.nextAll("li:not(.disabled)").first()),u(a.length?a:ft,i,t)):c(i,t);t.preventDefault()}if(k>=s.zero&&k<=s.z){for(w=(new Date).getTime(),r.finder===null||r.finder===undefined?(r.finder=tt.toUpperCase(),r.timer=w):w>parseInt(r.timer,10)+1e3?(r.finder=tt.toUpperCase(),r.timer=w):(r.finder=r.finder+tt.toUpperCase(),r.timer=w),nt=y.find("a"),g=n.unique(r.finder.split("")),b=0,ut=nt.length;b<ut;b++)if(e=n(nt[b]),g.length===1&&e.text()[0].toUpperCase()===g[0]&&p.push(nt[b]),e.html().toUpperCase().indexOf(r.finder)===0&&!e.closest(".dk_optgroup",it).hasClass("disabled")&&r.finder.length>1){f(e,i);u(e.parent(),i,t);break}(r.finder.length>1&&p.length>1&&g.length===1||r.finder.length===1)&&(rt=n.inArray(h.find("a")[0],p),e=n(p).filter(function(n,t){return t!==h[0]&&n>rt}),e=e.length===0?n(p[0]):e,f(e,i),u(e.parent(),i,t));i.data("dropkick",r)}},y=function(t){return n.trim(t).length>0?t:!1},d=function(t,i){var h=function(t){var r=t.val(),u=t.html(),f=t.attr("disabled")!==undefined;return a.replace("{{ value }}",r).replace("{{ current }}",y(r)===i.value&&!f?"dk_option_current":"").replace("{{ disabled }}",f?"disabled":"").replace("{{ text }}",!n.trim(u)?"&nbsp;":n.trim(u))},p=t.replace("{{ id }}",i.id).replace("{{ label }}",i.label).replace("{{ tabindex }}",i.tabindex),o=[],s,r,c,u,f,e,l,v;if(i.options&&i.options.length)for(r=0,c=i.options.length;r<c;r++){if(u=n(i.options[r]),u.is("option"))f=r===0&&u.attr("selected")!==undefined&&u.attr("disabled")!==undefined?null:h(u);else if(u.is("optgroup")){if(f=rt.replace("{{ text }}",u.attr("label")||"---").replace("{{ disabled }}",u.attr("disabled")!==undefined?" disabled":""),n(i.options[r]).children().length){for(f+="<ul>",e=0,l=n(i.options[r]).children().length;e<l;e++)v=n(i.options[r]).children().eq(e),f+=h(v);f+="<\/ul>"}f+="<\/li>"}o[o.length]=f}return s=n(p),s.find(".dk_options_inner").html(o.join("")),s};r.init=function(t){return t=n.extend({},ut,t),h=t.dropdownTemplate?t.dropdownTemplate:h,a=t.optionTemplate?t.optionTemplate:a,w.fired||w.fire(),this.each(function(){var i=n(this),e=i.find(":selected").first(),c=i.children(),r=i.data("dropkick")||{},l=i.attr("id")||i.attr("name"),o=i.parent(".dk_wrap"),a=t.width||o.length?o.width()-(i.innerWidth()-i.width()):i.outerWidth(),p=i.attr("tabindex")||"0",w=!!i.attr("disabled"),f=!1,s;if(r.id)return i;r.settings=t;r.tabindex=p;r.id=l;r.$original=e;r.$select=i;r.value=y(i.val())||y(e.attr("value"));r.label=!e.text()?"&nbsp;":e.text();r.options=c;r.theme=t.theme||"default";f=d(h,r);r.settings.autoWidth&&f.find(".dk_toggle").css({width:a+"px"});w&&f.attr({disabled:"disabled",tabindex:-1});i.before(f).appendTo(f.addClass("dk_theme_"+r.theme));o.length?(o.removeClass("dk_wrap"),f.show()):f.fadeIn(t.startSpeed);r.$dk=f;i.data("dropkick",r);f.addClass(i.attr("class"));f.data("dropkick",r);b[b.length]=i;f.on({"focus.dropkick":function(){v=!f.attr("disabled")&&f.addClass("dk_focus")},"blur.dropkick":function(){f.removeClass("dk_focus");v=null}});if(nt&&r.settings.nativeMobile&&f.addClass("dk_mobile"),r.settings.syncReverse)i.on("change",function(t){var o=i.val(),s=n('a[data-dk-dropdown-value="'+o+'"]',f),e=s.text();f.find(".dk_label").html(!e?"&nbsp;":e);u(s.parent(),f,t);r.settings.change&&r.settings.change.call(i,o,e)});s=i.attr("form")?n("#"+i.attr("form").replace(" ",", #")):i.closest("form");s.length&&s.on("reset",function(){i.dropkick("reset")})})};r.theme=function(t){var i=n(this).data("dropkick"),r=i.$dk,u="dk_theme_"+i.theme;i.theme=t||i.theme;r.removeClass(u).addClass("dk_theme_"+t)};r.reset=function(t){return this.each(function(){var i=n(this).data("dropkick"),r=i.$dk,e=n('a[data-dk-dropdown-value="'+i.$original.attr("value")+'"]',r);i.$original.prop("selected",!0);u(e.parent(),r);f(e,r,!t)})};r.setValue=function(t){return this.each(function(){var i=n(this).data("dropkick").$dk,r=n('.dk_options a[data-dk-dropdown-value="'+t+'"]',i);r.length&&f(r,i)|u(r.parent(),i)})};r.refresh=function(t){return this.each(function(){var i=n(this).data("dropkick"),e=i.$select,r=i.$dk,o,s;i.options=e.children();s=d(h,i).find(".dk_options_inner");r.find(".dk_options_inner").replaceWith(s);i.$original.parent().length||(i.$original=e.find(":selected").first(),i.label=i.$original.text());o=n('a[data-dk-dropdown-value="'+e.val()+'"]',r);u(o.parent(),r);f(o,r,!t)})};r.destroy=function(){return this.each(function(){var t=n(this).data("dropkick");t.$dk.before(function(){return t.$select.removeData("dropkick")}).remove()})};r.clone=function(t,i,r){var u=[];n.each(this,function(f){var o=n(this).data("dropkick"),s=o.settings,e=o.$select.clone();s.autoWidth&&(s.width=o.$dk.find(".dk_label").width());i&&e.attr({id:i});r&&e.attr({name:r});e.removeData("dropkick");t===!1?u[f]=e[0]:(e.dropkick(s),u[f]=e.data("dropkick").$dk[0])})};r.disable=function(t){return this.each(function(){var r=n(this).data("dropkick"),u=r.$select,i=r.$dk;t===!1?(u.removeAttr("disabled"),i.removeAttr("disabled").attr({tabindex:r.tabindex})):(i.hasClass("dk_open")&&o(i),u.attr({disabled:"disabled"}),i.attr({disabled:"disabled",tabindex:-1}))})};n.fn.dropkick=function(n){if(!g){if(r[n])return r[n].apply(this,Array.prototype.slice.call(arguments,1));if(typeof n=="object"||!n)return r.init.apply(this,arguments)}}})(jQuery,window,document);
/*
//# sourceMappingURL=jquery.dropkick.min.js.map
*/