<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>nodom 测试</title>
</head>
<body>

<script type="text/javascript">
    
    if (!window.Worker) {
        alert("不支持window.Worker");
    }

    var worker = new Worker("nodom.js");

    worker.addEventListener('error', function (e) {
        console.log([
            'ERROR: Line ', e.lineno, ' in ', e.filename, ': ', e.message
        ].join(''));
    });

    worker.addEventListener("message", function (event) {

        console.log('Received message ' + event.data);

        //var xhr = new XMLHttpRequest();
        //xhr.open("GET", "serviceUrl"); //serviceUrl为后端返回json数据的接口
        //xhr.onload = function () {
        //    postMessage(xhr.responseText);
        //};
        //xhr.send();
    }, false);

    worker.postMessage('你好吗!');







</script>

</body>
</html>
