<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title></title>

    <link href="/Scripts/themes/default/easyui.css" rel="stylesheet"/>
    <link href="/Scripts/themes/icon.css" rel="stylesheet"/>

    <script src="/Scripts/jquery/jquery-1.12.4.min.js"></script>
    <script src="/Scripts/jquery/jquery-migrate-1.4.1.min.js"></script>

    <script src="/Scripts/jquery.easyui.min.js"></script>
    <script src="/Scripts/locale/easyui-lang-zh_CN.js"></script>

    <script src="../Scripts/ckeditor/ckeditor.js"></script>

    <style type="text/css">
        img { border: 0; }
    </style>

    <script type="text/javascript">
        var editor = null;
        $(function() {
            editor = CKEDITOR.replace('TextArea1');

            $("#Button1").unbind('click').bind('click', function() {
                //editor.setData('这里是需要传递给CKEditor编辑器实例的值');
                var content = editor.getData();

                //editor.updateElement(); //非常重要的一句代码

                //alert(d);

                var sendData = {
                    content: encodeURI(content),
                    rnd: Math.random()
                };

                $.post('/Handler/CkeditorHandler.ashx', sendData, function(data) {
                    if (data.IsSuccess) {

                        //alert(data.Message);
                        //$.messager.show({ title: "操作提示", msg: data.Message, timeout: 3000, showType: "fade" });
                        ////$.messager.alert({ title: "操作提示", msg: data.Message, showType: "info" }); $("#btnPreview").css("display", "none");

                        //$('#systemNoticeGrid').datagrid('reload');
                        //if (isRelease == 1) {
                        //    objInfo.window('destroy');
                        //} else {
                        //    id = data.ID;
                        //    $("#btnPreview").css("display", "inline-block");
                        //}

                    } else {
                        $.messager.alert({ title: "操作提示", msg: data.Message, showType: "error" });
                    }
                });


            });
        });
    </script>

</head>
<body>
<div class="easyui-layout" style="height: 550px; width: 968px;">
    <!--<div data-options="region:'north'" style="height:50px"></div>-->
    <div data-options="region:'south',split:true" style="height: 40px; padding: 5px; text-align: right;">
        <input id="Button1" type="button" value="button"/>
    </div>
    <!--<div data-options="region:'east',split:true" title="East" style="width:100px;"></div>-->
    <!--<div data-options="region:'west',split:true" title="West" style="width:100px;"></div>-->
    <div data-options="region:'center',title:'Main Title',iconCls:'icon-ok'">
        <textarea id="TextArea1" cols="20" rows="16" style="height: auto;">当被问到为何要推出黑白版本时，飞思方面提出了“永恒的表达”这一概念，并且表示新机将会吸引到致力于建筑、人像、风光以及艺术摄影领域的摄影师。</textarea>
    </div>
</div>
</body>
</html>